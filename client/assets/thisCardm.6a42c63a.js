import{u as he,b as be,g as Se}from"./QTooltip.58303aca.js";import{r as A,c as F,w as q,k as i,l as n,f as m,p as I,m as e,q as s,t as k,F as w,y as N,x as ie,n as B,D as ne,v as d,b as U,aK as ke,b6 as we,a1 as g,z as f,A as Ce,aX as v,b7 as C,b8 as ae,b9 as Ne,C as z}from"./index.1766bbda.js";import{k as $e,l as Re,m as Fe}from"./crudThisModel.8ae602e2.js";import{Q as Ve}from"./QItemLabel.d99a0630.js";import{d as qe}from"./debugMixin.3654ed12.js";const Ie={key:0},Ue={key:1},Oe={class:"font-grey200 ps-relative cameraBox-size"},je={class:"ccolumn"},Ae={key:0,class:"ps-absolute parent-fit ccolumn cj-between"},Be={key:0},ze={key:1,class:"ccol-grow ccolumn cj-between"},Pe={class:"row",style:{"border-radius":"15px",height:"100px",overflow:"scroll"}},Qe={class:"fontStyle-sm crow"},De={key:0,class:"crow ia-center"},Me=s("h4",{class:"font-light"}," close",-1),Te=[Me],Ee=s("h4",{class:"font-light"}," Save",-1),Le=[Ee],Ge=s("h4",null," Capure",-1),He=[Ge],We={size:"col-auto row"},Ke={key:1},Xe={class:"font-grey200"},Je={key:2},Ye={class:"bgc-grey200"},Ze=s("i",{class:"ri-upload-2-fill fontStyle-xl font-light"},null,-1),et={class:"font-light"},tt={class:"boxStyle-sm ps-relative crow ia-center cj-center",style:{"min-height":"20vh"}},st=["src"],lt={key:1,class:"",style:{"min-height":"20vh"}},ot={class:"boxStyle-sm p-rlxs radius-xs ps-absolute parent-fit"},it={class:"crow cj-end"},nt={key:0,class:"",style:{}},at={class:"column",style:{width:"100%",height:"100%","background-color":"transparent"}},rt=["onClick"],ct=s("div",{class:"col text-dark"},null,-1),dt={class:"ccolumn cgap-1",style:{}},ut={class:"ccolumn cgap-0 ia-center radius-xs bgc-grey25"},yt=s("i",{class:"ri-folder-fill fontStyle-xl font-grey200"},null,-1),mt=[yt],gt=s("i",{class:"ri-camera-fill fontStyle-xl font-grey200"},null,-1),vt=[gt],pt=s("i",{class:"ri-delete-bin-fill fontStyle-xl font-grey"},null,-1),_t=[pt],ft={key:0,class:"boxStyle-flat bgd-xl"},xt={class:"boxStyle-xxs crow cgap-2 cj-evenly yoflow fontStyle-sm"},ht={class:"ccolumn cgap-2"},bt={class:"ccolumn cgap-2"},St={class:"ccolumn cgap-2"},kt={class:"boxStyle-xxs ccolumn cgap-2"},wt={key:0},Ct={key:0,class:"text-red"},Nt={key:1},$t=s("br",null,null,-1),Rt={key:1,class:"boxStyle-xs radius-sm ccol-9 column text-dark bgd-xl fontStyle-sm"},Ft={class:"crow cgap-1"},Vt={class:"font-grey25"},qt={key:0},It={class:"crow cgap-1 fontStyle-xs"},Ut={class:"ccolumn cgap-2 ccol-3"},Ot={class:"ccol-3 ccolumn cgap-2"},jt={class:"ccol-3 ccolumn cgap-2"},At={key:1},Bt={class:"column q-gutter-sm"},zt={class:"ccolumn"},Pt={key:0,class:"text-red"},Qt={key:1},Dt={class:"ccolumn"},Mt={key:0,class:"text-red"},Tt={key:1},Yt={__name:"thisCardm",props:{_this:{type:Object,default:()=>({})},_pageSettings:{type:Object,default:()=>({})},__thisOps:{type:String,required:!0},__thisOpsStatus:{type:String},active_fileName:{type:String},thisSchemaFile_Rec:{type:String},thisSchemaPath_Rec:{type:String}},emits:["Create_this","Update_this","close"],setup(r,{emit:re}){var W,K,X,J;var{thisSchemaPath:ce,thisSchemaFile:de,_debugObj:u,_validateThis:c}=he(),{_thisMedia:Et,_fileAttributeName:O,hasCameraPermission:j,_cameraBox:p,_fileSourceFoCam:P,_fileAsSRC:x,_fileAsString:ue,_fileAsRaw:Q,_liveFeedSRC:ye,_fileAsSRCIndex:D,_cameraDevice:me,_listCameraSource:M,_selectedCameraById:T,_selectedCameraByface:E,_liveFeedRawStreaming:L,_liveFeedRawStreamingStatus:G,_fileSourceFolder:ge,_fileAsSRCOps:h,_fileAsSRCOpsCall:ve,_resetFileSource:Lt,get_liveFeedRaw:Gt}=be();const y=r,H=re;let $=A(null);qe(y.thisSchemaPath_Rec,y.thisSchemaFile_Rec).then(a=>{a&&($.value=a)});let b=A(!0);var o=F(()=>y._this);F(()=>y._this),ue=F(()=>(y._this[y.active_fileName],alert(y.active_fileName),""));var S=new me;q(p,(a,t)=>!0);let pe=A(null);q(L,(a,t)=>(console.log("liveStream :  __  "+a),pe.value=a,!0)),q(j,(a,t)=>(console.log("cameraPermission"+a),!0)),ce=F(()=>y.thisSchemaPath_Rec),de=F(()=>y.thisSchemaFile_Rec),q(O,(a,t)=>(a&&(o.value[a]=Q.value,typeof Q.value=="object"?o.value.file_={files:a}:o.value.file_={file:a}),!0));let _e=["Home & Living","Fashion & Apparel","Electronics & Gadgets"];y.__thisOps=="Create_this"&&(c("catagory",(W=o.value.catagory)!=null?W:""),c("price",(K=o.value.price)!=null?K:1),c("quantity",(X=o.value.quantity)!=null?X:1),c("currency",(J=o.value.currency)!=null?J:"ETB"));function fe(a){let t=Object.values(u.value).every(V=>V==null),R=O.value?x.value.length:o.value[y.active_fileName].length;if(console.log(R,t),!(t&&R))return!1;H(a)}function xe(){H("close",!1)}return(a,t)=>{var R,V,Y,Z,ee,te,se,le,oe;return i(),n(w,null,[m(ke,{modelValue:e(p),"onUpdate:modelValue":t[4]||(t[4]=l=>U(p)?p.value=l:p=l),class:"overlay-Glass rounded-borders z-top bgc-dark crow",onClick:t[5]||(t[5]=l=>U(p)?p.value=!1:p=!1)},{default:I(()=>[e(P)=="folder"?(i(),n("div",Ie)):e(P)=="camera"?(i(),n("div",Ue,[s("div",Oe,[s("div",je,[s("video",{clas:"",id:"feedRaw",ref_key:"_liveFeedRawStreaming",ref:L,autoplay:"",playsinline:"",style:{"max-width":"100%"}},null,512),s("canvas",{id:"_liveFeedSRC",ref_key:"_liveFeedSRC",ref:ye,style:{display:"none"}},null,512)]),e(j)==!0?(i(),n("div",Ae,[e(G)=="init"?(i(),n("div",Be," Waiting .... ")):k("",!0),e(G)=="ok"?(i(),n("div",ze,[s("div",Pe,[(i(!0),n(w,null,N(e(x),l=>(i(),n("div",{key:l,style:{margin:"5px"}},[m(Se,{src:l,style:{width:"50px"}},null,8,["src"])]))),128))]),s("div",Qe,[e(x).length?(i(),n("div",De,[s("button",{class:"boxStyle-xxs radius-sm bgc-negative",onClick:t[0]||(t[0]=l=>e(S)._stopCamera())},Te),s("button",{class:"boxStyle-xxs radius-sm bgc-posetive",onClick:t[1]||(t[1]=l=>e(S)._saveScreenShoots())},Le),ie(" | ")])):k("",!0),s("button",{class:"boxStyle-xxs radius-sm bgc-grey200",onClick:t[2]||(t[2]=l=>e(S)._screenShoot())},He),s("div",We,[e(M).length?(i(),B($e,{key:0,"switch-toggle-side":"","expand-separator":"",icon:"camera",size:"xs"},{default:I(()=>[(i(!0),n(w,null,N(e(M),l=>(i(),B(Re,{key:l,class:"row q-gutter-sm"},{default:I(()=>[m(ne,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:e(T)==l.deviceId?"blue":"black",label:l.label?l.label.split("_")[1]:"cam",onClick:_=>e(S)._setCameraParam(l.deviceId,!1)},null,8,["color","label","onClick"]),m(ne,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:e(T)==l.deviceId?"orange":"black",label:e(E)?"Front Cam":"Back Cam",onClick:_=>e(S)._setCameraParam(l.deviceId,!e(E))},null,8,["color","label","onClick"])]),_:2},1024))),128))]),_:1})):k("",!0)])])])):k("",!0)])):(i(),n("div",Ke,[s("h4",Xe,d(e(j)),1),s("button",{onClick:t[3]||(t[3]=l=>e(S)._openCamera())}," Try Again.")]))])])):(i(),n("div",Je," Error Accessing System, please allow on settting for Location and Media Devices "))]),_:1},8,["modelValue"]),s("div",{class:"fixed-topleft size-fill layer7 p-sm boxStyle-md crow cj-center ia-center",onClick:t[34]||(t[34]=l=>xe())},[Object.keys(e(o)).length&&e($)?(i(),n("div",{key:0,class:"bgc-light ccolumn radius-xxs",style:{"min-width":"80vw","max-width":"80vw"},onClick:t[33]||(t[33]=we(()=>{},["stop"]))},[s("div",Ye,[s("button",{class:g(["boxStyle-xxs radius-xxs crow cgap-1 ia-center fontStyle-sm",r.__thisOps=="Create_this"?"bgc-system":"bgc-grey"]),onClick:t[6]||(t[6]=l=>fe(r.__thisOps))},[Ze,s("h4",et,d(e(f)[r.__thisOps+"_label"][Number((R=r._pageSettings.language)!=null?R:1)]),1)],2)]),m(Fe,{value:.8,color:"orange"}),s("div",tt,[(V=e(o)[r.active_fileName])!=null&&V?(i(),n("img",{key:0,class:"",src:e(O)?e(x)[e(D)]:e(o)[r.active_fileName][e(D)],style:{}},null,8,st)):(i(),n("div",lt," Image Required ")),s("div",ot,[s("div",it,[e(x)&&e(x).length>1?(i(),n("div",nt,[s("div",at,[(i(!0),n(w,null,N(e(x).length,l=>(i(),n("button",{style:{"border-radius":"0px","box-shadow":"none","background-color":"transparent",border:"0px"},onClick:_=>e(ve)(l-1),key:l},[s("input",{style:Ce(e(h)?"color:red":""),type:"radio"},null,4)],8,rt))),128))])])):k("",!0),ct,s("div",dt,[s("input",{type:"file",multiple:"",ref:"openFolder",style:{display:"none"},onChange:t[7]||(t[7]=l=>e(ge)(l,r.active_fileName))},null,544),s("div",ut,[s("button",{class:"boxStyle-xxs fontStyle-md font-grey25",style:{"min-width":"2vw"},onClick:t[8]||(t[8]=l=>a.$refs.openFolder.click())},mt),s("button",{class:"boxStyle-xxs",style:{"min-width":"2vw"},onClick:t[9]||(t[9]=l=>e(S)._openCamera("saleitgr"))},vt),s("button",{style:{"background-color":"transparent",border:"0px"},onClick:t[10]||(t[10]=l=>U(h)?h.value=!e(h):h=!e(h)),class:g(e(h)?"font-negative":"")},_t,2)])])])])]),r.__thisOps=="Create_this"?(i(),n("div",ft,[s("div",xt,[s("div",ht,[s("h5",{class:g(e(u).quantity?"font-negative":"font-primary")},d(e(f).quantity[Number((Y=r._pageSettings.language)!=null?Y:1)]),3),v(s("input",{type:"Number",class:"bgc-grey boxStyle-xxs radius-xxs",style:{"max-width":"20vw"},"onUpdate:modelValue":t[11]||(t[11]=l=>e(o).quantity=l),onInput:t[12]||(t[12]=l=>e(c)("quantity",e(o).quantity))},null,544),[[C,e(o).quantity]])]),s("div",bt,[s("h5",{class:g(e(u).price?"font-negative":"font-primary")},d(e(f).price[Number((Z=r._pageSettings.language)!=null?Z:1)]),3),v(s("input",{type:"Number",class:"bgc-grey boxStyle-xxs radius-xxs",style:{"max-width":"20vw"},"onUpdate:modelValue":t[13]||(t[13]=l=>e(o).price=l),onInput:t[14]||(t[14]=l=>e(c)("price",e(o).price))},null,544),[[C,e(o).price]])]),s("div",St,[s("h5",{class:g(e(u).currency?"font-negative":"font-primary")},d(e(f).currency[Number((ee=r._pageSettings.language)!=null?ee:1)]),3),v(s("select",{class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[15]||(t[15]=l=>e(o).currency=l),onInput:t[16]||(t[16]=l=>e(c)("currency",e(o).currency))},[(i(!0),n(w,null,N(e($).currency.enum,l=>(i(),n("option",{key:l},d(l),1))),128))],544),[[ae,e(o).currency]])])]),s("div",null,[s("div",kt,[s("h5",{class:g(e(u).catagory?"font-negative":"font-primary")},d(e(f).catagory[Number((te=r._pageSettings.language)!=null?te:1)]),3),v(s("select",{type:"Number",class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[17]||(t[17]=l=>e(o).catagory=l),onInput:t[18]||(t[18]=l=>{var _;return e(c)("catagory",(_=e(o).catagory)!=null?_:"Others")})},[(i(!0),n(w,null,N(e($).catagory.enum,l=>(i(),n("option",{key:l},d(l),1))),128))],544),[[ae,e(o).catagory]])])]),e(_e).includes(e(o).catagory)?(i(),n("div",wt,[(i(!0),n(w,null,N(e($).usage.enum,l=>(i(),B(Ne,{"keep-color":"","left-label":"",size:"md",modelValue:e(o).usage,"onUpdate:modelValue":t[19]||(t[19]=_=>e(o).usage=_),val:l,label:l,color:"black",key:l,onChange:t[20]||(t[20]=_=>e(c)("usage",e(o).usage))},null,8,["modelValue","val","label"]))),128)),e(u).usage?(i(),n("u",Ct," Used or New ? ")):(i(),n("u",Nt," Used or New ? "))])):k("",!0),$t])):(i(),n("div",Rt,[s("div",Ft,[s("button",{onClick:t[21]||(t[21]=l=>U(b)?b.value=!e(b):b=!e(b)),class:"boxStyle-xxs"},[s("h5",Vt,d(e(b)?"Next":"Back"),1)])]),m(z,{inset:""}),e(b)?(i(),n("div",qt,[s("div",It,[s("div",Ut,[s("h5",{class:g(e(u).quantity?"font-negative":"font-primary")},d(e(f).quantity[Number((se=r._pageSettings.language)!=null?se:1)]),3),v(s("input",{type:"Number",class:"bgc-grey boxStyle-xxs radius-xxs",style:{"max-width":"20vw"},"onUpdate:modelValue":t[22]||(t[22]=l=>e(o).quantity=l),onInput:t[23]||(t[23]=l=>e(c)("quantity",e(o).quantity))},null,544),[[C,e(o).quantity]])]),s("div",Ot,[s("h5",{class:g(e(u).price?"font-negative":"font-primary")},d(e(f).price[Number((le=r._pageSettings.language)!=null?le:1)]),3),v(s("input",{type:"Number",class:"bgc-grey boxStyle-xxs radius-xxs",style:{"max-width":"20vw"},"onUpdate:modelValue":t[24]||(t[24]=l=>e(o).price=l),onInput:t[25]||(t[25]=l=>e(c)("price",e(o).price))},null,544),[[C,e(o).price]])]),s("div",jt,[s("h5",{class:g(e(u).discount?"font-negative":"font-primary")},d(e(f).discount[Number((oe=r._pageSettings.language)!=null?oe:1)]),3),v(s("input",{type:"Number",class:"bgc-grey boxStyle-xxs radius-xxs",style:{"max-width":"20vw"},"onUpdate:modelValue":t[26]||(t[26]=l=>e(o).discount=l),onInput:t[27]||(t[27]=l=>e(c)("discount",e(o).discount)),onChange:t[28]||(t[28]=l=>e(c)("discount",e(o).discount))},null,544),[[C,e(o).discount]])])])])):(i(),n("div",At,[s("div",Bt,[s("div",zt,[v(s("input",{type:"text","onUpdate:modelValue":t[29]||(t[29]=l=>e(o).header=l),label:"Header",onChange:t[30]||(t[30]=l=>e(c)("header",e(o).header))},null,544),[[C,e(o).header]]),e(u).header?(i(),n("u",Pt," Title ")):(i(),n("u",Qt," Title "))]),s("div",Dt,[v(s("input",{type:"textArea",class:"","onUpdate:modelValue":t[31]||(t[31]=l=>e(o).content=l),onChange:t[32]||(t[32]=l=>e(c)("content",e(o).content)),label:"Content",style:{},filled:"",autogrow:""},null,544),[[C,e(o).content]]),e(u).content?(i(),n("u",Mt," Description ")):(i(),n("u",Tt," Description "))])]),m(z,{inset:""}),m(Ve,{caption:""},{default:I(()=>[ie(" Notes to be displayed !")]),_:1})])),m(z,{inset:""})]))])):k("",!0)])],64)}}};export{Yt as _};
