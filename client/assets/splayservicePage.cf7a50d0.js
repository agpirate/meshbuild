import{q as dt,c as vt,d as _t,b as ft,a as ht,u as mt,e as gt,f as yt,g as pl,o as bt,h as pt,_ as Cl}from"./saleitModel.8dad7d57.js";import{G as Ct,an as wt,aC as St,ao as xt,bc as Ot,r as R,c as M,aG as Dt,h as ze,ai as kt,C as He,g as It,bd as Rt,ac as Ee,u as Mt,w as be,o as At,a as Lt,k as Bt,l as f,m as x,n as t,p as ee,q as C,t as a,f as d,b as Q,v as z,x as m,E,y as pe,F as ce,z as Ce,be as wl,a$ as Ft,b8 as Pt,D as qt,bb as Sl}from"./index.61380e2f.js";import{U as jt,u as Ut,a as Qt,b as $t,c as zt,d as Et,e as Nt,f as Ht,t as Vt,s as Tt,g as Gt,h as Kt,_ as xl,k as Wt,l as Ol}from"./saleitChatDatas.546160c2.js";import{Q as Yt,a as Jt,b as Xt}from"./QCarousel.b84ee10e.js";import"./QItemLabel.c628c1c5.js";import{_ as Zt}from"./confirmButton.10df21e0.js";import{u as ea}from"./use-quasar.1f5de62c.js";import{u as la,a as ta,d as Dl,b as de,_ as aa}from"./debugMixin.f965fe05.js";import{saleUsage as Ne,mainSaleCatagories as kl}from"./saleitSchemas.0440e56e.js";import{u as sa,a as ia}from"./servicefilter.9376600b.js";import"./touch.9135741d.js";import"./axios.05cf8750.js";Ct({name:"QRating",props:{...wt,...St,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(s,{slots:we,emit:Se}){const{proxy:{$q:Ae}}=It(),Ve=xt(s),le=Ot(s),Le=Rt(le),B=R(0);let te={};const V=M(()=>s.readonly!==!0&&s.disable!==!0),ve=M(()=>`q-rating row inline items-center q-rating--${V.value===!0?"":"non-"}editable`+(s.noDimming===!0?" q-rating--no-dimming":"")+(s.disable===!0?" disabled":"")+(s.color!==void 0&&Array.isArray(s.color)===!1?` text-${s.color}`:"")),_e=M(()=>{const c=Array.isArray(s.icon)===!0?s.icon.length:0,r=Array.isArray(s.iconSelected)===!0?s.iconSelected.length:0,A=Array.isArray(s.iconHalf)===!0?s.iconHalf.length:0,G=Array.isArray(s.color)===!0?s.color.length:0,N=Array.isArray(s.colorSelected)===!0?s.colorSelected.length:0,u=Array.isArray(s.colorHalf)===!0?s.colorHalf.length:0;return{iconLen:c,icon:c>0?s.icon[c-1]:s.icon,selIconLen:r,selIcon:r>0?s.iconSelected[r-1]:s.iconSelected,halfIconLen:A,halfIcon:A>0?s.iconHalf[r-1]:s.iconHalf,colorLen:G,color:G>0?s.color[G-1]:s.color,selColorLen:N,selColor:N>0?s.colorSelected[N-1]:s.colorSelected,halfColorLen:u,halfColor:u>0?s.colorHalf[u-1]:s.colorHalf}}),$=M(()=>{if(typeof s.iconAriaLabel=="string"){const c=s.iconAriaLabel.length!==0?`${s.iconAriaLabel} `:"";return r=>`${c}${r}`}if(Array.isArray(s.iconAriaLabel)===!0){const c=s.iconAriaLabel.length;if(c>0)return r=>s.iconAriaLabel[Math.min(r,c)-1]}return(c,r)=>`${r} ${c}`}),F=M(()=>{const c=[],r=_e.value,A=Math.ceil(s.modelValue),G=V.value===!0?0:null,N=s.iconHalf===void 0||A===s.modelValue?-1:A;for(let u=1;u<=s.max;u++){const P=B.value===0&&s.modelValue>=u||B.value>0&&B.value>=u,K=N===u&&B.value<u,fe=B.value>0&&(K===!0?A:s.modelValue)>=u&&B.value<u,Be=K===!0?u<=r.halfColorLen?s.colorHalf[u-1]:r.halfColor:r.selColor!==void 0&&P===!0?u<=r.selColorLen?s.colorSelected[u-1]:r.selColor:u<=r.colorLen?s.color[u-1]:r.color,Ge=(K===!0?u<=r.halfIconLen?s.iconHalf[u-1]:r.halfIcon:r.selIcon!==void 0&&(P===!0||fe===!0)?u<=r.selIconLen?s.iconSelected[u-1]:r.selIcon:u<=r.iconLen?s.icon[u-1]:r.icon)||Ae.iconSet.rating.icon;c.push({name:(K===!0?u<=r.halfIconLen?s.iconHalf[u-1]:r.halfIcon:r.selIcon!==void 0&&(P===!0||fe===!0)?u<=r.selIconLen?s.iconSelected[u-1]:r.selIcon:u<=r.iconLen?s.icon[u-1]:r.icon)||Ae.iconSet.rating.icon,attrs:{tabindex:G,role:"radio","aria-checked":s.modelValue===u?"true":"false","aria-label":$.value(u,Ge)},iconClass:"q-rating__icon"+(P===!0||K===!0?" q-rating__icon--active":"")+(fe===!0?" q-rating__icon--exselected":"")+(B.value===u?" q-rating__icon--hovered":"")+(Be!==void 0?` text-${Be}`:"")})}return c}),Te=M(()=>{const c={role:"radiogroup"};return s.disable===!0&&(c["aria-disabled"]="true"),s.readonly===!0&&(c["aria-readonly"]="true"),c});function xe(c){if(V.value===!0){const r=dt(parseInt(c,10),1,parseInt(s.max,10)),A=s.noReset!==!0&&s.modelValue===r?0:r;A!==s.modelValue&&Se("update:modelValue",A),B.value=0}}function T(c){V.value===!0&&(B.value=c)}function ne(c,r){switch(c.keyCode){case 13:case 32:return xe(r),Ee(c);case 37:case 40:return te[`rt${r-1}`]&&te[`rt${r-1}`].focus(),Ee(c);case 39:case 38:return te[`rt${r+1}`]&&te[`rt${r+1}`].focus(),Ee(c)}}function Oe(){B.value=0}return Dt(()=>{te={}}),()=>{const c=[];return F.value.forEach(({iconClass:r,name:A,attrs:G},N)=>{const u=N+1;c.push(ze("div",{key:u,ref:P=>{te[`rt${u}`]=P},class:"q-rating__icon-container flex flex-center",...G,onClick(){xe(u)},onMouseover(){T(u)},onMouseout:Oe,onFocus(){T(u)},onBlur:Oe,onKeyup(P){ne(P,u)}},kt(we[`tip-${u}`],[ze(He,{class:r,name:A})])))}),s.name!==void 0&&s.disable!==!0&&Le(c,"push"),ze("div",{class:ve.value,style:Ve.value,...Te.value},c)}}});const na={class:"bgc-light"},oa={key:0,class:"row q-pa-sm"},ra={class:"cardPopDetails",style:{"min-width":"90vw"}},ua={class:"row no-wrap q-gutter-sm"},ca=a("div",null,null,-1),da=a("div",{class:"horizontalLineBlack"},null,-1),va=a("div",{class:"horizontalLineBlack"},null,-1),_a={key:0,class:"col-auto row justify-start no-padding no-margine q-gutter-xs",style:{border:"0px solid orange","max-height":"40px"}},fa={class:"col-auto transparent row justify-end items-center",style:{top:"0px",right:"0px"}},ha={style:{color:"grey","font-size":"0.6em"}},ma={style:{height:"600px",width:"90vw","overflow-y":"scroll"}},ga={class:"cardPopDetails-title",style:{width:"50%",overflow:"hidden"}},ya={style:{}},ba={class:"cardPopDetails-content bgc-light"},pa={class:"row q-px-xs"},Ca={class:"col"},wa={class:"cardPopDetails-meta"},Sa={class:"fontStyle-md"},xa={key:0,class:"text-grey q-px-sm"},Oa={key:1,class:"text-grey q-px-sm"},Da={key:0,class:"textStylea"},ka={style:{color:"grey","font-size":"0.9em"}},Ia=a("div",{style:{height:"1px",width:"100%","background-color":"white",padding:"2px",margin:"2px"}},null,-1),Ra={class:"row cardPopDetails-items"},Ma={class:"fontStyle-md"},Aa=a("div",null,"Quantity",-1),La={class:"boxbstyle row justify-center",style:{"border-radius":"7%"}},Ba={class:"fontStyle-md"},Fa=a("div",null,"Buyers",-1),Pa={class:"boxbstyle row justify-center",style:{"border-radius":"7%"}},qa={class:"cardPopDetails-items"},ja={class:"fontStyle-md"},Ua={class:"boxbstyle"},Qa=a("div",{class:"verticalLineBlack"},null,-1),$a={class:"fontStyle-md"},za={class:"boxbstyle"},Ea=a("div",{class:"verticalLine"},null,-1),Na={class:"fontStyle-md"},Ha={class:"boxbstyle"},Va={class:"col-auto boxbstyle column justify-center items-center q-ma-sm"},Ta=a("div",null,"Unit Price",-1),Ga={class:"row justify-evenly q-gutter-sm q-py-sm fontStyle-md"},Ka=a("p",null,"Direct Buy (Qty = 1)",-1),Wa=a("p",null,"Add to cart",-1),Ya={key:1,class:"fontestyle text-white"},Ja={class:"column",style:{"background-color":"orange",border:"1px dashed #d6d6d6","border-radius":"4px",padding:"2px"}},Xa={key:0},Za={class:"col bgc-light row fit"},es={class:"q-pa-sm q-gutter-sm row justify-between"},ls={size:"col-auto row"},ts=a("div",null,"Search Date:",-1),as={class:"row justify-between q-gutter-sm q-px-xs"},ss=a("div",{class:"text-grey"},null,-1),is=a("div",null,"Show Store:",-1),ns={class:"text-black"},os=a("div",null,"Serve Status:",-1),rs={class:"text-black"},us={key:0,class:"col"},cs=a("div",{class:"crow cj-center ia-center",style:{"min-height":"85vh"}},[a("div",{class:"boxStyle-sm radius-xxs fontStyle-md bgc-grey175",style:{"max-width":"60vw"}},[a("h4",{class:"font-grey200"}," Sorry, mesh - mobile client is not available right now "),a("p",null," we're happy to let you know that the app will be released after hours. "),a("hr"),a("span",null," mesh \xA9 2025")])],-1),ui={__name:"splayservicePage",props:{_profile:{type:Object,default:()=>({})},_acctype:{type:Object,default:()=>{}},lytCreatRow:{type:Boolean,default:!1},lytSearchRow:{type:String,default:""},isScrolled:{type:Boolean,default:!1},isScrolledUp:{type:Boolean,default:!1},_pageSetting:{type:Object,default:()=>({})},_thisMedia:{type:Object,default:()=>({})},_tableModel_Cols_Props:{type:Object,default:()=>({})},_tableModel_Row_Props:{type:Object,default:()=>({})},visible_modelCols_label_Props:{type:Object,default:()=>({})}},setup(s){const{thisSchemaPath:we,thisSchemaFile:Se,_debugObj:Ae,_validateThis:Ve}=vt();let le=R(null),Le=R("Are You Sure ?");const{Loadingpage:B,Loadingevent:te,DoneMessage:V,WarnthisMessage:ve,timerLoadevent:_e,timerDone:$,timerError:F}=la(),{status_KnowthisMessage:Te,status_timerInformthis:xe}=_t();var{_fileAttributeName:T,_cameraBox:ne,_fileSourceFoCam:Oe,_fileAsSRC:c,_fileAsRaw:r,_liveFeedSRC:A,_fileAsSRCIndex:G,_cameraDevice:N,_listCameraSource:u,_selectedCameraById:P,_selectedCameraByface:K,_liveFeedRawStreaming:fe,_fileSourceFolder:Be,_fileAsSRCOps:Ge,_fileAsSRCOpsCall:ds,_resetFileSource:vs}=ft();let{pageName:Il,_pageSettings:W,metaData:Rl,pagination:Ml,paginationId:Ke,paginationCard:_s}=sa(),{createKey:fs,updateKey:hs,delKey:ms,_this_Model_Url:Al,_thisService:We,activeRow:Ll,message:gs,messageTimer:ys,createData:Bl,updateData:Fl,readData:bs,readFData:ps,deleteData:Cs}=jt();const Pl=ea(),ql=Mt();let v=s;var{active_fileName:Ye,_is_this_netPrice:Je,_is_this_open:Xe,__thisBox:D,__thisIndex:y,__thisOps:h,__thisOpsStatus:w,__thissubOps:jl,__thissubOpsStatus:Ul,active_foreignModel:Ql,active_foreignModelDialog:Ze,active_foreignModelIndex:p,active_foreignModelOps:ae,active_foreignModelOpsStatus:De,active_foreignModelsubOps:$l}=ht();let{userInformation:Fe,modelRow_Builder:zl,foreign_modelRow_Builder:ws,foreign__tableModel_Cols:El}=mt(),{Model_Name:Nl,Model_Url:Hl,saleit_schemaPath:el,saleit_schemaFile:ll,locked_modelCols_label:Ss,flexInvisible_modelCols_labels:xs,useric_modelCols_label:Os}=gt(),{_this_Schema:Vl,_tableModel_Cols:Tl,_tableModel_Row:Gl,all_modelCols_label:Ds,allowed_modelCols:ks,visible_modelCols_label:Kl}=yt(),{_this_Query:b,accModel_Row:Is,_this_Rows:q,_this:i,_this_RowsChecked:Rs,_this_userOwned:Pe}=Ut(),{saleitClient_Name:Ms,saleitClient_schemaPath:Wl,saleitClient_schemaFile:Yl,locklabels_saleitClient_Cols:As,invislabels_saleitClient_Cols:tl,userlabels_saleitClient_Cols:Jl,plugable_client_Cols:Xl,labels_plugable_client_Cols:Zl}=Qt(),{saleitClient_Schema:al,saleitClient_Cols:ke,saleitClient_Row:he,alllabels_saleitClient_Cols:Ls,acclabels_saleitClient_Cols:Bs,vislabels_saleitClient_Cols:qe}=$t(),{this_client_Query:me,this_client_enableFilter:Ie,this_client_Rows:se,this_client_RowsChecked:Fs,this_client_Row:k,_this_client_Details:Ps,this_client_userOwned:qs}=zt();Et();let{saleitChat_Schema:js,saleitChat_Cols:Us,saleitChat_Row:et,alllabels_saleitChat_Cols:Qs,acclabels_saleitChat_Cols:$s,vislabels_saleitChat_Cols:zs}=Nt(),{this_chat_Query:je,this_chat_Rows:Re,this_chat_RowsChecked:Es,this_chat_Row:ie,_this_chat_Details:Ns,this_chat_userOwned:lt}=Ht();var{priceFilter:tt,_serveStatus:oe,_storeStatus:ge,_recordDate:Y,totalPrice:Hs,storeItems:Vs,serveItems:Ts,_enableRowFilter:at,filterOccured:Gs,_thisFiltering:Ks,clearFilters:Ws,_filteredRow:Ys}=ia();at.value=!0,ta(Rl),we.value=el,Se.value=ll,Dl(el,ll).then(l=>(l&&(Vl.value=l),!0)),We.value=Vt();const J=Tt(),j=Gt(),re=Kt();M(()=>(console.log("searchig",v.lytSearchRow),{search:v.lytSearchRow,Requested:oe.Requested,Queed:oe.Queed,Served:oe.Served,cart:ge.cart,buy:ge.buy,recordDate:Y.value,priceFilter:tt})),R(!1),R({}),Fe.value=v,M(()=>{var l,e;return alert("aaaaa"),(l=Fe._acctype)!=null&&l&&(e=Fe._acctype[Nl])!=null?e:null}),console.log(v,"objeprops");let sl=R(null);be(sl,(l,e)=>l!=null&&l?(Tl.value=l!=null?l:null,st(),!0):null),sl.value=v._tableModel_Cols_Props,Gl=M(()=>{var l,e;return(l=v._tableModel_Row_Props)!=null&&l&&(e=v._tableModel_Row_Props)!=null?e:null}),Kl=M(()=>{var l,e;return(l=v.visible_modelCols_label_Props)!=null&&l&&(e=v.visible_modelCols_label_Props)!=null?e:null}),Pl.screen.lt.lg&&tl.value.push("saleitID","orderID","confirmID","store","served","currency","price");async function st(){await Dl(Wl,Yl).then(e=>(e&&(al.value=e),!0));let l=await El(al.value,tl.value);return ke.value=l[0],qe.value=l[1],await it(ke.value),ke.value=[...ke.value,...Xl],qe.value=[...Zl,...qe.value],!1}async function it(l){return he.value=await zl(Jl.value,l),he.value.orderID=await xl(),he.value.userID=v._profile.id,!0}be(v._pageSetting,(l,e)=>(W.value=Object.assign(W.value,l),!0));let nt=M(()=>v.lytCreatRow);be(nt,async(l,e)=>(await U("Create_this",null),D.value=!0,!0)),be(i,(l,e)=>{if(Ll.value=l,Al.value=Hl,y.value==null)return!0;try{Pe.value=l.userID==v._profile.id,_is_chatOwner.value=l.userID==v._profile.id,Xe.value=l.quantity&&l.price,Je.value=parseInt(l.discount?l.discount:l.price)}catch{[Pe.value,Xe.value,Je.value]=[!1,!1,!1]}return!0});let il=R(null);il=M(()=>J.getstatus_Rows),be(il,async(l,e)=>{let o;if(l==null)o="No Data.";else if(l=="noupdates")o="No Updates.";else if(l==!1)o="Locked";else if(l==!0)o="Loading ....";else if(l=="BadConnection")o="Offline";else return o=l,l=="Unauthorized"&&_logOut(),!1;return xe(5e3,o,"Product & Services"),!0});var Ue={};async function nl(l=null,e=null){var I,X,Z,n,g,S,H,vl,_l,fl,hl,ml,gl,yl;w.value="loading",J.set_syncLock(!0),clearInterval(ue),_e({this_Query:0},0,"Updating...");let o=b.value,_="-or";if(q.value=[],Ue={},b.value={},ae.value=!1,b.value.limits=100,b.value.skips=0,(I=Ke.value)!=null&&I)b.value.skips=(X=o.skips)!=null?X:0,b.value.limits=(Z=o.skips)!=null?Z:0,b.value.qweight=[1,10,(n=Ne[e])!=null?n:1],_="productSpecific-and",Ml.value.rowsNumber+=2,b.value.limits+=2,b.value.skips+=2,Ke.value=null;else if(l=="lytSearchRow")W.value.tableView="main",b.value.content=v.lytSearchRow;else if(l)W.value.tableView="main",["catagory","usage","trend","paginationID"].includes(l)?(b.value.qweight=[1,(S=kl[e])!=null?S:((g=o.qweight)!=null?g:[0,0])[1],(H=Ne[e])!=null?H:0],_="productSpecific-and"):b.value[l]=e!=null?e:null;else if(e)W.value.tableView="main",ae.value="view",b.value.id=e;else{W.value.tableView="cards";let bl=(vl=aa._getsession("qw"))!=null?vl:!1;b.value.qweight=bl?bl.split(","):[1,1,1,"userSpecific"],_="userSpecific-or"}return Ue.catagory=(fl=(_l=kl[e])!=null?_l:b.value[1])!=null?fl:"HouseHolds",Ue.usage=(gl=(ml=Ne[e])!=null?ml:((hl=b.value.qweight)!=null?hl:[1,1,1,1])[2])!=null?gl:"New",b.value.geoSearch=(yl=W.value.geoSearch.value)!=null?yl:"off",b.value.queryOperator=_,await cl(J,b.value),!0}let ue="";q=M(()=>ol(J.getDatas));async function Qe(){var l;return se.value=null,Pe.value||(me.value.userID=v._profile.id),me.value.saleitID=(l=i.value.id)!=null?l:"",me.value.store="buy",me.value.queryOperator="-and",await cl(j,me.value),!0}async function ot(){se.value=null,lt.value,je.value.saleitID=i.value.id,je.value.queryOperator="-and";let l=await dl(re,je.value);return l&&(Re.value=l,O(ae.value,null)),!0}se=M(()=>ol(j.getDatas));function ol(l){return w.value=!1,Array.isArray(l)?l:[]}async function U(l=null,e=null,o=null){var _;if(o&&o.set_syncLock(!0),T.value=null,L.value=null,D.value=null,jl.value=null,Ul.value=null,w.value=w.value?w.value:null,y.value=e,h.value=l,e==null)i.value=Object.assign({},v._tableModel_Row_Props),i.value.geolocation=v._profile.geolocation,i.value.location=v._profile.location,i.value.currency=(_=v._profile.currency)!=null?_:"",i.value.userID=v._profile.id,i.value.phoneCode=v._profile.phoneCode,i.value.phone=v._profile.phone;else try{i.value=Object.assign({},q.value[e])}catch{}return Ye.value="saleitgr",!0}async function O(l,e,o=null){var _,I,X,Z;o&&o.set_syncLock(!0),Ql.value=null,Ze.value=null,$l.value=null,De.value=De.value?De.value:null,p.value=e,ae.value=l;try{if(h.value=="comments")e==null?(ie.value=Object.assign({},et.value),ie.value.userID=v._profile.id,ie.value.saleitID=(I=(_=i.value)==null?void 0:_.id)!=null?I:""):ie.value=Object.assign({},Re.value[e]);else if(e==null||h.value=="details")k.value=Object.assign({},he.value),k.value.userID=v._profile.id,k.value.phoneCode=v._profile.phoneCode,k.value.currency=i.value.currency,k.value.location=i.value.location,k.value.geolocation=i.value.geolocation,k.value.saleitID=(Z=(X=i.value)==null?void 0:X.id)!=null?Z:"",k.value.orderID=await xl();else try{k.value=Object.assign({},se.value[e])}catch{}}catch{}return!0}const rl=async function(l,e,o){let _=p.value==l;return l==null||_&&ae.value==e?(await U(o,null,J),await O(null,null,o=="clients"?j:""),!0):!1};R("Orders List..");let $e=R([]),ul={_add:async()=>(p.value=null,k.value=Object.assign({},he.value),!0),selectedIndex_:async(l=null,e=null,o=null)=>(De.value=e,await rl(l,e,o)?!1:(We.value.set_syncLock(!0),await O(e,l,j),ae.value=e,!0)),selectedIndex_RowDetail:async(l,e=null,o=null)=>{let _="clients";return ae.value=o,await rl(e,o,_)?!1:(y.value=0,await dl(J,{id:l}).then(async I=>{I&&(q.value[y.value]=I[y.value],await U(_,y.value),await O(null,e))}),!0)},_remove:async()=>{if(h.value=="comments"){let l={id:i.value.id,comments:ie.value};l.thisOps=h.value,l.thisSubOps="delete";let e=await re.deleteData(l,{});if(!e.status)return F(500,"Error Creating",""),!1;$(5e3,"Removed",""),q.value[y.value]=e.data.data,Re.value.splice(p.value,1),U(h.value,y.value),O(h.value,null)}else{let l={id:i.value.id,clients:k.value};l.thisOps=h.value,l.thisSubOps="delete";let e=await j.deleteData(l);if(!e.status)return F(500,"Error Creating",""),!1;$(5e3,"Removed",""),q.value[y.value]=e.data.data,se.value.splice(p.value,1),await U(h.value,y.value),await O(null,null)}return!0},_update_foreign:async()=>{var l;if(p.value=null,h.value=="comments"){let e={id:i.value.id,comments:ie.value};e.thisOps=h.value,e.thisSubOps="update";let o=await re.updateData(e,{});return o.status?($(5e3,"updated",""),q.value[y.value]=o.data.data,typeof p.value=="number"&&(Re.value[p.value]=o.data.foreignData,p.value=null),await O("update",p.value),!0):(F(500,"Error Updating",""),!1)}else{let e={id:i.value.id,clients:k.value};e.thisOps=h.value,e.thisSubOps="update";let o=await j.updateData(e,{});return o.status?($(5e3,"updated",""),$e.value.push((l=o.data.data.id)!=null?l:null),q.value[y.value]=o.data.data,typeof p.value=="number"&&(se.value[p.value]=o.data.foreignData,p.value=null),await Qe(),await U("clients",y.value),await O("update",p.value),!0):(F(500,"Error Updating",""),!1)}},_create_foreign:async()=>{var l;if(h.value=="comments"){let e={id:i.value.id,comments:ie.value};if(e.thisOps=h.value,e.thisSubOps="create",console.log("commenting",e),!(await re.createData(e,{})).status)return F(500,"Error Creating",""),!1;$(5e3,"Created",""),await U(h.value,y.value),await O(null,null),await ot()}else{let e={id:i.value.id,clients:k.value};e.clients.store="buy",e.thisOps=h.value,e.thisSubOps="create";let o=await j.createData(e,{});if(!o.status)return F(500,"Error Creating",""),!1;$(5e3,"Ordered",""),$e.value.push((l=o.data.data.id)!=null?l:null),q.value[y.value]=o.data.data,await U(h.value,y.value),await O(null,null),await Qe()}return!0},_directBuyer:async(l="buy",e=!0)=>{var I;let o={id:i.value.id,clients:k.value};o.clients.store=l;let _;return e?_=await j.createData(o,{}):_=await j.updateData(o,{}),_.status?($(5e3,l=="buy"?"Ordered":"Saved",""),$e.value.push((I=_.data.data.id)!=null?I:null),q.value[y.value]=_.data.data,typeof p.value=="number"&&!Ze.value?se.value[p.value]=_.data.foreignData:(p.value=null,await Qe()),await U("clients",y.value),await O(null,p.value),!0):(F(500,"Error Creating",""),!1)}};async function rt(){return w.value=!0,i.value.thisOps=h.value,i.value.thisSubOps="new",await Bl().then(async l=>(_e({createData:1},1,"Updating..."),l?(D.value=!1,Il!="myservice"?ql.push("/play/sMyServices"):nl("userID",v._profile.id)):(w.value=!1,T.value=null,!0))).catch(l=>(F(5e3,"Error Creating","Error Creating"+l),console.error(l),T.value=null,D.value=!1,!1))}async function ut(){return w.value=!0,i.value.thisOps=h.value,i.value.thisSubOps="update",await Fl().then(async l=>(_e({updateData:1},1,"Updating..."),l&&($(5e3,"Item Updated","Succefully Updated"),q.value[y.value]=Object.assign({},l),D.value=!1),w.value=!1,T.value=null,!0)).catch(l=>(F(5e3,"Error Updating","Error Updating"+l),w.value=!1,D.value=!1,T.value=null,!1))}let ct=R(25e3);const cl=async(l,e)=>(clearInterval(ue),await l.set_syncQuery(e),l.set_syncLock(!1),l.asyncDatas(),setTimeout(function(){clearInterval(ue),ue=setInterval(l.asyncDatas,ct.value)},5e3),!0),dl=async(l,e)=>await l.readFData(e).then(o=>o.status?o.data:!1);R(0);let L=R(null),Me=R(!1);R(!1);var ye=new N;return At(()=>{clearInterval(ue),U(null,null,J),O(null,null,j),O(null,null,re)}),nl("userID",v._profile.id),Lt(async()=>(clearInterval(ue),U(null,null,J),O(null,null,j),O(null,null,re),!0)),(l,e)=>{var _,I,X,Z;const o=Bt("thisCard");return f(),x(ce,null,[t(D)?(f(),ee(de,{key:0,isOpen:t(D),bg:"bgd-md",onEmitClick0:e[3]||(e[3]=n=>Q(D)?D.value=n:D=n)},{default:C(()=>[a("div",na,[d(o,{_this:t(i),_pageSettings:t(W),__thisOpsStatus:t(w),__thisOps:t(h),active_fileName:t(Ye),thisSchemaFile_Rec:t(Se),thisSchemaPath_Rec:t(we),onClose:e[0]||(e[0]=n=>Q(D)?D.value=n:D=n),onUpdate_this:e[1]||(e[1]=n=>ut()),onCreate_this:e[2]||(e[2]=n=>rt())},null,8,["_this","_pageSettings","__thisOpsStatus","__thisOps","active_fileName","thisSchemaFile_Rec","thisSchemaPath_Rec"])])]),_:1},8,["isOpen"])):z("",!0),t(h)=="details"&&t(w)=="selected"?(f(),ee(de,{key:1,isOpen:t(w),onEmitClick0:e[8]||(e[8]=n=>Q(w)?w.value=n:w=n)},{default:C(()=>{var n,g,S;return[t(i)?(f(),x("div",oa,[a("div",ra,[a("div",ua,[d(pl,{loading:"lazy ",style:{"min-height":"20vh","aspect-ratio":"2/1","border-radius":"5px","box-shadow":"5px"},src:t(L)?t(i).saleitgr[t(L)]:t(i).saleitgr[0],class:""},null,8,["src"]),ca]),da,va,a("div",null,[t(i).saleitgr.length>1?(f(),x("div",_a,[a("div",fa,[a("p",ha,m(t(i).saleitgr.length+"  Images :"),1),d(E,{flat:"",dense:!0,color:"red",label:"Back",onClick:e[4]||(e[4]=H=>Q(L)?L.value=(t(L)-1+t(i).saleitgr.length)%t(i).saleitgr.length:L=(t(L)-1+t(i).saleitgr.length)%t(i).saleitgr.length),style:{"z-index":"49"}}),d(E,{flat:"",size:"sm",dense:!0,color:"green",icon:"forward",onClick:e[5]||(e[5]=H=>Q(L)?L.value=(t(L)+1)%t(i).saleitgr.length:L=(t(L)+1)%t(i).saleitgr.length),style:{"z-index":"49"}})])])):z("",!0)]),a("div",ma,[a("div",ga,m(t(i).header),1),a("div",ya,[a("p",ba,m(t(i).content),1)]),a("div",pa,[a("div",Ca,[a("div",wa,[a("div",Sa,m(t(i).userName),1),a("div",null,[a("b",null,[pe("Call Us: "),d(He,{name:"phone"})]),(g=(n=t(i).phoneCode)==null?void 0:n[1])!=null&&g?(f(),x("b",xa,"+"+m(t(i).phoneCode[1])+" "+m(t(i).phone),1)):(f(),x("b",Oa,m(t(i).phone),1))]),t(i).location.country?(f(),x("div",Da,m(t(i).location.country+"  ")+" "+m(t(i).location.provinance+"  ")+" "+m(t(i).location.city+"  ")+" "+m(t(i).location.street+"  "),1)):z("",!0),a("div",ka," Created : "+m(new Date(t(i).createdAt).toLocaleString()),1)]),Ia,a("div",Ra,[a("div",Ma,[Aa,a("div",La,m(t(i).isOpen?t(i).quantity:"Closed"),1)]),a("div",Ba,[Fa,a("div",Pa,m(t(i).tClient),1)])]),a("div",qa,[a("div",ja,[pe(" Likes "),a("div",Ua,m(t(i).likes.like),1)]),Qa,a("div",$a,[pe(" Buyer Rating "),a("div",za,m(t(i)._itServiceRating),1)]),Ea,a("div",Na,[pe(" trendScore "),a("div",Ha,m((S=t(i).trendScore)!=null?S:0),1)])])]),a("div",Va,[a("h2",null,m(t(i).price)+" "+m(t(i).currency),1),Ta,d(bt,{class:"bg-orange fontStyle-sm"},{default:C(()=>[pe(" Unite Price")]),_:1})])])])]),a("div",Ga,[t(i).isOpen?(f(),ee(E,{key:0,color:"orange",class:"col row no-wrap",label:"",onClick:e[6]||(e[6]=H=>t(ul)._directBuyer("buy"))},{default:C(()=>[d(He,{name:"shops"}),Ka]),_:1})):z("",!0),d(E,{color:"green",onClick:e[7]||(e[7]=H=>t(ul)._directBuyer("cart")),icon:"save"},{default:C(()=>[Wa]),_:1})])])):(f(),x("div",Ya,"Loading ..."))]}),_:1},8,["isOpen"])):z("",!0),d(de,{isOpen:t(ne),onEmitClick0:e[12]||(e[12]=n=>Q(ne)?ne.value=n:ne=n),class:"column overlay-Glass rounded-borders"},{default:C(()=>[a("div",Ja,[t(Oe)=="camera"?(f(),x("div",Xa,[a("div",Za,[a("video",{clas:"col-2",ref_key:"_liveFeedRawStreaming",ref:fe,autoplay:"",playsinline:"",style:{width:"100%"}},null,512),a("canvas",{id:"_liveFeedSRC",ref_key:"_liveFeedSRC",ref:A,width:"200px",height:"200px",style:{display:"none"}},null,512),d(pt,{class:"row q-gutter-xs"},{default:C(()=>[(f(!0),x(ce,null,Ce(t(c),n=>(f(),ee(Ol,{key:n},{default:C(()=>[d(pl,{src:n,style:{width:"100px",height:"100px"}},null,8,["src"])]),_:2},1024))),128))]),_:1})]),a("div",es,[a("div",null,[d(E,{rounded:"",color:"negative",size:"sm",label:"close",onClick:e[9]||(e[9]=n=>t(ye)._stopCamera())}),d(E,{rounded:"",color:"green",size:"sm",label:"save",onClick:e[10]||(e[10]=n=>t(ye)._saveScreenShoots())}),d(E,{rounded:"",color:"primary",size:"sm",label:"capture",icon:"camera",onClick:e[11]||(e[11]=n=>t(ye)._screenShoot())})]),a("div",ls,[d(Wt,{"switch-toggle-side":"","expand-separator":"",icon:"camera",size:"xs"},{default:C(()=>[(f(!0),x(ce,null,Ce(t(u),n=>(f(),ee(Ol,{key:n,class:"row q-gutter-sm"},{default:C(()=>[d(E,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:t(P)==n.deviceId?"blue":"black",label:n.label.split("_")[1],onClick:g=>t(ye)._setCameraParam(n.deviceId,!1)},null,8,["color","label","onClick"]),d(E,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:t(P)==n.deviceId?"orange":"black",label:t(K)?"Front Cam":"Back Cam",onClick:g=>t(ye)._setCameraParam(n.deviceId,!t(K))},null,8,["color","label","onClick"])]),_:2},1024))),128))]),_:1})])])])):z("",!0)])]),_:1},8,["isOpen"]),d(de,{isOpen:t(Ie),onEmitClick0:e[15]||(e[15]=n=>Q(Ie)?Ie.value=n:Ie=n)},{default:C(()=>[d(wl,{class:"column col-auto q-gutter-xs fontStyle-sm shadow-1 bgc-light q-my-sm"},{default:C(()=>[ts,a("div",as,[ss,Ft(a("input",{class:"boxbstyle bg-orange",type:"date","onUpdate:modelValue":e[13]||(e[13]=n=>Q(Y)?Y.value=n:Y=n)},null,512),[[Pt,t(Y)]]),a("button",{onClick:e[14]||(e[14]=n=>Q(Y)?Y.value=null:Y=null),class:"boxbstyle bg-red text-white"}," x ")]),d(qt,{inset:""}),is,(f(!0),x(ce,null,Ce(t(ge),(n,g)=>(f(),x("div",{class:"row justify-between q-gutter-sm q-px-xs",key:g},[a("div",ns,m(g),1),a("div",null,[d(Sl,{size:"xs",modelValue:t(ge)[g],"onUpdate:modelValue":S=>t(ge)[g]=S,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1}),d(wl,{class:"column col-auto q-gutter-xs fontStyle-sm shadow-1 bgc-light"},{default:C(()=>[os,(f(!0),x(ce,null,Ce(t(oe),(n,g)=>(f(),x("div",{class:"row justify-between q-gutter-sm q-px-xs",key:g},[a("div",rs,m(g),1),a("div",null,[d(Sl,{size:"xs",modelValue:t(oe)[g],"onUpdate:modelValue":S=>t(oe)[g]=S,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1})]),_:1},8,["isOpen"]),d(de,{isOpen:t(Me),onEmitClick0:e[19]||(e[19]=n=>Q(Me)?Me.value=n:Me=n),class:"column saleitContentOps-Glass"},{default:C(()=>{var n,g;return[(g=(n=t(i))==null?void 0:n.saleitgr)!=null&&g?(f(),x("div",us,[d(Yt,{animated:"",swipeable:"",loading:"lazy",modelValue:l.slideIndex,"onUpdate:modelValue":e[17]||(e[17]=S=>l.slideIndex=S),navigation:"",infinite:"",arrows:"","transition-prev":"slide-right","transition-next":"slide-left","control-color":"amber",fullscreen:l.slideFullscreen,"onUpdate:fullscreen":e[18]||(e[18]=S=>l.slideFullscreen=S),class:"bg-grey-9 shadow-2 rounded-borders"},{control:C(()=>[d(Jt,{position:"bottom-right",offset:[18,18]},{default:C(()=>[d(E,{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:l.fullscreen?"fullscreen_exit":"fullscreen",onClick:e[16]||(e[16]=S=>l.slideFullscreen=!l.slideFullscreen)},null,8,["icon"])]),_:1})]),default:C(()=>[(f(!0),x(ce,null,Ce(t(i).saleitgr,(S,H)=>(f(),ee(Xt,{name:H,"img-src":S,key:H},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen"])])):z("",!0)]}),_:1},8,["isOpen"]),d(de,{isOpen:t(le),onEmitClick0:e[20]||(e[20]=n=>Q(le)?le.value=n:le=n)},{default:C(()=>[d(Zt,{onConfirmButton:t(le),header:t(Le),title:"Yes",textcolor:"black",background:"green",title2:"No",textcolor2:"green",background2:"red",style:{"background-color":"white",padding:"40px","border-radius":"5px"}},null,8,["onConfirmButton","header"])]),_:1},8,["isOpen"]),(_=t(V).length)!=null&&_?(f(),ee(Cl,{key:2,messages:(I=t(V))!=null?I:[],onCloseButton:e[21]||(e[21]=n=>V.value=[])},null,8,["messages"])):z("",!0),(X=t(ve).length)!=null&&X?(f(),ee(Cl,{key:3,messages:(Z=t(ve))!=null?Z:[{}],onCloseButton:e[22]||(e[22]=n=>ve.value=[])},null,8,["messages"])):z("",!0),z("",!0),cs],64)}}};export{ui as default};
