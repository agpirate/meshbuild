import{b0 as G,r as i,C as D,c as g,U as S,b1 as j}from"./index.a33c9604.js";import{a as H}from"./axios.05cf8750.js";import{b as C}from"./debugMixin.db1f0e67.js";const O="http://127.0.0.1:8080/profileapi",v=H.create({baseURL:O,timeout:7e3}),y={get:m("GET"),post:m("POST"),put:m("PUT"),patch:m("PATCH"),delete:m("DELETE")},h="/profile",I="profileStore";async function P(){return new Date}function m(e){return async(t,n=null,f={})=>{var w,T;let d=t.split("/")[1];var l={method:e,headers:await R(d),params:f};if(l.headers["Content-Type"]="application/json",l.params.timestamp=await P(),n!=null){let c=(w=n.file_)!=null?w:!1;if(c){var p=new FormData;l.headers["Content-Type"]="multipart/form-data",l.params.file_=c;for(let a in n)if(Object.values(c).includes(a))if((T=c.files)!=null&&T)for(let o in n[a])p.append(a,n[a][o]);else if(c.file)p.append(a,n[a][0]);else return!1;else typeof n[a]!="object"&&p.append(a,n[a]);n=p}try{const a=e==="POST"?await v.post(t,n,l):await v.put(t,n,l);return await E(a).then(o=>({status:!0,data:o}),o=>(console.log(o),{status:!1,data:o})).catch(o=>(console.log(o),{status:!1,data:o}))}catch(a){return console.log("API Response Error",a),{status:!1,data:a}}}else try{const c=e==="GET"?await v.get(t,l):await v.delete(t,l);return await E(c).then(a=>({status:!0,data:a}),a=>(console.log(a),{status:!1,data:a})).catch(a=>(console.log(a),{status:!1,data:a}))}catch(c){return console.log("API Response Error",c),{status:!1,data:c}}}}let J=[200];async function E(e){var t,n,f;console.log(e,"Response Data");try{if(J.includes((t=e.status)!=null?t:!1)&&((n=e.data)!=null?n:!1)){try{e.data=(f=JSON.parse(e.data))!=null?f:e.data}catch{}if(e.headers.get("Content-Type").includes("application/json"))return e.data}return Promise.reject(e)}catch(d){return Promise.reject(d)}}async function R(e=""){var d,l;var t={};t.Test="WooW",t._issModal=e;let n=S((d=C("lat").value)!=null?d:!1),f=S((l=C("long").value)!=null?l:!1);return n&&(t.lat=n,t.long=f),t!=null?t:{}}function N(e=null){return!0}const Q=G(I,()=>{let e=i([]),t=i(""),n=i(!1),f=i({}),d=i({});i({});let l=i({});i({});let p=i(!1);i(5e3),i(null),D({status:!1,sms:""}),D({status:!1,sms:""});const w=g(()=>e.value),T=g(()=>t.value);g(()=>d.value),g(()=>l.value),g(()=>p.value);async function c(r){return t.value="Loading...",f.value=r,!0}async function a(r){return n.value=r,!0}async function o(){if(n.value)return t.value=!1,!0;let r=Object.assign({},f.value);r.timestamp=S(await P());var u={method:"GET",headers:await R("saleit"),params:{}};u.headers["Content-Type"]="application/json",u.params=r;try{return await v.get(O+h,u).then(s=>{var _;if(console.log(`Sale it Store 
`,s.data),s.status==200)if((_=s.data.length)!=null&&_){if(e.value.length-s.data.length)return e.value=s.data,t.value=!0,!0;t.value!="noupdates"}else t.value!=null;else t.value=j[s.status]||"Unknown Status Code";return!0}).catch(s=>(t.value=j[s.response.status]||"Unknown Status Code",!0))}catch{t.value="BadConnection"}return!0}async function k(r={},u={}){try{return await y.post(h,r,u).then(s=>s).catch(s=>({status:!1,data:s}))}catch(s){return{status:!1,data:s}}}async function A(r={},u={}){try{return await y.put(h,r,u).then(s=>s).catch(s=>({status:!1,data:s}))}catch(s){return{status:!1,data:s}}}async function L(){try{return await y.get(h+"s").then(r=>r).catch(r=>({status:!1,data:r}))}catch(r){return{status:!1,data:r}}}async function U(r=null){try{return await y.get(h,null,r).then(u=>u).catch(u=>({status:!1,data:u}))}catch(u){return{status:!1,data:u}}}async function q(r){try{return await y.delete(h,null,r).then(u=>u).catch(u=>({status:!1,data:u}))}catch(u){return{status:!1,data:u}}}return{asyncDatas:o,getDatas:w,status_Rows:t,getstatus_Rows:T,Datas:e,set_syncQuery:c,set_syncLock:a,set_reqHeader:N,createData:k,readData:L,readFData:U,updateData:A,deleteData:q}});export{Q as p};
