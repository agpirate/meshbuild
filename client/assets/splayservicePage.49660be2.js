import{q as dt,u as vt,a as _t,b as ft,c as ht,d as mt,e as gt,f as yt,g as pl,o as bt,h as pt,_ as Cl}from"./QTooltip.6f1daf1f.js";import{E as Ct,am as wt,aB as St,an as xt,bb as Ot,r as R,c as M,aF as Dt,h as $e,ah as kt,B as Ne,g as It,bc as Rt,ab as ze,u as Mt,w as ye,o as At,a as Bt,k as f,l as x,m as t,n as Z,p as C,q as a,f as d,b as Q,t as z,v as m,D as E,x as be,F as ue,y as pe,bd as wl,aX as Lt,b7 as Ft,C as Pt,ba as Sl}from"./index.bc257d95.js";import{U as qt,u as jt,a as Ut,b as Qt,c as $t,d as zt,e as Et,f as Nt,t as Ht,s as Vt,g as Tt,h as Kt,_ as xl,k as Gt,l as Ol}from"./crudThisModel.e9537455.js";import{Q as Wt,a as Yt,b as Xt}from"./QCarousel.74a233d2.js";import"./QItemLabel.f12facf1.js";import{_ as Jt}from"./confirmButton.6fc0c5e9.js";import{u as Zt}from"./use-quasar.7b6d4ebe.js";import{u as ea,a as la,d as Dl,b as ce,_ as ta}from"./debugMixin.eac55b8f.js";import{saleUsage as Ee,mainSaleCatagories as kl}from"./saleitSchemas.0440e56e.js";import{_ as aa}from"./thisCardm.011ccae5.js";import{u as sa,a as ia}from"./servicefilter.812c0261.js";import"./touch.9135741d.js";import"./axios.05cf8750.js";Ct({name:"QRating",props:{...wt,...St,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(s,{slots:Ce,emit:we}){const{proxy:{$q:Me}}=It(),He=xt(s),ee=Ot(s),Ae=Rt(ee),L=R(0);let le={};const V=M(()=>s.readonly!==!0&&s.disable!==!0),de=M(()=>`q-rating row inline items-center q-rating--${V.value===!0?"":"non-"}editable`+(s.noDimming===!0?" q-rating--no-dimming":"")+(s.disable===!0?" disabled":"")+(s.color!==void 0&&Array.isArray(s.color)===!1?` text-${s.color}`:"")),ve=M(()=>{const c=Array.isArray(s.icon)===!0?s.icon.length:0,r=Array.isArray(s.iconSelected)===!0?s.iconSelected.length:0,A=Array.isArray(s.iconHalf)===!0?s.iconHalf.length:0,K=Array.isArray(s.color)===!0?s.color.length:0,N=Array.isArray(s.colorSelected)===!0?s.colorSelected.length:0,u=Array.isArray(s.colorHalf)===!0?s.colorHalf.length:0;return{iconLen:c,icon:c>0?s.icon[c-1]:s.icon,selIconLen:r,selIcon:r>0?s.iconSelected[r-1]:s.iconSelected,halfIconLen:A,halfIcon:A>0?s.iconHalf[r-1]:s.iconHalf,colorLen:K,color:K>0?s.color[K-1]:s.color,selColorLen:N,selColor:N>0?s.colorSelected[N-1]:s.colorSelected,halfColorLen:u,halfColor:u>0?s.colorHalf[u-1]:s.colorHalf}}),$=M(()=>{if(typeof s.iconAriaLabel=="string"){const c=s.iconAriaLabel.length!==0?`${s.iconAriaLabel} `:"";return r=>`${c}${r}`}if(Array.isArray(s.iconAriaLabel)===!0){const c=s.iconAriaLabel.length;if(c>0)return r=>s.iconAriaLabel[Math.min(r,c)-1]}return(c,r)=>`${r} ${c}`}),F=M(()=>{const c=[],r=ve.value,A=Math.ceil(s.modelValue),K=V.value===!0?0:null,N=s.iconHalf===void 0||A===s.modelValue?-1:A;for(let u=1;u<=s.max;u++){const P=L.value===0&&s.modelValue>=u||L.value>0&&L.value>=u,G=N===u&&L.value<u,_e=L.value>0&&(G===!0?A:s.modelValue)>=u&&L.value<u,Be=G===!0?u<=r.halfColorLen?s.colorHalf[u-1]:r.halfColor:r.selColor!==void 0&&P===!0?u<=r.selColorLen?s.colorSelected[u-1]:r.selColor:u<=r.colorLen?s.color[u-1]:r.color,Te=(G===!0?u<=r.halfIconLen?s.iconHalf[u-1]:r.halfIcon:r.selIcon!==void 0&&(P===!0||_e===!0)?u<=r.selIconLen?s.iconSelected[u-1]:r.selIcon:u<=r.iconLen?s.icon[u-1]:r.icon)||Me.iconSet.rating.icon;c.push({name:(G===!0?u<=r.halfIconLen?s.iconHalf[u-1]:r.halfIcon:r.selIcon!==void 0&&(P===!0||_e===!0)?u<=r.selIconLen?s.iconSelected[u-1]:r.selIcon:u<=r.iconLen?s.icon[u-1]:r.icon)||Me.iconSet.rating.icon,attrs:{tabindex:K,role:"radio","aria-checked":s.modelValue===u?"true":"false","aria-label":$.value(u,Te)},iconClass:"q-rating__icon"+(P===!0||G===!0?" q-rating__icon--active":"")+(_e===!0?" q-rating__icon--exselected":"")+(L.value===u?" q-rating__icon--hovered":"")+(Be!==void 0?` text-${Be}`:"")})}return c}),Ve=M(()=>{const c={role:"radiogroup"};return s.disable===!0&&(c["aria-disabled"]="true"),s.readonly===!0&&(c["aria-readonly"]="true"),c});function Se(c){if(V.value===!0){const r=dt(parseInt(c,10),1,parseInt(s.max,10)),A=s.noReset!==!0&&s.modelValue===r?0:r;A!==s.modelValue&&we("update:modelValue",A),L.value=0}}function T(c){V.value===!0&&(L.value=c)}function ie(c,r){switch(c.keyCode){case 13:case 32:return Se(r),ze(c);case 37:case 40:return le[`rt${r-1}`]&&le[`rt${r-1}`].focus(),ze(c);case 39:case 38:return le[`rt${r+1}`]&&le[`rt${r+1}`].focus(),ze(c)}}function xe(){L.value=0}return Dt(()=>{le={}}),()=>{const c=[];return F.value.forEach(({iconClass:r,name:A,attrs:K},N)=>{const u=N+1;c.push($e("div",{key:u,ref:P=>{le[`rt${u}`]=P},class:"q-rating__icon-container flex flex-center",...K,onClick(){Se(u)},onMouseover(){T(u)},onMouseout:xe,onFocus(){T(u)},onBlur:xe,onKeyup(P){ie(P,u)}},kt(Ce[`tip-${u}`],[$e(Ne,{class:r,name:A})])))}),s.name!==void 0&&s.disable!==!0&&Ae(c,"push"),$e("div",{class:de.value,style:He.value,...Ve.value},c)}}});const na={class:"size-contentAuto"},oa={key:0,class:"row q-pa-sm"},ra={class:"cardPopDetails",style:{"min-width":"90vw"}},ua={class:"row no-wrap q-gutter-sm"},ca=a("div",null,null,-1),da=a("div",{class:"horizontalLineBlack"},null,-1),va=a("div",{class:"horizontalLineBlack"},null,-1),_a={key:0,class:"col-auto row justify-start no-padding no-margine q-gutter-xs",style:{border:"0px solid orange","max-height":"40px"}},fa={class:"col-auto transparent row justify-end items-center",style:{top:"0px",right:"0px"}},ha={style:{color:"grey","font-size":"0.6em"}},ma={style:{height:"600px",width:"90vw","overflow-y":"scroll"}},ga={class:"cardPopDetails-title",style:{width:"50%",overflow:"hidden"}},ya={style:{}},ba={class:"cardPopDetails-content bgc-light"},pa={class:"row q-px-xs"},Ca={class:"col"},wa={class:"cardPopDetails-meta"},Sa={class:"fontcstyle"},xa={key:0,class:"text-grey q-px-sm"},Oa={key:1,class:"text-grey q-px-sm"},Da={key:0,class:"textStylea"},ka={style:{color:"grey","font-size":"0.9em"}},Ia=a("div",{style:{height:"1px",width:"100%","background-color":"white",padding:"2px",margin:"2px"}},null,-1),Ra={class:"row cardPopDetails-items"},Ma={class:"fontcstyle"},Aa=a("div",null,"Quantity",-1),Ba={class:"boxbstyle row justify-center",style:{"border-radius":"7%"}},La={class:"fontcstyle"},Fa=a("div",null,"Buyers",-1),Pa={class:"boxbstyle row justify-center",style:{"border-radius":"7%"}},qa={class:"cardPopDetails-items"},ja={class:"fontcstyle"},Ua={class:"boxbstyle"},Qa=a("div",{class:"verticalLineBlack"},null,-1),$a={class:"fontcstyle"},za={class:"boxbstyle"},Ea=a("div",{class:"verticalLine"},null,-1),Na={class:"fontcstyle"},Ha={class:"boxbstyle"},Va={class:"col-auto boxbstyle column justify-center items-center q-ma-sm"},Ta=a("div",null,"Unit Price",-1),Ka={class:"row justify-evenly q-gutter-sm q-py-sm fontcstyle"},Ga=a("p",null,"Direct Buy (Qty = 1)",-1),Wa=a("p",null,"Add to cart",-1),Ya={key:1,class:"fontestyle text-white"},Xa={class:"column",style:{"background-color":"orange",border:"1px dashed #d6d6d6","border-radius":"4px",padding:"2px"}},Ja={key:0},Za={class:"col bgc-light row fit"},es={class:"q-pa-sm q-gutter-sm row justify-between"},ls={size:"col-auto row"},ts=a("div",null,"Search Date:",-1),as={class:"row justify-between q-gutter-sm q-px-xs"},ss=a("div",{class:"text-grey"},null,-1),is=a("div",null,"Show Store:",-1),ns={class:"text-black"},os=a("div",null,"Serve Status:",-1),rs={class:"text-black"},us={key:0,class:"col"},cs=a("div",{class:"crow cj-center ia-center",style:{"min-height":"85vh"}},[a("div",{class:"boxStyle-sm radius-xxs fontStyle-md bgc-grey175",style:{"max-width":"60vw"}},[a("h4",{class:"font-grey200"}," Sorry, mesh - mobile client is not available right now "),a("p",null," we're happy to let you know that the app will be released after hours. "),a("hr"),a("span",null," mesh \xA9 2025")])],-1),ci={__name:"splayservicePage",props:{_profile:{type:Object,default:()=>({})},_acctype:{type:Object,default:()=>{}},lytCreatRow:{type:Boolean,default:!1},lytSearchRow:{type:String,default:""},isScrolled:{type:Boolean,default:!1},isScrolledUp:{type:Boolean,default:!1},_pageSetting:{type:Object,default:()=>({})},_thisMedia:{type:Object,default:()=>({})},_tableModel_Cols_Props:{type:Object,default:()=>({})},_tableModel_Row_Props:{type:Object,default:()=>({})},visible_modelCols_label_Props:{type:Object,default:()=>({})}},setup(s){const{thisSchemaPath:Ce,thisSchemaFile:we,_debugObj:Me,_validateThis:He}=vt();let ee=R(null),Ae=R("Are You Sure ?");const{Loadingpage:L,Loadingevent:le,DoneMessage:V,WarnthisMessage:de,timerLoadevent:ve,timerDone:$,timerError:F}=ea(),{status_KnowthisMessage:Ve,status_timerInformthis:Se}=_t();var{_fileAttributeName:T,_cameraBox:ie,_fileSourceFoCam:xe,_fileAsSRC:c,_fileAsRaw:r,_liveFeedSRC:A,_fileAsSRCIndex:K,_cameraDevice:N,_listCameraSource:u,_selectedCameraById:P,_selectedCameraByface:G,_liveFeedRawStreaming:_e,_fileSourceFolder:Be,_fileAsSRCOps:Te,_fileAsSRCOpsCall:ds,_resetFileSource:vs}=ft();let{pageName:Il,_pageSettings:W,metaData:Rl,pagination:Ml,paginationId:Ke,paginationCard:_s}=sa(),{createKey:fs,updateKey:hs,delKey:ms,_this_Model_Url:Al,_thisService:Ge,activeRow:Bl,message:gs,messageTimer:ys,createData:Ll,updateData:Fl,readData:bs,readFData:ps,deleteData:Cs}=qt();const Pl=Zt(),ql=Mt();let v=s;var{active_fileName:We,_is_this_netPrice:Ye,_is_this_open:Xe,__thisBox:D,__thisIndex:y,__thisOps:h,__thisOpsStatus:w,__thissubOps:jl,__thissubOpsStatus:Ul,active_foreignModel:Ql,active_foreignModelDialog:Je,active_foreignModelIndex:p,active_foreignModelOps:te,active_foreignModelOpsStatus:Oe,active_foreignModelsubOps:$l}=ht();let{userInformation:Le,modelRow_Builder:zl,foreign_modelRow_Builder:ws,foreign__tableModel_Cols:El}=mt(),{Model_Name:Nl,Model_Url:Hl,saleit_schemaPath:Ze,saleit_schemaFile:el,locked_modelCols_label:Ss,flexInvisible_modelCols_labels:xs,useric_modelCols_label:Os}=gt(),{_this_Schema:Vl,_tableModel_Cols:Tl,_tableModel_Row:Kl,all_modelCols_label:Ds,allowed_modelCols:ks,visible_modelCols_label:Gl}=yt(),{_this_Query:b,accModel_Row:Is,_this_Rows:q,_this:i,_this_RowsChecked:Rs,_this_userOwned:Fe}=jt(),{saleitClient_Name:Ms,saleitClient_schemaPath:Wl,saleitClient_schemaFile:Yl,locklabels_saleitClient_Cols:As,invislabels_saleitClient_Cols:ll,userlabels_saleitClient_Cols:Xl,plugable_client_Cols:Jl,labels_plugable_client_Cols:Zl}=Ut(),{saleitClient_Schema:tl,saleitClient_Cols:De,saleitClient_Row:fe,alllabels_saleitClient_Cols:Bs,acclabels_saleitClient_Cols:Ls,vislabels_saleitClient_Cols:Pe}=Qt(),{this_client_Query:he,this_client_enableFilter:ke,this_client_Rows:ae,this_client_RowsChecked:Fs,this_client_Row:k,_this_client_Details:Ps,this_client_userOwned:qs}=$t();zt();let{saleitChat_Schema:js,saleitChat_Cols:Us,saleitChat_Row:et,alllabels_saleitChat_Cols:Qs,acclabels_saleitChat_Cols:$s,vislabels_saleitChat_Cols:zs}=Et(),{this_chat_Query:qe,this_chat_Rows:Ie,this_chat_RowsChecked:Es,this_chat_Row:se,_this_chat_Details:Ns,this_chat_userOwned:lt}=Nt();var{priceFilter:tt,_serveStatus:ne,_storeStatus:me,_recordDate:Y,totalPrice:Hs,storeItems:Vs,serveItems:Ts,_enableRowFilter:at,filterOccured:Ks,_thisFiltering:Gs,clearFilters:Ws,_filteredRow:Ys}=ia();at.value=!0,la(Rl),Ce.value=Ze,we.value=el,Dl(Ze,el).then(l=>(l&&(Vl.value=l),!0)),Ge.value=Ht();const X=Vt(),j=Tt(),oe=Kt();M(()=>(console.log("searchig",v.lytSearchRow),{search:v.lytSearchRow,Requested:ne.Requested,Queed:ne.Queed,Served:ne.Served,cart:me.cart,buy:me.buy,recordDate:Y.value,priceFilter:tt})),R(!1),R({}),Le.value=v,M(()=>{var l,e;return alert("aaaaa"),(l=Le._acctype)!=null&&l&&(e=Le._acctype[Nl])!=null?e:null}),console.log(v,"objeprops");let al=R(null);ye(al,(l,e)=>l!=null&&l?(Tl.value=l!=null?l:null,st(),!0):null),al.value=v._tableModel_Cols_Props,Kl=M(()=>{var l,e;return(l=v._tableModel_Row_Props)!=null&&l&&(e=v._tableModel_Row_Props)!=null?e:null}),Gl=M(()=>{var l,e;return(l=v.visible_modelCols_label_Props)!=null&&l&&(e=v.visible_modelCols_label_Props)!=null?e:null}),Pl.screen.lt.lg&&ll.value.push("saleitID","orderID","confirmID","store","served","currency","price");async function st(){await Dl(Wl,Yl).then(e=>(e&&(tl.value=e),!0));let l=await El(tl.value,ll.value);return De.value=l[0],Pe.value=l[1],await it(De.value),De.value=[...De.value,...Jl],Pe.value=[...Zl,...Pe.value],!1}async function it(l){return fe.value=await zl(Xl.value,l),fe.value.orderID=await xl(),fe.value.userID=v._profile.id,!0}ye(v._pageSetting,(l,e)=>(W.value=Object.assign(W.value,l),!0));let nt=M(()=>v.lytCreatRow);ye(nt,async(l,e)=>(await U("Create_this",null),D.value=!0,!0)),ye(i,(l,e)=>{if(Bl.value=l,Al.value=Hl,y.value==null)return!0;try{Fe.value=l.userID==v._profile.id,_is_chatOwner.value=l.userID==v._profile.id,Xe.value=l.quantity&&l.price,Ye.value=parseInt(l.discount?l.discount:l.price)}catch{[Fe.value,Xe.value,Ye.value]=[!1,!1,!1]}return!0});let sl=R(null);sl=M(()=>X.getstatus_Rows),ye(sl,async(l,e)=>{let o;if(l==null)o="No Data.";else if(l=="noupdates")o="No Updates.";else if(l==!1)o="Locked";else if(l==!0)o="Loading ....";else if(l=="BadConnection")o="Offline";else return o=l,l=="Unauthorized"&&_logOut(),!1;return Se(5e3,o,"Product & Services"),!0});var je={};async function il(l=null,e=null){var I,J,n,g,S,H,dl,vl,_l,fl,hl,ml,gl,yl;w.value="loading",X.set_syncLock(!0),clearInterval(re),ve({this_Query:0},0,"Updating...");let o=b.value,_="-or";if(q.value=[],je={},b.value={},te.value=!1,b.value.limits=100,b.value.skips=0,(I=Ke.value)!=null&&I)b.value.skips=(J=o.skips)!=null?J:0,b.value.limits=(n=o.skips)!=null?n:0,b.value.qweight=[1,10,(g=Ee[e])!=null?g:1],_="productSpecific-and",Ml.value.rowsNumber+=2,b.value.limits+=2,b.value.skips+=2,Ke.value=null;else if(l=="lytSearchRow")W.value.tableView="main",b.value.content=v.lytSearchRow;else if(l)W.value.tableView="main",["catagory","usage","trend","paginationID"].includes(l)?(b.value.qweight=[1,(H=kl[e])!=null?H:((S=o.qweight)!=null?S:[0,0])[1],(dl=Ee[e])!=null?dl:0],_="productSpecific-and"):b.value[l]=e!=null?e:null;else if(e)W.value.tableView="main",te.value="view",b.value.id=e;else{W.value.tableView="cards";let bl=(vl=ta._getsession("qw"))!=null?vl:!1;b.value.qweight=bl?bl.split(","):[1,1,1,"userSpecific"],_="userSpecific-or"}return je.catagory=(fl=(_l=kl[e])!=null?_l:b.value[1])!=null?fl:"HouseHolds",je.usage=(gl=(ml=Ee[e])!=null?ml:((hl=b.value.qweight)!=null?hl:[1,1,1,1])[2])!=null?gl:"New",b.value.geoSearch=(yl=W.value.geoSearch.value)!=null?yl:"off",b.value.queryOperator=_,await ul(X,b.value),!0}let re="";q=M(()=>nl(X.getDatas));async function Ue(){var l;return ae.value=null,Fe.value||(he.value.userID=v._profile.id),he.value.saleitID=(l=i.value.id)!=null?l:"",he.value.store="buy",he.value.queryOperator="-and",await ul(j,he.value),!0}async function ot(){ae.value=null,lt.value,qe.value.saleitID=i.value.id,qe.value.queryOperator="-and";let l=await cl(oe,qe.value);return l&&(Ie.value=l,O(te.value,null)),!0}ae=M(()=>nl(j.getDatas));function nl(l){return w.value=!1,Array.isArray(l)?l:[]}async function U(l=null,e=null,o=null){var _;if(o&&o.set_syncLock(!0),T.value=null,B.value=null,D.value=null,jl.value=null,Ul.value=null,w.value=w.value?w.value:null,y.value=e,h.value=l,e==null)i.value=Object.assign({},v._tableModel_Row_Props),i.value.geolocation=v._profile.geolocation,i.value.location=v._profile.location,i.value.currency=(_=v._profile.currency)!=null?_:"",i.value.userID=v._profile.id,i.value.phoneCode=v._profile.phoneCode,i.value.phone=v._profile.phone;else try{i.value=Object.assign({},q.value[e])}catch{}return We.value="saleitgr",!0}async function O(l,e,o=null){var _,I,J,n;o&&o.set_syncLock(!0),Ql.value=null,Je.value=null,$l.value=null,Oe.value=Oe.value?Oe.value:null,p.value=e,te.value=l;try{if(h.value=="comments")e==null?(se.value=Object.assign({},et.value),se.value.userID=v._profile.id,se.value.saleitID=(I=(_=i.value)==null?void 0:_.id)!=null?I:""):se.value=Object.assign({},Ie.value[e]);else if(e==null||h.value=="details")k.value=Object.assign({},fe.value),k.value.userID=v._profile.id,k.value.phoneCode=v._profile.phoneCode,k.value.currency=i.value.currency,k.value.location=i.value.location,k.value.geolocation=i.value.geolocation,k.value.saleitID=(n=(J=i.value)==null?void 0:J.id)!=null?n:"",k.value.orderID=await xl();else try{k.value=Object.assign({},ae.value[e])}catch{}}catch{}return!0}const ol=async function(l,e,o){let _=p.value==l;return l==null||_&&te.value==e?(await U(o,null,X),await O(null,null,o=="clients"?j:""),!0):!1};R("Orders List..");let Qe=R([]),rl={_add:async()=>(p.value=null,k.value=Object.assign({},fe.value),!0),selectedIndex_:async(l=null,e=null,o=null)=>(Oe.value=e,await ol(l,e,o)?!1:(Ge.value.set_syncLock(!0),await O(e,l,j),te.value=e,!0)),selectedIndex_RowDetail:async(l,e=null,o=null)=>{let _="clients";return te.value=o,await ol(e,o,_)?!1:(y.value=0,await cl(X,{id:l}).then(async I=>{I&&(q.value[y.value]=I[y.value],await U(_,y.value),await O(null,e))}),!0)},_remove:async()=>{if(h.value=="comments"){let l={id:i.value.id,comments:se.value};l.thisOps=h.value,l.thisSubOps="delete";let e=await oe.deleteData(l,{});if(!e.status)return F(500,"Error Creating",""),!1;$(5e3,"Removed",""),q.value[y.value]=e.data.data,Ie.value.splice(p.value,1),U(h.value,y.value),O(h.value,null)}else{let l={id:i.value.id,clients:k.value};l.thisOps=h.value,l.thisSubOps="delete";let e=await j.deleteData(l);if(!e.status)return F(500,"Error Creating",""),!1;$(5e3,"Removed",""),q.value[y.value]=e.data.data,ae.value.splice(p.value,1),await U(h.value,y.value),await O(null,null)}return!0},_update_foreign:async()=>{var l;if(p.value=null,h.value=="comments"){let e={id:i.value.id,comments:se.value};e.thisOps=h.value,e.thisSubOps="update";let o=await oe.updateData(e,{});return o.status?($(5e3,"updated",""),q.value[y.value]=o.data.data,typeof p.value=="number"&&(Ie.value[p.value]=o.data.foreignData,p.value=null),await O("update",p.value),!0):(F(500,"Error Updating",""),!1)}else{let e={id:i.value.id,clients:k.value};e.thisOps=h.value,e.thisSubOps="update";let o=await j.updateData(e,{});return o.status?($(5e3,"updated",""),Qe.value.push((l=o.data.data.id)!=null?l:null),q.value[y.value]=o.data.data,typeof p.value=="number"&&(ae.value[p.value]=o.data.foreignData,p.value=null),await Ue(),await U("clients",y.value),await O("update",p.value),!0):(F(500,"Error Updating",""),!1)}},_create_foreign:async()=>{var l;if(h.value=="comments"){let e={id:i.value.id,comments:se.value};if(e.thisOps=h.value,e.thisSubOps="create",console.log("commenting",e),!(await oe.createData(e,{})).status)return F(500,"Error Creating",""),!1;$(5e3,"Created",""),await U(h.value,y.value),await O(null,null),await ot()}else{let e={id:i.value.id,clients:k.value};e.clients.store="buy",e.thisOps=h.value,e.thisSubOps="create";let o=await j.createData(e,{});if(!o.status)return F(500,"Error Creating",""),!1;$(5e3,"Ordered",""),Qe.value.push((l=o.data.data.id)!=null?l:null),q.value[y.value]=o.data.data,await U(h.value,y.value),await O(null,null),await Ue()}return!0},_directBuyer:async(l="buy",e=!0)=>{var I;let o={id:i.value.id,clients:k.value};o.clients.store=l;let _;return e?_=await j.createData(o,{}):_=await j.updateData(o,{}),_.status?($(5e3,l=="buy"?"Ordered":"Saved",""),Qe.value.push((I=_.data.data.id)!=null?I:null),q.value[y.value]=_.data.data,typeof p.value=="number"&&!Je.value?ae.value[p.value]=_.data.foreignData:(p.value=null,await Ue()),await U("clients",y.value),await O(null,p.value),!0):(F(500,"Error Creating",""),!1)}};async function rt(){return w.value=!0,i.value.thisOps=h.value,i.value.thisSubOps="new",await Ll().then(async l=>(ve({createData:1},1,"Updating..."),l?(D.value=!1,Il!="myservice"?ql.push("/play/sMyServices"):il("userID",v._profile.id)):(w.value=!1,T.value=null,!0))).catch(l=>(F(5e3,"Error Creating","Error Creating"+l),console.error(l),T.value=null,D.value=!1,!1))}async function ut(){return w.value=!0,i.value.thisOps=h.value,i.value.thisSubOps="update",await Fl().then(async l=>(ve({updateData:1},1,"Updating..."),l&&($(5e3,"Item Updated","Succefully Updated"),q.value[y.value]=Object.assign({},l),D.value=!1),w.value=!1,T.value=null,!0)).catch(l=>(F(5e3,"Error Updating","Error Updating"+l),w.value=!1,D.value=!1,T.value=null,!1))}let ct=R(25e3);const ul=async(l,e)=>(clearInterval(re),await l.set_syncQuery(e),l.set_syncLock(!1),l.asyncDatas(),setTimeout(function(){clearInterval(re),re=setInterval(l.asyncDatas,ct.value)},5e3),!0),cl=async(l,e)=>await l.readFData(e).then(o=>o.status?o.data:!1);R(0);let B=R(null),Re=R(!1);R(!1);var ge=new N;return At(()=>{clearInterval(re),U(null,null,X),O(null,null,j),O(null,null,oe)}),il("userID",v._profile.id),Bt(async()=>(clearInterval(re),U(null,null,X),O(null,null,j),O(null,null,oe),!0)),(l,e)=>{var o,_,I,J;return f(),x(ue,null,[t(D)?(f(),Z(ce,{key:0,isOpen:t(D),bg:"bgd-xs",onEmitClick0:e[3]||(e[3]=n=>Q(D)?D.value=n:D=n)},{default:C(()=>[a("div",na,[d(aa,{_this:t(i),_pageSettings:t(W),__thisOpsStatus:t(w),__thisOps:t(h),active_fileName:t(We),thisSchemaFile_Rec:t(we),thisSchemaPath_Rec:t(Ce),onClose:e[0]||(e[0]=n=>Q(D)?D.value=n:D=n),onUpdate_this:e[1]||(e[1]=n=>ut()),onCreate_this:e[2]||(e[2]=n=>rt())},null,8,["_this","_pageSettings","__thisOpsStatus","__thisOps","active_fileName","thisSchemaFile_Rec","thisSchemaPath_Rec"])])]),_:1},8,["isOpen"])):z("",!0),t(h)=="details"&&t(w)=="selected"?(f(),Z(ce,{key:1,isOpen:t(w),onEmitClick0:e[8]||(e[8]=n=>Q(w)?w.value=n:w=n)},{default:C(()=>{var n,g,S;return[t(i)?(f(),x("div",oa,[a("div",ra,[a("div",ua,[d(pl,{loading:"lazy ",style:{"min-height":"20vh","aspect-ratio":"2/1","border-radius":"5px","box-shadow":"5px"},src:t(B)?t(i).saleitgr[t(B)]:t(i).saleitgr[0],class:""},null,8,["src"]),ca]),da,va,a("div",null,[t(i).saleitgr.length>1?(f(),x("div",_a,[a("div",fa,[a("p",ha,m(t(i).saleitgr.length+"  Images :"),1),d(E,{flat:"",dense:!0,color:"red",label:"Back",onClick:e[4]||(e[4]=H=>Q(B)?B.value=(t(B)-1+t(i).saleitgr.length)%t(i).saleitgr.length:B=(t(B)-1+t(i).saleitgr.length)%t(i).saleitgr.length),style:{"z-index":"49"}}),d(E,{flat:"",size:"sm",dense:!0,color:"green",icon:"forward",onClick:e[5]||(e[5]=H=>Q(B)?B.value=(t(B)+1)%t(i).saleitgr.length:B=(t(B)+1)%t(i).saleitgr.length),style:{"z-index":"49"}})])])):z("",!0)]),a("div",ma,[a("div",ga,m(t(i).header),1),a("div",ya,[a("p",ba,m(t(i).content),1)]),a("div",pa,[a("div",Ca,[a("div",wa,[a("div",Sa,m(t(i).userName),1),a("div",null,[a("b",null,[be("Call Us: "),d(Ne,{name:"phone"})]),(g=(n=t(i).phoneCode)==null?void 0:n[1])!=null&&g?(f(),x("b",xa,"+"+m(t(i).phoneCode[1])+" "+m(t(i).phone),1)):(f(),x("b",Oa,m(t(i).phone),1))]),t(i).location.country?(f(),x("div",Da,m(t(i).location.country+"  ")+" "+m(t(i).location.provinance+"  ")+" "+m(t(i).location.city+"  ")+" "+m(t(i).location.street+"  "),1)):z("",!0),a("div",ka," Created : "+m(new Date(t(i).createdAt).toLocaleString()),1)]),Ia,a("div",Ra,[a("div",Ma,[Aa,a("div",Ba,m(t(i).isOpen?t(i).quantity:"Closed"),1)]),a("div",La,[Fa,a("div",Pa,m(t(i).tClient),1)])]),a("div",qa,[a("div",ja,[be(" Likes "),a("div",Ua,m(t(i).likes.like),1)]),Qa,a("div",$a,[be(" Buyer Rating "),a("div",za,m(t(i)._itServiceRating),1)]),Ea,a("div",Na,[be(" trendScore "),a("div",Ha,m((S=t(i).trendScore)!=null?S:0),1)])])]),a("div",Va,[a("h2",null,m(t(i).price)+" "+m(t(i).currency),1),Ta,d(bt,{class:"bg-orange fontbstyle"},{default:C(()=>[be(" Unite Price")]),_:1})])])])]),a("div",Ka,[t(i).isOpen?(f(),Z(E,{key:0,color:"orange",class:"col row no-wrap",label:"",onClick:e[6]||(e[6]=H=>t(rl)._directBuyer("buy"))},{default:C(()=>[d(Ne,{name:"shops"}),Ga]),_:1})):z("",!0),d(E,{color:"green",onClick:e[7]||(e[7]=H=>t(rl)._directBuyer("cart")),icon:"save"},{default:C(()=>[Wa]),_:1})])])):(f(),x("div",Ya,"Loading ..."))]}),_:1},8,["isOpen"])):z("",!0),d(ce,{isOpen:t(ie),onEmitClick0:e[12]||(e[12]=n=>Q(ie)?ie.value=n:ie=n),class:"column overlay-Glass rounded-borders"},{default:C(()=>[a("div",Xa,[t(xe)=="camera"?(f(),x("div",Ja,[a("div",Za,[a("video",{clas:"col-2",ref_key:"_liveFeedRawStreaming",ref:_e,autoplay:"",playsinline:"",style:{width:"100%"}},null,512),a("canvas",{id:"_liveFeedSRC",ref_key:"_liveFeedSRC",ref:A,width:"200px",height:"200px",style:{display:"none"}},null,512),d(pt,{class:"row q-gutter-xs"},{default:C(()=>[(f(!0),x(ue,null,pe(t(c),n=>(f(),Z(Ol,{key:n},{default:C(()=>[d(pl,{src:n,style:{width:"100px",height:"100px"}},null,8,["src"])]),_:2},1024))),128))]),_:1})]),a("div",es,[a("div",null,[d(E,{rounded:"",color:"negative",size:"sm",label:"close",onClick:e[9]||(e[9]=n=>t(ge)._stopCamera())}),d(E,{rounded:"",color:"green",size:"sm",label:"save",onClick:e[10]||(e[10]=n=>t(ge)._saveScreenShoots())}),d(E,{rounded:"",color:"primary",size:"sm",label:"capture",icon:"camera",onClick:e[11]||(e[11]=n=>t(ge)._screenShoot())})]),a("div",ls,[d(Gt,{"switch-toggle-side":"","expand-separator":"",icon:"camera",size:"xs"},{default:C(()=>[(f(!0),x(ue,null,pe(t(u),n=>(f(),Z(Ol,{key:n,class:"row q-gutter-sm"},{default:C(()=>[d(E,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:t(P)==n.deviceId?"blue":"black",label:n.label.split("_")[1],onClick:g=>t(ge)._setCameraParam(n.deviceId,!1)},null,8,["color","label","onClick"]),d(E,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:t(P)==n.deviceId?"orange":"black",label:t(G)?"Front Cam":"Back Cam",onClick:g=>t(ge)._setCameraParam(n.deviceId,!t(G))},null,8,["color","label","onClick"])]),_:2},1024))),128))]),_:1})])])])):z("",!0)])]),_:1},8,["isOpen"]),d(ce,{isOpen:t(ke),onEmitClick0:e[15]||(e[15]=n=>Q(ke)?ke.value=n:ke=n)},{default:C(()=>[d(wl,{class:"column col-auto q-gutter-xs fontastyle shadow-1 bgc-light q-my-sm"},{default:C(()=>[ts,a("div",as,[ss,Lt(a("input",{class:"boxbstyle bg-orange",type:"date","onUpdate:modelValue":e[13]||(e[13]=n=>Q(Y)?Y.value=n:Y=n)},null,512),[[Ft,t(Y)]]),a("button",{onClick:e[14]||(e[14]=n=>Q(Y)?Y.value=null:Y=null),class:"boxbstyle bg-red text-white"}," x ")]),d(Pt,{inset:""}),is,(f(!0),x(ue,null,pe(t(me),(n,g)=>(f(),x("div",{class:"row justify-between q-gutter-sm q-px-xs",key:g},[a("div",ns,m(g),1),a("div",null,[d(Sl,{size:"xs",modelValue:t(me)[g],"onUpdate:modelValue":S=>t(me)[g]=S,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1}),d(wl,{class:"column col-auto q-gutter-xs fontastyle shadow-1 bgc-light"},{default:C(()=>[os,(f(!0),x(ue,null,pe(t(ne),(n,g)=>(f(),x("div",{class:"row justify-between q-gutter-sm q-px-xs",key:g},[a("div",rs,m(g),1),a("div",null,[d(Sl,{size:"xs",modelValue:t(ne)[g],"onUpdate:modelValue":S=>t(ne)[g]=S,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1})]),_:1},8,["isOpen"]),d(ce,{isOpen:t(Re),onEmitClick0:e[19]||(e[19]=n=>Q(Re)?Re.value=n:Re=n),class:"column saleitContentOps-Glass"},{default:C(()=>{var n,g;return[(g=(n=t(i))==null?void 0:n.saleitgr)!=null&&g?(f(),x("div",us,[d(Wt,{animated:"",swipeable:"",loading:"lazy",modelValue:l.slideIndex,"onUpdate:modelValue":e[17]||(e[17]=S=>l.slideIndex=S),navigation:"",infinite:"",arrows:"","transition-prev":"slide-right","transition-next":"slide-left","control-color":"amber",fullscreen:l.slideFullscreen,"onUpdate:fullscreen":e[18]||(e[18]=S=>l.slideFullscreen=S),class:"bg-grey-9 shadow-2 rounded-borders"},{control:C(()=>[d(Yt,{position:"bottom-right",offset:[18,18]},{default:C(()=>[d(E,{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:l.fullscreen?"fullscreen_exit":"fullscreen",onClick:e[16]||(e[16]=S=>l.slideFullscreen=!l.slideFullscreen)},null,8,["icon"])]),_:1})]),default:C(()=>[(f(!0),x(ue,null,pe(t(i).saleitgr,(S,H)=>(f(),Z(Xt,{name:H,"img-src":S,key:H},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen"])])):z("",!0)]}),_:1},8,["isOpen"]),d(ce,{isOpen:t(ee),onEmitClick0:e[20]||(e[20]=n=>Q(ee)?ee.value=n:ee=n)},{default:C(()=>[d(Jt,{onConfirmButton:t(ee),header:t(Ae),title:"Yes",textcolor:"black",background:"green",title2:"No",textcolor2:"green",background2:"red",style:{"background-color":"white",padding:"40px","border-radius":"5px"}},null,8,["onConfirmButton","header"])]),_:1},8,["isOpen"]),(o=t(V).length)!=null&&o?(f(),Z(Cl,{key:2,messages:(_=t(V))!=null?_:[],onCloseButton:e[21]||(e[21]=n=>V.value=[])},null,8,["messages"])):z("",!0),(I=t(de).length)!=null&&I?(f(),Z(Cl,{key:3,messages:(J=t(de))!=null?J:[{}],onCloseButton:e[22]||(e[22]=n=>de.value=[])},null,8,["messages"])):z("",!0),z("",!0),cs],64)}}};export{ci as default};
