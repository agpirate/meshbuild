import{u as ul,r as T,c as Y,w as X,o as rl,a as dl,k as cl,l as i,m as u,n as l,p as C,q as S,t as s,f as y,b as ee,v as k,Q as Me,x as O,y as xe,F as qe,z as nt,A as F,B as _l,C as hl,D as vl,E as fl}from"./index.61380e2f.js";import{Q as ot}from"./QPage.0a73036e.js";import{u as gl,a as yl,b as pl,c as ml,d as wl,e as xl,f as bl,_ as ut,Q as rt,g as Sl}from"./saleitModel.8dad7d57.js";import{U as Cl,u as kl,a as Ol,b as Il,c as Rl,d as Dl,e as Bl,f as Ml,t as ql,s as Pl,g as Fl,h as Ql,_ as dt,Q as ct,i as be,j as Ul}from"./saleitChatDatas.546160c2.js";import{_ as Nl,Q as Pe}from"./confirmButton.10df21e0.js";import{u as $l}from"./use-quasar.1f5de62c.js";import{u as El,a as Vl,d as _t,_ as jl,b as he}from"./debugMixin.f965fe05.js";import{u as Ll,a as zl,_ as ht,b as Al}from"./tableMixin.ac215770.js";import{_ as Tl,a as vt,b as Yl}from"./orderDetail.91065180.js";import{_ as Kl,u as Zl}from"./queryBuilder.5f88933a.js";import{t as Hl}from"./thisQueryBuilder.823ec1c1.js";import"./QItemLabel.c628c1c5.js";import"./axios.05cf8750.js";const Wl={class:"bgc-light"},Gl={key:0,class:"size-content1 yoflow boxStyle-xxs radius-xs bgc-grey25"},Jl={key:1,class:""},Xl={key:0},es=s("div",{style:{"font-weight":"lighter","font-size":"12px"}},"Loading",-1),ts={key:1,style:{"font-size":"43px","font-weight":"bolder",color:"red"}},ls=s("div",{style:{"font-weight":"lighter","font-size":"12px"}},"Loading",-1),ss={class:"orderBox-size boxStyle-xs bgc-dark ccolumn cgap-0"},as={key:0},is={key:0,class:"q-pa-sm text-red"},ns={key:1,class:"q-pa-sm"},os={key:1,class:""},us={key:0,class:"ccolumn"},rs={class:"boxStyle-flat cgap-3 crow ia-center"},ds={class:"crow cgap-2 cj-end"},cs={key:2,class:"ccolumn fontStyle-sm",style:{}},_s={class:"font-light boxStyle-xs bgc-grey25 p-sidesm"},hs={class:"ccol-10 itemList-size yoflow"},vs={key:3,class:"crow cj-center ia-center"},fs={key:1},gs={key:0,class:""},ys={class:"ps-relative ccol-grow crow"},ps=["src"],ms={class:"ps-absolute size-fill boxStyle-xxs crow"},ws={key:0,class:"ccol-grow ccolumn cj-between ia-start"},xs={class:"boxStyle-xs radius-xs",style:{"min-width":"30%","border-bottom-left-radius":"0px"}},bs=["onClick"],Ss={class:"crow cgap-5 cj-between ia-center"},Cs={class:"boxStyle-xs radius-xxs bgc-grey200 font-grey100 fontStyle-sm font-grey75"},ks={class:"ri-phone-fill fontStyle-sm font-dark crow"},Os=s("div",{class:"bgc-grey200 font-grey100 boxStyle-xs radius-xxs"},[s("i",{class:"font-system ri-verified-badge-line"})],-1),Is={class:"crow ia-center cj-between boxStyle-xxs bgc-grey25 radius-xxs fontStyle-sm font-grey"},Rs=["onClick"],Ds=s("h4",{class:"font-grey200"}," Follow |",-1),Bs=[Ds],Ms={class:"font-grey200"},qs={class:"ccolumn ia-start cgap-3"},Ps=["src"],Fs={class:"crow cj-between",style:{width:"100%"}},Qs=["onClick"],Us=s("h4",null," Show Details ",-1),Ns=[Us],$s={key:1,class:"crow cgap-2 ia-center bgc-dark radius-md boxStyle-xxs fontStyle-sm",style:{"max-height":"3vh"}},Es=["onClick"],Vs=s("h4",null," | ",-1),js={class:"font-system"},Ls={class:"ri-phone-fill fontStyle-md font-grey150"},zs={style:{position:"absolute",right:"3px",top:"20%","z-index":"4"},class:"ps-absolute parent-tr ccolumn cgap-2 cj-center ia-center"},As={key:0,class:"boxStyle-xs radius-sm bgc-posetive fontStyle-sm"},Ts={class:"font-light"},Ys={key:1,style:{color:"orangered"},class:"fonte0astyle"},Ks={key:0,class:"boxStyle-xs radius-sm bgc-negative fontStyle-sm font-light"},Zs={class:"font-light"},Hs={key:1,class:"boxStyle-xs radius-sm bgc-warning fontStyle-sm"},Ws={class:"font-dark"},Gs=["onClick"],Js={class:"font-light"},Xs=["onClick"],ea=s("h4",{class:"font-light"}," Comments ",-1),ta=[ea],la=["onClick"],sa=s("i",{class:"ri-information-line crow ia-center fontStyle-xl"},null,-1),aa=[sa],ia={key:4,class:"ccolumn cgap-2"},na=["onClick"],oa=s("h4",{class:"font-light"}," edit ",-1),ua=[oa],ra=["onClick"],da=s("h4",{class:"font-light"}," Delete ",-1),ca=[da],_a={class:"ccolumn ps-relative"},ha={key:0,class:"boxStyle-flat bgd-light ccolumn cj-center ia-center ps-absolute box-size-fill"},va={key:0,class:"crow fontStyle-sm"},fa=["onClick"],ga=["onClick"],ya={class:""},pa={key:1,class:"bgd-md boxStyle-sm"},ma={key:0,class:"ccolumn cgap-3 ia-center"},wa={class:"boxStyle-xs crow cj-center ia-center cgap-2"},xa={class:"boxStyle-xxs crow cj-center ia-center cgap-1"},ba={key:1},Sa={key:1,class:"boxStyle-xs ccolumn ps-absolute box-size-fill"},Ca={class:"crow cj-between"},ka={key:0,class:"boxStyle-xs radius-sm bgc-dark fontStyle-sm"},Oa={class:"font-posetive"},Ia={key:1,style:{color:"orangered"},class:"fonte0astyle"},Ra={key:0,class:"boxStyle-xs radius-sm bgc-negative fontStyle-sm font-light"},Da={class:"font-light"},Ba={key:1,class:"boxStyle-xs radius-sm bgc-warning fontStyle-sm"},Ma={class:"font-light"},qa={key:2,class:"fontStyle-sm"},Pa={class:"fontStyle-sm text-white"},Fa={class:"col-grow column justify-end"},Qa=["onClick"],Ua=s("i",{class:"ri-information-line fontStyle-xl"},null,-1),Na=[Ua],$a={key:2},Ea={key:1,class:"col q-py-md q-gutter-md transparent flex flex-center column",style:{width:"100vw"}},Va={style:{width:"90%"},class:"col-auto q-gutter-xs transparent row"},ja={style:{width:"90%"},class:"col q-pa-xs row q-gutter-xs"},La={style:{display:"flex","flex-flow":"column nowrap",width:"90%"}},un={__name:"splayPage",props:{_profile:{type:Object,default:()=>({})},_acctype:{type:Object,default:()=>{}},lytCreatRow:{type:Boolean,default:!1},lytSearchRow:{type:String,default:""},lytButtonRow:{type:String,default:""},isScrolled:{type:Boolean,default:!1},isScrolledUp:{type:Boolean,default:!1},_pageSetting:{type:Object,default:()=>({})},_thisMedia:{type:Object,default:()=>({})},_tableModel_Cols_Props:{type:Object,default:()=>({})},_tableModel_Row_Props:{type:Object,default:()=>({})},visible_modelCols_label_Props:{type:Object,default:()=>({})}},emits:["_this_Query","_this_PageSetting"],setup(ve,{emit:ft}){let{_pageSettings:_,pageName:gt,metaData:yt,pagination:za,paginationId:Aa,paginationCard:fe}=Ll(),{userInformation:pt,modelRow_Builder:Fe,foreign_modelRow_Builder:Ta,foreign__tableModel_Cols:Qe}=gl();var{active_layer:Ya,active_fileName:Ue,active_fileIndex:ne,__thisFileOps_onCard:mt,__thisFileOps_onZoom:wt,thisOps:Ka,thisOpsCard:Za,thissubOpsStatus:Ha,__thisBox:I,__thisIndex:v,__thisOps:d,__thisOpsCard:ge,__thisOpsStatus:D,__thissubOps:xt,__thissubOpsStatus:bt,active_foreignModel:St,active_foreignModelDialog:te,active_foreignModelIndex:w,active_foreignModelOps:K,active_foreignModelOpsStatus:Ne,active_foreignModelsubOps:Ct}=yl(),{_fileAttributeName:le,_cameraBox:Wa,_fileSourceFoCam:Ga,_fileAsSRC:Ja,_fileAsRaw:Xa,_liveFeedSRC:ei,_fileAsSRCIndex:ti,_cameraDevice:li,_listCameraSource:si,_selectedCameraById:ai,_selectedCameraByface:ii,_liveFeedRawStreaming:ni,_fileSourceFolder:oi,_fileAsSRCOps:ui,_fileAsSRCOpsCall:ri,_resetFileSource:di}=pl();const{thisSchemaPath:$e,thisSchemaFile:Ee,_debugObj:ci,_validateThis:_i}=ml();let{createKey:hi,updateKey:vi,delKey:fi,_this_Model_Url:kt,_thisService:Ot,activeRow:It,_this:o,message:gi,messageTimer:yi,createData:Rt,updateData:ye,readData:pi,readFData:mi,deleteData:Dt}=Cl();const{Loadingpage:wi,Loadingevent:Bt,DoneMessage:Se,WarnthisMessage:Ce,timerLoadevent:pe,timerDone:M,timerError:N}=El(),{status_KnowthisMessage:ke,status_timerInformthis:Mt}=wl();let{queryBuilder_foreign:Ve}=Zl(),r=ve,{Model_Name:xi,Model_Url:qt,saleit_schemaPath:Pt,saleit_schemaFile:Ft,locked_modelCols_label:bi,flexInvisible_modelCols_labels:Si,useric_modelCols_label:Ci}=xl(),{_this_Schema:ki,_tableModel_Cols:Oe,_tableModel_Row:Qt,all_modelCols_label:Oi,allowed_modelCols:Ii,visible_modelCols_label:Ri}=bl(),{_this_Query:me,accModel_Row:Di,_this_Rows:g,_this_RowsChecked:Z,_this_Details:Bi,_this_userOwned:we}=kl(),{saleitClient_Name:Mi,saleitClient_schemaPath:Ut,saleitClient_schemaFile:Nt,locklabels_saleitClient_Cols:qi,invislabels_saleitClient_Cols:je,userlabels_saleitClient_Cols:$t,plugable_client_Cols:Pi,labels_plugable_client_Cols:Fi}=Ol(),{saleitClient_Schema:Le,saleitClient_Cols:ze,saleitClient_Row:$,alllabels_saleitClient_Cols:Qi,acclabels_saleitClient_Cols:Ui,vislabels_saleitClient_Cols:Et}=Il(),{this_client_Query:Ae,this_client_Rows:q,this_client_RowsChecked:Ni,this_client_Row:h,_this_client_Details:$i,this_client_userOwned:Ei}=Rl(),{saleitChat_Name:Vi,saleitChat_schemaPath:Vt,saleitChat_schemaFile:jt,locklabels_saleitChat_Cols:ji,invislabels_saleitChat_Cols:Lt,userlabels_saleitChat_Cols:zt}=Dl(),{saleitChat_Schema:Te,saleitChat_Cols:Ye,saleitChat_Row:oe,alllabels_saleitChat_Cols:Li,acclabels_saleitChat_Cols:zi,vislabels_saleitChat_Cols:At}=Bl(),{this_chat_Query:Ke,this_chat_Rows:ue,this_chat_RowsChecked:Ai,this_chat_Row:H,_this_chat_Details:Ti,this_chat_userOwned:Yi}=Ml();var{priceFilter:Tt,_enableRowFilter:Ki,_thisFiltering:Yt,_filteredRow:Kt}=zl();const Zt=$l(),Ze=ul();Vl(yt);const He=ft;T(null);let We=T(null),Ge=T(null),Je=T(null),Xe=T(null),W=T(null),Ht=T("Are You Sure ?");pt.value=r!=null?r:!1,$e.value=Pt,Ee.value=Ft;const Wt=Y(()=>({search:r.lytSearchRow,priceFilter:Tt}));Ot.value=ql();const Q=Pl(),U=Fl(),se=Ql();Oe=Y(()=>{var t,e;return(t=r._tableModel_Cols_Props)!=null&&t?(Gt(),(e=r._tableModel_Cols_Props)!=null?e:null):null}),Qt=Y(()=>{var t,e;return(t=r._tableModel_Row_Props)!=null&&t&&(e=r._tableModel_Row_Props)!=null?e:null});async function Gt(){await _t(Ut,Nt).then(n=>(n&&(Le.value=n),!0)),await _t(Vt,jt).then(n=>(n&&(Te.value=n),!0)),Zt.screen.lt.md&&je.value.push("");let t=await Qe(Le.value,je.value);ze.value=t[0],Et.value=t[1],await Jt(ze.value);let e=await Qe(Te.value,Lt.value);return Ye.value=e[0],At.value=e[1],await Xt(Ye.value),!1}async function Jt(t){return $.value=await Fe($t.value,t),$.value.orderID=await dt(),$.value.userID=r._profile.id,$.value.phone=r._profile.phone,$.value.phoneCode=r._profile.phoneCode,$.value.quantity=1,!0}async function Xt(t){return oe.value=await Fe(zt.value,t),oe.value.userID=r._profile.id,oe.value.phone=r._profile.phone,oe.value.phoneCode=r._profile.phoneCode,!0}X(r._pageSetting,(t,e)=>(_.value=Object.assign(_.value,t),!0)),We=Y(()=>r.lytSearchRow),X(We,async(t,e)=>{t&&(_.value.tableView="cards",G("lytSearchRow",t))}),Ge=Y(()=>r.lytButtonRow),X(Ge,async(t,e)=>{t&&(_.value.tableView="cards",G(t[0],t[1],t[2]))}),Xe=Y(()=>Q.getstatus_Rows),X(Xe,async(t,e)=>{let n;if(D.value=!1,t==null)return n="No Data.",!0;if(t=="noupdates")n="No Updates.";else if(t==!1)n="Locked";else{if(t==!0)return n="Loading ....",!0;if(t=="BadConnection")n="Offline";else return n=t,await pe({message:1},2e3,"...Session Closed"),t=="Unauthorized"&&nl(),!1}return Mt(5e3,n,"Product & Services"),!0}),X(o,(t,e)=>{if(It.value=t,kt.value=qt,v.value==null)return o.value.currency="ETB",!0;try{we.value=t.userID==r._profile.id}catch{[we.value]=[!1]}return!0}),X(Kt,(t,e)=>{}),Je=Y(()=>r.lytCreatRow),X(Je,async(t,e)=>(await J({thisIndex:null,thisOpsStatus:null,thisOps:"Create_this",thisOpsCard:"thisCard",stopSync:null}),I.value=!0,!0));async function el(t=null){return le.value=null,await J({thisIndex:t,thisOpsStatus:null,thisOps:"Update_this",thisOpsCard:"thisCard",stopSync:null}),I.value=!0,!0}async function G(t=null,e=null,n=null){var B;D.value="loading",Q.set_syncLock(!0),clearInterval(ae),pe({this_Query:0},0,"Updating..."),g.value=[],K.value=!1,v.value=null;let f={id:null,content:null,header:null,qweight:{},geoSearch:(B=_.value.geoSearch.value)!=null?B:"off",queryOperator:"productSpecific-or",limits:100,skips:0},b=await Hl(me.value,t,e,n);return me.value={...f,...b[0]},He("_this_Query",me.value),K.value=b[2],await il(Q,me.value),_.value.tableView=b[1],!0}let ae="";g=Y(()=>tl(Q.getDatas));function tl(t){return Array.isArray(t)?t.length?t:(_.value.tableView="cards",g.value):[]}async function Ie(){var e;q.value=null;let t={activeUserID:r._profile.id,userItemOwnership:we.value,activeItemID:(e=o.value.id)!=null?e:"",queryOperator:"and",otherQueries:{store:"buy"}};return Ae.value=await Ve(t),await De(U,Ae.value).then(async n=>(n&&(q.value=n,await ie(K.value,null)),!0)).catch(n=>!1)}async function Re(){var e;q.value=null;let t={activeUserID:r._profile.id,userItemOwnership:!0,activeItemID:(e=o.value.id)!=null?e:"",queryOperator:"and",otherQueries:{store:"buy"}};return Ke.value=await Ve(t),await De(se,Ke.value).then(n=>(n&&(ue.value=n,ie(K.value,null)),!0))}async function J(t={thisIndex:null,thisOpsStatus:null,thisOps:null,thisOpsCard:null,stopSync:null}){var e,n;if(v.value=t.thisIndex,(e=t.stopSync)!=null&&e&&(t.thisOps=="clients"?U.set_syncLock(!0):se.set_syncLock(!0)),le.value=null,ne.value=null,I.value=null,xt.value=null,bt.value=null,Ue.value="saleitgr",D.value=t.thisOpsStatus,d.value=t.thisOps,ge.value=t.thisOpsCard,t.thisIndex==null)o.value=Object.assign({},r._tableModel_Row_Props),o.value.geolocation=r._profile.geolocation,o.value.location=r._profile.location,o.value.currency=(n=r._profile.currency)!=null?n:"",o.value.userID=r._profile.id,o.value.phoneCode=r._profile.phoneCode,o.value.phone=r._profile.phone;else try{o.value=Object.assign({},g.value[t.thisIndex])}catch{}return!0}async function ie(t,e,n=null,f=null){var b,B,re,de;w.value=e,n&&n.set_syncLock(!0),St.value=null,te.value=null,Ct.value=null,Ne.value=f,K.value=t;try{if(d.value=="comments")e==null?(H.value=Object.assign({},oe.value),H.value.userID=r._profile.id,H.value.saleitID=(B=(b=o.value)==null?void 0:b.id)!=null?B:""):H.value=Object.assign({},ue.value[e]);else if(e==null||d.value=="details")h.value=Object.assign({},$.value),h.value.userID=r._profile.id,h.value.phoneCode=r._profile.phoneCode,h.value.currency=o.value.currency,h.value.location=o.value.location,h.value.geolocation=o.value.geolocation,h.value.saleitID=(de=(re=o.value)==null?void 0:re.id)!=null?de:"",h.value.orderID=await dt();else try{h.value=Object.assign({},q.value[e])}catch{}}catch{}return!0}const ll=async function(t=null,e=null){let n=v.value==t;return t==null||n&&d.value==e?(await J({thisOps:e,thisOpsCard:null,thisIndex:t,stopSync:Q}),await ie(null,null,e=="clients"?U:""),!0):!1},et=async function(t,e,n){let f=w.value==t;return t==null||f&&K.value==e?(await ie(null,null,d.value=="clients"?U:"",null),!0):!1};let p={_add:async()=>(w.value=null,h.value=Object.assign({},$.value),!0),selectedIndex_:async(t={foreignIndex:null,foreignOps:null,foreignOpsStatus:null})=>(Ne.value=t.foreignOps,await et(t.foreignIndex,t.foreignOps,d.value)?!1:(await ie(t.foreignOps,t.foreignIndex,d.value=="clients"?U:se,t.foreignOpsStatus),!0)),selectedIndex_RowDetail:async(t,e=null,n=null)=>{let f="clients";return await et(e,n)?!1:(v.value=0,await De(Q,{id:t}).then(async b=>{try{b&&(g.value[v.value]=b[v.value],await R._detailView(g.value[v.value].id,v.value,f,"selected","detailCard"),await p.selectedIndex_({foreignIndex:e,foreignOps:n,foreignOpsStatus:null}))}catch{return!0}}),!0)},selectedIndex_RowCard:async(t=null)=>{te.value=t},_remove:async()=>{if(d.value=="comments"){let t={id:o.value.id,comments:H.value};t.thisOps=d.value,t.thisSubOps="delete";let e=await se.deleteData(t,{});if(!e.status)return N(500,"Error Creating",""),!1;M(5e3,"Removed",""),g.value[v.value]=e.data.data,ue.value.splice(w.value,1),await ie(null,null,null,null)}else{let t={id:o.value.id,clients:h.value};t.thisOps=d.value,t.thisSubOps="delete";let e=await U.deleteData(t);if(!e.status)return N(500,"Error Creating",""),!1;M(5e3,"Removed",""),g.value[v.value]=e.data.data,q.value.splice(w.value,1),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_update_foreign:async()=>{if(w.value=null,d.value=="comments"){let t={id:o.value.id,comments:H.value};t.thisOps=d.value,t.thisSubOps="update";let e=await se.updateData(t,{});return e.status?(M(5e3,"Updated Succefully",""),g.value[v.value]=e.data.data,typeof w.value=="number"&&!te.value?ue.value[w.value]=e.data.foreignData:await Re(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):(N(500,"Error Updating",""),!1)}else{let t={id:o.value.id,clients:h.value};t.thisOps=d.value,t.thisSubOps="update",t.clients.store="buy";let e=await U.updateData(t,{});return e.status?(M(5e3,"Updated Succefully",""),g.value[v.value]=e.data.data,typeof w.value=="number"&&!te.value?q.value[w.value]=e.data.foreignData:await Ie(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):(N(500,"Error Updating",""),!1)}},_create_foreign:async()=>{if(d.value=="comments"){let t={id:o.value.id,comments:H.value};t.thisOps=d.value,t.thisSubOps="create";let e=await se.createData(t,{});if(!e.status)return N(500,"Error Creating",""),!1;M(5e3,"Created",""),g.value[v.value]=e.data.data,typeof w.value=="number"&&!te.value?ue.value[w.value]=e.data.foreignData:await Re(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_directBuyer:async(t={thisOps:null,thisIndex:null,thisSubOps:null,newOps:!0})=>{var f,b,B;let e={clients:h.value};e=Object.assign(e,t),e.clients.store=t.thisSubOps;let n;if(t.newOps?n=await U.createData(e,{}):n=await U.updateData(e,{}),!n.status)return N(500,"Error Creating",""),!1;if(t.thisSubOps=="buy")M(5e3,F.orderdone[Number((f=_.value.language)!=null?f:1)],"");else return M(5e3,F.savedone[Number((b=_.value.language)!=null?b:1)],""),Z.value.push((B=n.data.data.id)!=null?B:null),!0;return g.value[v.value]=n.data.data,typeof w.value=="number"&&!te.value?q.value[w.value]=n.data.foreignData:await Ie(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0}},R={_removeItem:async function(t=null,e=null){return v.value=null,d.value=e,delete g.value[t],!0},_detailView:async(t=null,e=null,n=null,f=null,b=null,B=null)=>(await J({thisIndex:e,thisOps:n,thisOpsCard:b,thisOpsStatus:f,stopSync:Q}),await p.selectedIndex_({foreignIndex:null,foreignOps:B,foreignOpsStatus:null}),!0),selectedRow_ForeignRows:async(t={thisIndex:null,thisOps:null,thisOpsCard:null,thisSubOps:null,this_foreignBoxOps:null})=>{var e;return console.error(t,"dddddddddjjjjjj"),await J({thisOps:t.thisOps,thisOpsCard:(e=t.thisOpsCard)!=null?e:!1,thisIndex:t.thisIndex,stopSync:Q}),await p.selectedIndex_({foreignIndex:null,foreignOps:t.this_foreignBoxOps,foreignOpsStatus:!0}),t.this_foreignBoxOps!="direct"&&(t.thisOps=="clients"?Ie():Re()),!0},_rating:async(t={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(o.value=Object.assign(o.value,t),await ye().then(async e=>(e&&(M(5e3,"You Rated","Succefully Updated"),g.value[t.thisIndex]._itServiceRating++),!0)).catch(e=>!1)),_likes:async(t={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(o.value=Object.assign(o.value,t),await ye().then(async e=>(e&&(M(5e3,"Liked","Succefully Updated"),g.value[t.thisIndex].likes.like++),!0)).catch(e=>!1)),_following:async(t={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(o.value=Object.assign(o.value,t),await ye().then(async e=>(e&&M(5e3,"Following ","Succefully Updated"),!0)).catch(e=>!1)),_delRow:async(t=null,e,n)=>t==null?(o.value={id:n},W.value=R._delRow,!1):(W.value=null,t?await Dt().then(f=>(f&&G("userID",r._profile.id),!0)).catch(f=>!1):!1),_toCart:async(t={id:null,thisIndex:null,thisOps:null,thisSubOps:null})=>{var n,f;o.value={clients:Object.assign({store:t.thisSubOps},(n=$.value)!=null?n:{})},o.value=Object.assign(o.value,t),console.log(t,"poooooo");let e=await U.createData(o.value,{});return e.status?(M(5e3,"Product Saved",""),Z.value.push((f=e.data.data.id)!=null?f:null),!0):(N(500,"Error Creating",""),!1)}};async function sl(){return D.value=!0,o.value.thisOps=d.value,o.value.thisSubOps="new",await Rt().then(async t=>(pe({createData:1},1,"Updating..."),t?(He("_this_PageSetting",{path:"myservices"}),gt!="myservice"?Ze.push("/play/sMyServices"):G("userID",r._profile.id)):(D.value=!1,le.value=null,!0))).catch(t=>(N(5e3,"Error Creating","Error Creating"+t),le.value=null,I.value=!1,!1))}async function al(){return D.value=!0,o.value.thisOps=d.value,o.value.thisSubOps="update",await ye().then(async t=>(pe({updateData:1},1,"Updating..."),t&&(M(5e3,"Item Updated","Succefully Updated"),g.value[v.value]=Object.assign({},t),I.value=!1),D.value=!1,le.value=null,!0)).catch(t=>(N(5e3,"Error Updating","Error Updating"+t),D.value=!1,I.value=!1,le.value=null,!1))}let tt=T(25e5);const il=async(t,e)=>(clearInterval(ae),await t.set_syncQuery(e),t.set_syncLock(!1),t.asyncDatas(),setTimeout(function(){clearInterval(ae),ae=setInterval(t.asyncDatas,tt.value)},tt.value),!0),De=async(t,e)=>await t.readFData(e).then(n=>n.status?n.data:!1);rl(async()=>{clearInterval(ae),await J({thisOps:null,thisOpsCard:null,thisIndex:null,stopSync:Q}),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}),G(),dl(async()=>(clearInterval(ae),await J({thisOps:"clients",thisOpsCard:null,thisIndex:null,stopSync:Q}),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0));let nl=async()=>Ze.push(jl._clear());async function ol(t,e=null,n="onList"){if(v.value=t,ne.value=e,n=="onZoom"){let f={};f=g.value[t],o.value=Object.assign({},f),wt.value=!0}else mt=!0}return(t,e)=>{var f,b,B,re,de,lt,st;const n=cl("ItemAction");return i(),u(qe,null,[l(I)?(i(),C(he,{key:0,isOpen:l(I),bg:"bgd-md",onEmitClick0:e[3]||(e[3]=c=>ee(I)?I.value=c:I=c)},{default:S(()=>[s("div",Wl,[y(Kl,{_this:l(o),_pageSettings:l(_),__thisOpsStatus:l(D),__thisOps:l(d),active_fileName:l(Ue),thisSchemaFile_Rec:l(Ee),thisSchemaPath_Rec:l($e),onClose:e[0]||(e[0]=c=>ee(I)?I.value=c:I=c),onUpdate_this:e[1]||(e[1]=c=>al()),onCreate_this:e[2]||(e[2]=c=>sl())},null,8,["_this","_pageSettings","__thisOpsStatus","__thisOps","active_fileName","thisSchemaFile_Rec","thisSchemaPath_Rec"])])]),_:1},8,["isOpen"])):k("",!0),l(d)=="details"&&l(ge)=="detailCard"?(i(),C(he,{key:1,isOpen:l(d),bg:"bgd-xs",onEmitClick0:e[8]||(e[8]=c=>ll())},{default:S(()=>[Object.keys(l(o)).length?(i(),u("div",Gl,[s("button",{onClick:e[4]||(e[4]=c=>ee(d)?d.value=null:d=null),class:"ri-close-line boxStyle-flat fontStyle-xl font-negative"}),y(Tl,{_this_RowsChecked:l(Z),__thisIndex:l(v),active_fileIndex:l(ne),_this:l(o),_pageSettings:l(_),active_foreignModelOps:l(K),active_foreignModelIndex:l(w),this_client_Row:l(h),onSelectedIndex_RowCard:e[5]||(e[5]=c=>l(p).selectedIndex_RowCard(c)),onBuyIndex:e[6]||(e[6]=c=>l(p)._directBuyer(c)),onCartIndex:e[7]||(e[7]=c=>l(p)._directBuyer(c))},null,8,["_this_RowsChecked","__thisIndex","active_fileIndex","_this","_pageSettings","active_foreignModelOps","active_foreignModelIndex","this_client_Row"])])):(i(),u("div",Jl,[l(D)?(i(),u("div",Xl,[y(Me,{color:"primary",size:"3em",thickness:2}),es])):(i(),u("div",ts," Order Detail "))]))]),_:1},8,["isOpen"])):k("",!0),l(D)=="loading"?(i(),C(he,{key:2,isOpen:l(D)},{default:S(()=>[y(Me,{color:"primary",size:"3em",thickness:2}),ls]),_:1},8,["isOpen"])):k("",!0),y(he,{isOpen:l(W),onEmitClick0:e[9]||(e[9]=c=>ee(W)?W.value=c:W=c)},{default:S(()=>[y(Nl,{onConfirmButton:l(W),header:l(Ht),title:"Yes",textcolor:"black",background:"green",title2:"No",textcolor2:"green",background2:"red",style:{padding:"40px","border-radius":"5px"}},null,8,["onConfirmButton","header"])]),_:1},8,["isOpen"]),l(d)=="clients"&&l(ge)=="buycart"?(i(),C(he,{key:3,isOpen:l(d),bg:"bgd-xs",onEmitClick0:e[18]||(e[18]=c=>ee(d)?d.value=c:d=c)},{default:S(()=>{var c,a,E,V,j,L;return[s("div",ss,[Number((a=(c=l(o))==null?void 0:c.isOpen)!=null?a:!1)&&Number((V=(E=l(o))==null?void 0:E.quantity)!=null?V:!1)?(i(),u("div",os,[(j=l(h).orderID)!=null&&j?(i(),u("div",us,[s("div",rs,[y(vt,{style:{padding:"0px",margin:"0px"},title:null,quantity:l(h).quantity,price:l(o).netPrice,currency:l(o).currency,onstore:l(o).quantity,background2:"white",background:"white",onDecreaseButton:e[10]||(e[10]=m=>{var P;return l(h).quantity=parseFloat((P=l(h).quantity)!=null?P:1)-1}),onIncreaseButton:e[11]||(e[11]=m=>{var P;return l(h).quantity=parseFloat((P=l(h).quantity)!=null?P:1)+1})},null,8,["quantity","price","currency","onstore"])]),s("div",ds,[y(ht,{_this:l(o),rowProp:l(o),__thisIndex:l(v),_this_RowsChecked:l(Z),_pageSettings:l(_),onBuyIndex:e[12]||(e[12]=m=>l(p)._directBuyer(m)),onCartIndex:e[13]||(e[13]=m=>l(p)._directBuyer(m))},null,8,["_this","rowProp","__thisIndex","_this_RowsChecked","_pageSettings"])])])):k("",!0)])):(i(),u("div",as,[l(o).netPrice?(i(),u("div",ns,"Product is sold out!")):(i(),u("div",is," Sorry, Price isn't fixed yet! "))])),(L=l(q))!=null&&L?(i(),u("div",cs,[s("h4",_s," You have "+O(l(q).length)+" orders ",1),s("div",hs,[y(Al,{_this_userOwned:l(we),this_client_Row:l(h),this_client_Rows:l(q),_profile:ve._profile,_pageSettings:l(_),active_foreignModelIndex:l(w),onDischargeIndex:e[14]||(e[14]=m=>ee(w)?w.value=m:w=m),onSelectIndex:e[15]||(e[15]=m=>l(p).selectedIndex_(m)),onDeleteIndex:e[16]||(e[16]=m=>l(p)._remove(m)),onUpdateIndex:e[17]||(e[17]=m=>l(p)._update_foreign(m))},null,8,["_this_userOwned","this_client_Row","this_client_Rows","_profile","_pageSettings","active_foreignModelIndex"])])])):(i(),u("div",vs,[l(q)==null?(i(),C(Me,{key:0,color:"blue",size:"5em",thickness:5})):(i(),u("div",fs,"Your Cart is Empty!"))]))])]}),_:1},8,["isOpen"])):k("",!0),(f=l(Se).length)!=null&&f?(i(),C(ut,{key:4,messages:(b=l(Se))!=null?b:[],onCloseButton:e[19]||(e[19]=c=>Se.value=[])},null,8,["messages"])):k("",!0),(B=l(Ce).length)!=null&&B?(i(),C(ut,{key:5,messages:(re=l(Ce))!=null?re:[{}],onCloseButton:e[20]||(e[20]=c=>Ce.value=[])},null,8,["messages"])):k("",!0),(de=l(ke).length)!=null&&de?(i(),C(Yl,{key:6,messages:(lt=l(ke))!=null?lt:[{}],onCloseButton:e[21]||(e[21]=c=>ke.value=[])},null,8,["messages"])):k("",!0),(st=l(Bt).message)!=null&&st?(i(),C(ot,{key:7},{default:S(()=>[xe(" Seesion Error ! please wait to login. ")]),_:1})):(i(),C(ot,{key:8,class:"ts-box-fill ccolumn cj-center fontStyle-sm"},{default:S(()=>{var c;return[((c=l(g))!=null?c:!1)&&l(g).length?(i(),u("div",gs,[l(_).tableView=="main"?(i(),C(ct,{key:0,rows:l(g),columns:l(Oe),filterMethod:l(Yt),filter:Wt.value,"visible-columns":ve.visible_modelCols_label_Props,"virtual-scroll":"","row-key":"id",rowIndex:"true",inFullscreen:!0,"no-data-label":"Data Error","rows-per-page-options":[0],"hide-top":"","hide-bottom":"","hide-header":"",style:{"padding-top":"10vh"},class:"bgc-dark"},{body:S(a=>[l(g).length?(i(),C(be,{key:0,props:a,class:"column col-11 q-gutter-xs q-tr--no-hover fit fontStyle-sm",style:{"min-height":"50vh",border:"0px solid blue",padding:"0px",margin:"0px"}},{default:S(()=>[y(Ul,{class:"itemRow-size crow"},{default:S(()=>{var E,V,j,L,m,P,ce;return[s("div",ys,[s("img",{loading:"lazy",src:l(v)==a.rowIndex&&l(ne)?a.row.saleitgr[l(ne)]:a.row.saleitgr[0],class:"boxStyle-flat radius-xs"},null,8,ps),s("div",ms,[a.rowIndex==l(v)?(i(),u("div",ws,[s("div",xs,[s("div",{class:"",onClick:x=>{var z;return G("userID",(z=a.row.userID)!=null?z:null)}},[s("div",Ss,[s("div",Cs,[s("i",ks,[s("h5",null,O(a.row.fphone),1)])]),Os]),s("div",Is,[a.row.userID!=l(r)._profile.id?(i(),u("button",{key:0,class:"boxStyle-xxs p-sidesm fontStyle-sm",onClick:x=>l(R)._following({thisIndex:a.rowIndex,id:a.row.id,thisOps:"following",thisSubOps:"increase"})},Bs,8,Rs)):k("",!0),s("h5",Ms,O(a.row.fcreatedAt),1)])],8,bs)]),s("div",qs,[(i(!0),u(qe,null,nt(a.row.saleitgr,(x,z)=>(i(),C(fl,{outline:"",key:z,onMouseover:Be=>ol(a.rowIndex,z),class:"col-1 column transparent q-pa-none no-border",style:{"max-width":"7vw"}},{default:S(()=>[s("img",{src:x,class:"col fit shadow-2 rounded-borders q-pa-none",style:{"aspect-ratio":"1/1","min-width":"100%"}},null,8,Ps)]),_:2},1032,["onMouseover"]))),128))]),s("div",Fs,[y(rt,{class:"q-py-sm fontStyle-sm col-auto"},{default:S(()=>[s("div",null,[s("button",{class:"boxStyle-xs bgc-grey200 font-grey100 radius-xs fontStyle-sm",onClick:x=>l(R)._detailView(a.row.id,a.rowIndex,"details","selected","detailCard")},Ns,8,Qs)])]),_:2},1024),y(rt,null,{default:S(()=>[y(n,{rowProp:a.row,__thisIndex:a.rowIndex,_this_RowsChecked:l(Z),_pageSettings:l(_),onBuyIndex:e[22]||(e[22]=x=>l(R).selectedRow_ForeignRows(x)),onCartIndex:e[23]||(e[23]=x=>l(p)._directBuyer(x)),onRateIndex:e[24]||(e[24]=x=>l(R)._rating(x))},null,8,["rowProp","__thisIndex","_this_RowsChecked","_pageSettings"])]),_:2},1024)])])):(i(),u("div",$s,[s("button",{class:"boxStyle-xxs p-lrsm bgc-grey75-hovered fontStyle-sm font-grey",onClick:x=>l(R)._detailView(a.row.id,a.rowIndex,"details","hover","detailPaper")},[s("h3",null,O(l(F).more[Number((E=l(_).language)!=null?E:1)]),1)],8,Es),Vs,s("div",js,[s("i",Ls,O(a.row.fphone),1)])]))]),s("div",zs,[a.row.isOpen?(i(),u("button",As,[s("h4",Ts,O(l(F).open[Number((V=l(_).language)!=null?V:1)]),1)])):(i(),u("div",Ys,[(j=a.row.tClient)!=null&&j?(i(),u("button",Ks,[s("h4",Zs,O(l(F).sold[Number((L=l(_).language)!=null?L:1)]),1)])):(i(),u("button",Hs,[s("h4",Ws,O(l(F).pending[Number((m=l(_).language)!=null?m:1)]),1)]))])),(P=a.row.likes)!=null&&P?(i(),u("button",{key:2,class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R)._likes({thisIndex:a.rowIndex,id:a.row.id,thisOps:"likes",thisSubOps:"increase"})},[s("h4",Js," Like "+O(a.row.likes.like),1)],8,Gs)):k("",!0),s("button",{class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R).selectedRow_ForeignRows(a.rowIndex,"comments")},ta,8,Xs),(ce=a.row.likes)!=null&&ce?(i(),u("button",{key:3,class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R)._detailView(a.row.id,a.rowIndex,"details","hover","detailCover")},aa,8,la)):k("",!0),l(r)._profile.id==a.row.userID?(i(),u("div",ia,[s("button",{class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>el(a.rowIndex)},ua,8,na),s("button",{class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R)._delRow(null,a.rowIndex,a.key)},ca,8,ra)])):k("",!0)])])]}),_:2},1024)]),_:2},1032,["props"])):(i(),C(be,{key:1,class:"column col-11 q-gutter-xs q-tr--no-hover fit fontStyle-sm",style:{"min-height":"50vh",border:"0px solid blue",padding:"0px",margin:"0px"}},{default:S(()=>[xe(" Error Loading Product ... ")]),_:1}))]),_:1},8,["rows","columns","filterMethod","filter","visible-columns"])):l(_).tableView=="cards"?(i(),C(ct,{key:1,flat:"",bordered:"",rows:l(g),columns:l(Oe),"virtual-scroll":"","row-key":"id",rowIndex:"true",grid:"","hide-header":"",inFullscreen:!0,pagination:l(fe),"onUpdate:pagination":e[29]||(e[29]=a=>ee(fe)?fe.value=a:fe=a),loading:t.loading,"hide-pagination":"",onRequest:t.onRequest,"hide-top":"","hide-bottom":"","no-data-label":"",class:"boxStyle-xs",style:{"padding-top":"1vh","justify-content":"center"}},{header:S(a=>[y(be,{props:a,class:"ts-box-fillauto crow",style:_l([{height:"5vh",position:"fixed","z-index":"5"},ve.isScrolledUp?"top:0vh":"top:6vh;padding-top:0px"])},null,8,["props","style"])]),item:S(a=>[y(be,{props:a,class:"col-grow boxStyle-xxs"},{default:S(()=>{var E,V,j,L,m,P,ce,x,z,Be,at,it;return[s("div",_a,[s("div",null,[(V=(E=a.row)==null?void 0:E.saleitgr)!=null&&V?(i(),C(Sl,{key:0,src:a.row.saleitgr[0],style:{"aspect-ratio":"1/1.5","min-width":"40vw"},class:""},null,8,["src"])):k("",!0)]),typeof l(v)=="number"&&l(v)==a.rowIndex?(i(),u("div",ha,[l(D)=="hover"?(i(),u("div",va,[s("button",{class:"boxStyle-xs bgc-dark font-light radius-md",onClick:A=>l(R)._detailView(a.row.id,a.rowIndex,"details","selected","detailCard")},[s("h4",null,O(l(F).details[Number((j=l(_).language)!=null?j:1)]),1)],8,fa),a.row.isOpen?(i(),u("button",{key:0,class:"boxStyle-xxs bgc-warning font-dark radius-md",onClick:A=>l(R)._detailView(a.row.id,a.rowIndex,"clients","selected","buyPaper")},[s("h4",ya,O(l(F)["buy open"][Number((L=l(_).language)!=null?L:1)]),1)],8,ga)):k("",!0)])):l(d)=="clients"&&l(ge)=="buyPaper"?(i(),u("div",pa,[((P=(m=l(o))==null?void 0:m.price)!=null?P:!1)&&((x=(ce=l(o))==null?void 0:ce.quantity)!=null?x:!1)&&l(h)?(i(),u("div",ma,[s("div",wa,[y(vt,{style:{},quantity:l(h).quantity,price:l(o).netPrice,currency:l(o).currency,background2:"white",background:"white",onDecreaseButton:e[25]||(e[25]=A=>{var _e;return l(h).quantity=parseFloat((_e=l(h).quantity)!=null?_e:1)-1}),onIncreaseButton:e[26]||(e[26]=A=>{var _e;return l(h).quantity=parseFloat((_e=l(h).quantity)!=null?_e:1)+1})},null,8,["quantity","price","currency"])]),s("div",xa,[y(ht,{_this:l(o),rowProp:a.row,__thisIndex:a.rowIndex,_this_RowsChecked:l(Z),_pageSettings:l(_),onBuyIndex:e[27]||(e[27]=A=>l(p)._directBuyer(A)),onCartIndex:e[28]||(e[28]=A=>l(p)._directBuyer(A))},null,8,["_this","rowProp","__thisIndex","_this_RowsChecked","_pageSettings"])])])):(i(),u("div",ba,"Sale Closed !"))])):k("",!0)])):(i(),u("div",Sa,[s("div",Ca,[a.row.isOpen?(i(),u("button",ka,[s("h4",Oa,O(l(F).open[Number((z=l(_).language)!=null?z:1)]),1)])):(i(),u("div",Ia,[(Be=a.row.tClient)!=null&&Be?(i(),u("button",Ra,[s("h4",Da,O(l(F).sold[Number((at=l(_).language)!=null?at:1)]),1)])):(i(),u("button",Ba,[s("h4",Ma,O(l(F).pending[Number((it=l(_).language)!=null?it:1)]),1)]))])),l(Z).includes(a.row.id)?(i(),u("div",qa,[s("div",Pa,[xe(O((l(_).language,"Saved"))+" ",1),y(hl,{name:"save"})])])):k("",!0)]),s("div",Fa,[s("div",null,[s("button",{class:"boxStyle-xs",onClick:A=>l(R)._detailView(a.row.id,a.rowIndex,"details","hover","detailPaper")},Na,8,Qa)])])]))])]}),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","loading","onRequest"])):(i(),u("div",$a,"No Data"))])):(i(),u("div",Ea,[y(vl,{inset:""}),xe(" please wait, while fetching data.... "),s("div",Va,[(i(),u(qe,null,nt([1,2,3,4,5],a=>y(Pe,{class:"col",square:"",key:a})),64))]),s("div",ja,[y(Pe,{class:"col"}),y(Pe,{class:"col-4",square:""})]),s("div",La,[s("button",{onClick:e[30]||(e[30]=a=>G(null,null,16))},"Home")])]))]}),_:1}))],64)}}};export{un as default};
