import{u as _l,t as pl,h as ml,Q as gl,b as Ct,c as hl,d as St}from"./thisAndForeignMixin.07cd334a.js";import{m as bl,d as ge,Q as Se,c as qt}from"./moduleLoader.6f2f3520.js";import{r as z,R as wl,C as Dt,c as oe,w as qe,o as xl,a as kl,l as o,Y as u,u as t,m as B,n as f,b as $,p,f as n,F as M,bJ as We,bK as Ot,a0 as Ge,W as a,X as C,Q as m,bB as Cl,ba as N,a1 as ve,Z as c,a3 as ne,a4 as he,bd as It,b9 as be,bc as Je,a2 as De,b8 as Rt,be as Qt,bM as Sl,bt as Ut,bf as ql}from"./index.2d8c7734.js";import{u as Dl,a as Xe,Q as Ol}from"./schemaDefaultingMixin.5a7230b7.js";import{d as zt,Q as Ve}from"./debugCards.fc121c68.js";import{Q as Il}from"./QExpansionItem.4791e462.js";import{Q as Rl,a as Ql,b as Ul}from"./QCarousel.f91d3652.js";import{u as zl,a as Bl,s as $l,b as jl,c as El,_ as Bt,d as $t,Q as Fl}from"./salechatStore.644d444a.js";import{Q as Ml}from"./QSelect.2e1efa61.js";import{Q as Vl}from"./QPage.ab9f6ff1.js";import{u as Ll}from"./use-quasar.fae1d3a2.js";import{u as Pl,a as Nl}from"./debugMixin.9a788b98.js";import{a as Tl,u as Al}from"./schemaValidator.e7296ded.js";import{_ as Yl}from"./confirmButton.a0d65832.js";import{u as Hl}from"./statusMixin.8607cc04.js";import{u as Kl}from"./fileserviceMixin.ed8720c3.js";import{_ as Wl}from"./storeService.3eb6e8a7.js";import{u as Gl}from"./servicefilter.fafd0861.js";import"./axios.05cf8750.js";import"./touch.9135741d.js";const Jl={class:"col q-pa-none q-ma-none bg-green"},Xl={class:"absolute-full transparent column justify-between"},Zl={class:"row q-ma-sm"},ea=a("div",{class:"col fontdstyle text-dark"},null,-1),ta={class:"column col-auto q-gutter-xs",style:{width:"5vw"}},la={class:"col row justify-between q-py-sm"},aa={class:"self-end justify-left col-auto",style:{"max-width":"4vw"}},sa={key:0},oa={key:1},na={key:0,class:"self-end justify-right col-grow column q-pa-xs",style:{"max-height":"100%"}},ia={key:0,class:"self-end justify-right col row bg-orange fontastyle q-pa-xs"},ra={key:1,class:"self-end justify-right col row shadow-1 q-pa-sm transparent",style:{"max-height":"100%","max-width":"100%",position:"absolute",top:"100px",left:"25px",width:"5vw",height:"5vh"}},ua=["src"],da={key:2,class:"self-end justify-right col row shadow-5 q-pa-xs",style:{"max-height":"100%","max-width":"100%"}},ca=["src"],va={class:"col fontastyle q-gutter-xs column",style:{"border-radius":"5px",border:"0px solid white"}},fa={class:"row q-gutter-md"},ya={class:"col",style:{border:"0px solid black"}},_a={key:0,class:"boxvalidStyle text-red"},pa={class:"col",style:{border:"0px solid black"}},ma={key:0,class:"boxvalidStyle text-red"},ga={class:"col",style:{border:"0px solid black"}},ha={key:0,class:"boxvalidStyle text-red"},ba={class:"col",style:{border:"0px solid black"}},wa={key:0,class:"boxvalidStyle text-red"},xa={key:0},ka={key:0,class:"boxvalidStyle"},Ca={class:"col fontastyle q-gutter-xs",style:{"border-radius":"5px",border:"0px solid white"}},Sa={class:"row q-gutter-sm"},qa={class:"col",style:{border:"0px solid black"}},Da={key:0,class:"boxvalidStyle text-red"},Oa={class:"col",style:{border:"0px solid black"}},Ia={key:0,class:"boxvalidStyle text-red"},Ra={class:"col",style:{border:"0px solid black"}},Qa={key:0,class:"boxvalidStyle text-red"},Ua={key:0,class:"boxvalidStyle"},za={key:0,class:"boxvalidStyle"},Ba={key:0,class:"row q-pa-sm"},$a={class:"cardPopDetails",style:{"min-width":"90vw"}},ja={class:"row no-wrap q-gutter-sm"},Ea=a("div",null,null,-1),Fa=a("div",{class:"horizontalLineBlack"},null,-1),Ma=a("div",{class:"horizontalLineBlack"},null,-1),Va={key:0,class:"col-auto row justify-start no-padding no-margine q-gutter-xs",style:{border:"0px solid orange","max-height":"40px"}},La={class:"col-auto transparent row justify-end items-center",style:{top:"0px",right:"0px"}},Pa={style:{color:"grey","font-size":"0.6em"}},Na={style:{height:"600px",width:"90vw","overflow-y":"scroll"}},Ta={class:"cardPopDetails-title",style:{width:"50%",overflow:"hidden"}},Aa={style:{}},Ya={class:"cardPopDetails-content bg-white"},Ha={class:"row q-px-xs"},Ka={class:"col"},Wa={class:"cardPopDetails-meta"},Ga={class:"fontcstyle"},Ja={key:0,class:"text-grey q-px-sm"},Xa={key:1,class:"text-grey q-px-sm"},Za={key:0,class:"textStylea"},es={style:{color:"grey","font-size":"0.9em"}},ts=a("div",{style:{height:"1px",width:"100%","background-color":"white",padding:"2px",margin:"2px"}},null,-1),ls={class:"row cardPopDetails-items"},as={class:"fontcstyle"},ss=a("div",null,"Quantity",-1),os={class:"boxbstyle row justify-center",style:{"border-radius":"7%"}},ns={class:"fontcstyle"},is=a("div",null,"Buyers #",-1),rs={class:"boxbstyle row justify-center",style:{"border-radius":"7%"}},us={class:"cardPopDetails-items"},ds={class:"fontcstyle"},cs={class:"boxbstyle"},vs=a("div",{class:"verticalLineBlack"},null,-1),fs={class:"fontcstyle"},ys={class:"boxbstyle"},_s=a("div",{class:"verticalLine"},null,-1),ps={class:"fontcstyle"},ms={class:"boxbstyle"},gs={class:"col-auto boxbstyle column justify-center items-center q-ma-sm"},hs=a("div",null,"Unit Price",-1),bs={class:"row justify-evenly q-gutter-sm q-py-sm fontcstyle"},ws=a("p",null,"Direct Buy (Qty = 1)",-1),xs=a("p",null,"Add to cart",-1),ks={key:1,class:"fontestyle text-white"},Cs={class:"column",style:{"background-color":"orange",border:"1px dashed #d6d6d6","border-radius":"4px",padding:"2px"}},Ss={key:0},qs={class:"col bg-white row fit"},Ds={class:"q-pa-sm q-gutter-sm row justify-between"},Os={size:"col-auto row"},Is=a("div",null,"Search Date:",-1),Rs={class:"row justify-between q-gutter-sm q-px-xs"},Qs=a("div",{class:"text-grey"},null,-1),Us=a("div",null,"Show Store:",-1),zs={class:"text-black"},Bs=a("div",null,"Serve Status:",-1),$s={class:"text-black"},js={key:0,class:"col"},Es={class:"col q-gutter-xs column no-wrap boxastyle q-px-xs",style:{"min-width":"95vw",height:"88vh"}},Fs={class:"col column q-gutter-xs",style:{"max-height":"90vh"}},Ms={class:"col-auto q-pa-sm fontestyle column"},Vs=a("div",{class:"row q-mx-xs"},[a("div",null,"Your Service and Products")],-1),Ls={key:0,class:"items-center fontastyle text-blue row justify-between col-auto"},Ps={class:"items-center q-px-xs"},Ns=a("div",null,"Enable Live Orders",-1),Ts={key:0,class:"col-grow row q-gutter-sm no-overflow scroll-area",style:{height:"50vh"}},As={key:0,class:"col-auto q-gutter-sm row"},Ys={class:"q-gutter-xs transparent"},Hs={key:0,style:{"border-radius":"50%",width:"1vw",height:"1vw","background-color":"red"}},Ks={class:"row q-gutter-xs no-wrap justify-between fontdstyle"},Ws={class:"col-auto row justify-start"},Gs={class:"q-gutter-xs"},Js={class:"col-grow column items-end q-gutter-xs fontastyle"},Xs={class:"row no-wrap items-center q-py-sm q-gutter-md fontastyle justify-between"},Zs={class:"col-grow column flex boxastyle text-orange flex-center"},eo=a("div",{class:"fontcstyle"},"Buyers",-1),to={key:1,class:"col-grow column justify-center items-center text-grey"},lo={class:"col column rounded-borders fontastyle q-gutter-xs bg-orange",style:{"min-height":"90svh","min-width":"98vw"}},ao={class:"column q-gutter-xs q-ma-none"},so={class:"col-auto row justify-between q-gutter-xs q-ma-none"},oo=a("div",{class:"q-pa-xs"},"Client Information",-1),no={key:0,class:"col-auto q-gutter-sm row no-wrap q-pa-xs justify-between"},io=a("div",{class:"col-auto row q-gutter-xs column justify-between items-center"},[a("div",{class:"col-auto q-gutter-sm row q-pa-xs justify-between boxastyle"})],-1),ro={class:"col-auto column q-gutter-xs text-black"},uo={class:""},co={class:"col q-gutter-xs row q-pa-none"},vo=a("div",{class:"box0style"},"Total Orders",-1),fo={class:"row flex flex-center col-grow"},yo={class:"circleaStyle"},_o={class:"shadow-1 col-auto box0style column"},po=a("div",{class:"box0style"},"Expected Income",-1),mo={class:"row flex flex-center col-grow q-gutter-xs"},go={class:"circleaStyle"},ho={class:""},bo={class:"col q-gutter-xs items-center column justify-center fontcstyle text-white row q-pa-none"},wo={key:0,class:"col column q-pa-sm q-ma-none",style:{"min-width":"50vw"}},xo={key:0,class:"col q-pa-none column"},ko={class:"justify-center q-ma-sm row fontastyle bg-orange",style:{"backdrop-filter":"blur(850px)",padding:"0px",margin:"0px"}},Co={class:"col-auto row justify-start q-gutter-xs"},So={class:"q-px-md"},qo=a("p",null,"Editing Order",-1),Do={style:{},class:""},Oo={style:{},class:"col-auto"},Io={class:"q-gutter-xs row"},Ro={class:"column q-gutter-xs"},Qo=["props"],Uo={key:0,class:""},zo={key:1},Bo={key:2},$o={key:3,class:"text-grey"},jo={key:4,class:"q-gutter-xs"},Eo={key:0,class:"q-gutter-xs row"},Fo={class:"column q-gutter-xs"},Mo={key:5,class:"fontastyle text-grey-8"},Vo={key:1,class:"col q-py-md fit q-gutter-md flex flex-center column",style:{}},Lo={style:{width:"80%"},class:"col-grow q-pa-xs column q-gutter-xs"},Po=a("div",{class:"row items-center q-gutter-sm"},[a("div"),a("div",{class:"fontastyle text-red"},"No Buyer Detected, so far")],-1),Oe="/saleitapi/saleit",Qn={__name:"splayservicePage",props:{_profile:{type:Object,default:()=>({})},_acctype:{type:Object,default:()=>{}},lytCreatRow:{type:Boolean,default:!1},lytSearchRow:{type:String,default:""},isScrolled:{type:Boolean,default:!1},isScrolledUp:{type:Boolean,default:!1},_pageSetting:{type:Object,default:()=>({})},columnsM:{type:Object,default:()=>({})},_thisDefaultM:{type:Object,default:()=>({})},visibleColumnsM:{type:Object,default:()=>({})}},setup(jt){const{thisSchemaPath:No,thisSchemaFile:To,_debugObj:q,_validateThis:V}=Tl();let ie=z(null),Et=z("Are You Sure ?");const{Loadingpage:Ao,Loadingevent:Yo,DoneMessage:Le,WarnthisMessage:Pe,timerLoadevent:ee,timerDone:L,timerError:w}=Pl(),{status_KnowthisMessage:Ho,status_timerInformthis:Ft}=Hl();var{_thisMedia:Ko,_fileAttributeName:W,_cameraBox:Ie,_fileSourceFoCam:Mt,_fileAsSRC:we,_fileAsRaw:Re,_liveFeedSRC:Vt,_fileAsSRCIndex:Ze,_cameraDevice:Lt,_listCameraSource:Pt,_selectedCameraById:et,_selectedCameraByface:tt,_liveFeedRawStreaming:Nt,_fileSourceFolder:Tt,_fileAsSRCOps:Qe,_fileAsSRCOpsCall:lt,_resetFileSource:Wo}=Kl();Ll(),wl();let g=jt;var{_is_modelOneOwner:Be,_is_this_netPrice:at,_is_this_open:st,__thisBox:T,__thisIndex:x,__thisOps:k,__thisOpsStatus:I,__thissubOps:At,__thissubOpsStatus:ot,__this_foreignBox:Yt,__this_foreignBoxDialog:nt,__this_foreignBoxFilter:re,__this_foreignBoxIndex:h,__this_foreignBoxOps:G,__this_foreignBoxOpsStatus:Ue,__this_foreignBoxsubOps:Ht}=_l();let{Objprops_:Ne,_allColumnName:Go,_rolesColumn:Jo,visibleColumn:Xo,_allColumnNames:Zo,_rolesColumns:en,visibleColumns:Kt,foreign_Columns:Wt,_this_foreignDefaulting:Gt}=Dl(),{_thisModel:Te,_this_Schema:ze,_this_Rows:S,_this:s,columns:Jt,_this_Query:D,_this_RowsStatus:tn,_thisDefault:it}=Al();var{_this_modelOneSchema:rt,_this_modelOneColumns:ut,visibleColumns_client:dt,invisibleColumns_client:ct,_modelOneQuery:xe,_this_modelOneRows:J,status_modelOneDetails:ln,_thisDefault_client:X,_this_modelOneforeign:R,_is_modelOneOwner:Be}=zl(),{_this_chatSchema:an,_this_chatColumns:sn,visibleColumns_chat:on,invisibleColumns_chat:nn,_chatQuery:Ae,_this_modelTwoRows:$e,_thisDefault_chat:Xt,_this_chatforeign:ue,_is_chatOwner:Zt}=Bl(),{totalPrice:el,storeItems:tl,serveItems:rn,_enableRowFilter:ll,_thisFiltering:al,_filteredRow:un}=Gl();ll.value=!0,Nl({title:"sale_itService",titleTemplate:l=>`${l} - `,icon:"/icons/qimage.png",script:{}}),bl("saleitSchemas","saleitSchema").then(l=>{l&&(console.log("Loaded schema:",l),ze.value=l)}),Te.value="saleit",z(Te.value+" Managment");const fe=pl(),H=$l(),F=jl(),de=El();let sl={gt:!1,lt:!1,eq:!1},ye=Dt({Requested:!0,Queed:!0,Served:!0}),ke=Dt({cart:!0,buy:!0}),te=z(null);const vt=oe(()=>(console.log("searchig",g.lytSearchRow),{search:g.lytSearchRow,Requested:ye.Requested,Queed:ye.Queed,Served:ye.Served,cart:ke.cart,buy:ke.buy,recordDate:te.value,priceFilter:sl}));let K=z(!1);z({}),Ne.value=g,oe(()=>{var l,e;return alert("aaaaa"),(l=Ne._acctype)!=null&&l&&(e=Ne._acctype[Te.value])!=null?e:null}),console.log(g,"objeprops");let ft=z(null);qe(ft,(l,e)=>l!=null&&l?(Jt.value=l!=null?l:null,ol(),!0):null),ft.value=g.columnsM,it=oe(()=>{var l,e;return(l=g._thisDefaultM)!=null&&l&&(e=g._thisDefaultM)!=null?e:null}),Kt=oe(()=>{var l,e;return(l=g.visibleColumnsM)!=null&&l&&(e=g.visibleColumnsM)!=null?e:null}),ct.value.push("orderID","saleitID","currency","store","paymentMethod","confirmID");async function ol(){let l=await Wt(rt.value,ct.value);return console.log(l,"defaulcting client========245",rt.value),ut.value=l[0],dt.value=l[1],await nl(l[1]),!1}async function nl(l){return X.value=await Gt(l),X.value.orderID=await Bt(),X.value.userID=g._profile.id,X.value.quantity=1,X.value.served="Requesting",X.value.price=0,!0}let A=z({geoSearch:{state:!1,value:"off"}});qe(g._pageSetting,(l,e)=>(A.value=Object.assign(A.value,l),!0));let il=oe(()=>g.lytCreatRow);qe(il,async(l,e)=>(await j("CreateRowItem",null),T.value=!0,!0));async function rl(l=null){return W.value=null,await j("UpdateRowItem",l),T.value=!0,!0}qe(s,(l,e)=>{if(x.value==null)return!0;try{Be.value=l.userID==g._profile.id,Zt.value=l.userID==g._profile.id,st.value=l.quantity&&l.price,at.value=parseInt(l.discount?l.discount:l.price)}catch{[Be.value,st.value,at.value]=[!1,!1,!1]}return!0});let yt=z(null);yt=oe(()=>H.getstatus_Rows),qe(yt,async(l,e)=>{let i;if(l==null)i="No Data.";else if(l=="noupdates")i="No Updates.";else if(l==!1)i="Locked";else if(l==!0)i="Loading ....";else if(l=="BadConnection")i="Offline";else return i=l,l=="Unauthorized"&&_logOut(),!1;return Ft(5e3,i,"Product & Services"),!0});let Ce=z({rowsPerPage:0});var Ye={},_t=z(null);async function He(l=null,e=null){var O,le,ae,d,r,b,E,U,Y,v,_,Z,se,xt;I.value="loading",H.set_syncLock(!0),clearInterval(_e),ee({this_Query:0},0,"Updating...");let i=D.value,y="-or";if(S.value=[],Ye={},D.value={},G.value=!1,D.value.limits=100,D.value.skips=0,(O=_t.value)!=null&&O)D.value.skips=(le=i.skips)!=null?le:0,D.value.limits=(ae=i.skips)!=null?ae:0,D.value.qweight=[1,10,(d=We[e])!=null?d:1],y="productSpecific-and",Ce.value.rowsNumber+=2,D.value.limits+=2,D.value.skips+=2,_t.value=null;else if(l=="lytSearchRow")A.value.tableView="main",D.value.content=g.lytSearchRow;else if(l)A.value.tableView="main",["catagory","usage","trend","paginationID"].includes(l)?(D.value.qweight=[1,(b=Ot[e])!=null?b:((r=i.qweight)!=null?r:[0,0])[1],(E=We[e])!=null?E:0],y="productSpecific-and"):D.value[l]=e!=null?e:null;else if(e)A.value.tableView="main",G.value="view",D.value.id=e;else{A.value.tableView="cards";let kt=(U=Wl._getsession("qw"))!=null?U:!1;D.value.qweight=kt?kt.split(","):[1,1,1,"userSpecific"],y="userSpecific-or"}return Ye.catagory=(v=(Y=Ot[e])!=null?Y:D.value[1])!=null?v:"HouseHolds",Ye.usage=(se=(Z=We[e])!=null?Z:((_=D.value.qweight)!=null?_:[1,1,1,1])[2])!=null?se:"New",D.value.geoSearch=(xt=A.value.geoSearch.value)!=null?xt:"off",D.value.queryOperator=y,await bt(H,D.value),!0}let _e="";S=oe(()=>mt(H.getDatas));async function je(){var l;return J.value=null,Be.value||(xe.value.userID=g._profile.id),xe.value.saleitID=(l=s.value.id)!=null?l:"",xe.value.store="buy",xe.value.queryOperator="-and",await bt(F,xe.value),!0}async function pt(){J.value=null,_is_modelTwoOwner.value,Ae.value.saleitID=s.value.id,Ae.value.queryOperator="-and";let l=await wt(de,Ae.value);return l&&($e.value=l,Q(G.value,null)),!0}J=oe(()=>mt(F.getDatas));function mt(l){return I.value=!1,Array.isArray(l)?l:[]}async function j(l=null,e=null,i=null){var y;if(i&&i.set_syncLock(!0),W.value=null,P.value=null,T.value=null,At.value=null,ot.value=null,I.value=I.value?I.value:null,x.value=e,k.value=l,e==null)s.value=Object.assign({},it.value),s.value.geolocation=g._profile.geolocation,s.value.location=g._profile.location,s.value.currency=(y=g._profile.currency)!=null?y:"",s.value.userID=g._profile.id,s.value.phoneCode=g._profile.phoneCode,s.value.phone=g._profile.phone;else try{s.value=Object.assign({},S.value[e])}catch{}return!0}async function Q(l,e,i=null){var y,O,le,ae;i&&i.set_syncLock(!0),Yt.value=null,nt.value=null,Ht.value=null,Ue.value=Ue.value?Ue.value:null,h.value=e,G.value=l;try{if(k.value=="comments")e==null?(ue.value=Object.assign({},Xt.value),ue.value.userID=g._profile.id,ue.value.saleitID=(O=(y=s.value)==null?void 0:y.id)!=null?O:""):ue.value=Object.assign({},$e.value[e]);else if(e==null||k.value=="details")R.value=Object.assign({},X.value),R.value.userID=g._profile.id,R.value.phoneCode=g._profile.phoneCode,R.value.currency=s.value.currency,R.value.location=s.value.location,R.value.geolocation=s.value.geolocation,R.value.saleitID=(ae=(le=s.value)==null?void 0:le.id)!=null?ae:"",R.value.orderID=await Bt();else try{R.value=Object.assign({},J.value[e])}catch{}}catch{}return!0}const ul=async function(l,e){let i=x.value==l;return l==null||i&&k.value==e?(await j(e,null,H),await Q(null,null,e=="clients"?F:""),!0):!1},gt=async function(l,e,i){let y=h.value==l;return l==null||y&&G.value==e?(await j(i,null,H),await Q(null,null,i=="clients"?F:""),!0):!1};z("Orders List..");let Ee=z([]),ce={_add:async()=>(h.value=null,R.value=Object.assign({},X.value),!0),selectedIndex_:async(l=null,e=null,i=null)=>(Ue.value=e,await gt(l,e,i)?!1:(fe.set_syncLock(!0),await Q(e,l,F),G.value=e,!0)),selectedIndex_RowDetail:async(l,e=null,i=null)=>{let y="clients";return G.value=i,await gt(e,i,y)?!1:(x.value=0,await wt(H,{id:l}).then(async O=>{O&&(S.value[x.value]=O[x.value],await j(y,x.value),await Q(null,e))}),!0)},_remove:async()=>{if(k.value=="comments"){let l={id:s.value.id,comments:ue.value};l.thisOps=k.value,l.thisSubOps="delete";let e=await de.deleteData(l,{});if(!e.status)return w(500,"Error Creating",""),!1;L(5e3,"Removed",""),S.value[x.value]=e.data.data,$e.value.splice(h.value,1),j(k.value,x.value),Q(k.value,null)}else{let l={id:s.value.id,clients:R.value};l.thisOps=k.value,l.thisSubOps="delete";let e=await F.deleteData(l);if(!e.status)return w(500,"Error Creating",""),!1;L(5e3,"Removed",""),S.value[x.value]=e.data.data,J.value.splice(h.value,1),await j(k.value,x.value),await Q(null,null)}return!0},_update_foreign:async()=>{var l;if(h.value=null,k.value=="comments"){let e={id:s.value.id,comments:ue.value};e.thisOps=k.value,e.thisSubOps="update";let i=await de.updateData(e,{});return i.status?(L(5e3,"updated",""),S.value[x.value]=i.data.data,typeof h.value=="number"&&($e.value[h.value]=i.data.foreignData,h.value=null),await Q("update",h.value),!0):(w(500,"Error Updating",""),!1)}else{let e={id:s.value.id,clients:R.value};e.thisOps=k.value,e.thisSubOps="update";let i=await F.updateData(e,{});return i.status?(L(5e3,"updated",""),Ee.value.push((l=i.data.data.id)!=null?l:null),S.value[x.value]=i.data.data,typeof h.value=="number"&&(J.value[h.value]=i.data.foreignData,h.value=null),await je(),await j("clients",x.value),await Q("update",h.value),!0):(w(500,"Error Updating",""),!1)}},_create_foreign:async()=>{var l;if(k.value=="comments"){let e={id:s.value.id,comments:ue.value};if(e.thisOps=k.value,e.thisSubOps="create",console.log("commenting",e),!(await de.createData(e,{})).status)return w(500,"Error Creating",""),!1;L(5e3,"Created",""),await j(k.value,x.value),await Q(null,null),await pt()}else{let e={id:s.value.id,clients:R.value};e.clients.store="buy",e.thisOps=k.value,e.thisSubOps="create";let i=await F.createData(e,{});if(!i.status)return w(500,"Error Creating",""),!1;L(5e3,"Ordered",""),Ee.value.push((l=i.data.data.id)!=null?l:null),S.value[x.value]=i.data.data,await j(k.value,x.value),await Q(null,null),await je()}return!0},_directBuyer:async(l="buy",e=!0)=>{var O;let i={id:s.value.id,clients:R.value};i.clients.store=l;let y;return e?y=await F.createData(i,{}):y=await F.updateData(i,{}),y.status?(L(5e3,l=="buy"?"Ordered":"ADD To Cart",""),Ee.value.push((O=y.data.data.id)!=null?O:null),S.value[x.value]=y.data.data,typeof h.value=="number"&&!nt.value?J.value[h.value]=y.data.foreignData:(h.value=null,await je()),await j("clients",x.value),await Q(null,h.value),!0):(w(500,"Error Creating",""),!1)}},Fe={_removeItem:async function(l=null,e=null){return x.value=null,k.value=e,delete S.value[l],!0},_detailView:async(l=null,e=null,i=null,y=null,O=null)=>(I.value=y,["hover","",null,!1].includes(i)?(await j(i,e,H),!0):(await j(i,e),await Q(O,null),!0)),selectedRow_ForeignRows:async(l=null,e=null,i=null)=>await ul(l,e)?!1:(await j(e,l,H),await Q(i,null,e=="clients"?F:de),G.value=i,ot.value=!0,i!="direct"&&(e=="clients"?je():pt()),!0),_rating:async l=>(s.value={id:S.value[l].id,_itServiceRating:S.value[l]._itServiceRating},s.value.thisOps="_itServiceRating",s.value.thisSubOps="increase",await pe.updateData().then(async e=>(console.log(e,"Rating...."),e&&(L(5e3,"You Rated","Succefully Updated"),S.value[x.value]._itServiceRating++),!0)).catch(e=>!1)),_likes:async l=>(s.value={id:S.value[l].id},s.value.thisOps="likes",s.value.thisSubOps="increase",await pe.updateData().then(async e=>(e&&(L(5e3,"Liked","Succefully Updated"),S.value[l].likes.like++),!0)).catch(e=>!1)),_following:async l=>(s.value={id:S.value[l].id},s.value.thisOps="following",s.value.thisSubOps="increase",await pe.updateData().then(async e=>(e&&L(5e3,"You Following","Succefully Updated"),!0)).catch(e=>!1)),_delRow:async(l=null,e,i)=>l==null?(s.value={id:i},ie.value=Fe._delRow,!1):(ie.value=null,l?await pe.deleteData().then(y=>(y&&He("userID",g._profile.id),!0)).catch(y=>!1):!1),_toCart:async(l=null,e=null)=>{var y,O;s.value={id:l,clients:Object.assign({},(y=X.value)!=null?y:{})},s.value.clients.store="cart",s.value.thisOps=e,s.value.thisSubOps="create";let i=await F.createData(s.value,{});return i.status?(L(5e3,"Product Saved",""),Ee.value.push((O=i.data.data.id)!=null?O:null),!0):(w(500,"Error Creating",""),!1)}};async function ht(l){if(Object.values(q.value).every(i=>i==null)){if(!s.value.price)return!1}else return!1;return l=="Create_this"?dl():cl(),!0}async function dl(){var e;I.value=!0;let l=(e=W.value)!=null?e:!1;return l&&(s.value[l]=Re.value,typeof Re.value=="object"?s.value.file_={files:l}:s.value.file_={file:l}),s.value.thisOps=k,s.value.thisSubOps="new",await pe.createData().then(async i=>(ee({createData:1},1,"Updating..."),i&&(L(5e3,"Item Created","Succefully Created"),T.value=!1,He("userID",g._profile.id)),I.value=!1,W.value=null,!0)).catch(i=>(w(5e3,"Error Creating","Error Creating"+i),W.value=null,T.value=!1,!1))}async function cl(){var e;I.value=!0;let l=(e=W.value)!=null?e:!1;return l&&(s.value[l]=Re.value,typeof Re.value=="object"?s.value.file_={files:l}:s.value.file_={file:l}),s.value.thisOps=k,s.value.thisSubOps="update",await pe.updateData().then(async i=>(ee({updateData:1},1,"Updating..."),i&&(L(5e3,"Item Updated","Succefully Updated"),S.value[x.value]=Object.assign({},i),T.value=!1),I.value=!1,W.value=null,!0)).catch(i=>(w(5e3,"Error Updating","Error Updating"+i),I.value=!1,T.value=!1,W.value=null,!1))}let vl="phone",fl="id",Ke="id";const pe={createData:async function(l={}){ee({createData:0},0,"Updating...");try{return s.value[vl]==null?!1:await fe.createData(Oe,s.value,l).then(e=>e.status?e.data:(w(5e3,"Error createData","..."+e.data),!1)).catch(e=>(w(5e3,"Error createData","..."+e),!1))}catch(e){return w(5e3,"Error createData","..."+e),!1}},updateData:async function(l={}){ee({updateData:0},0,"Updating...");try{return s.value[fl]==null?!1:await fe.updateData(Oe,s.value,l).then(e=>e.status?e.data:(w(5e3,"","Error"+e.data),!1)).catch(e=>(w(5e3,"Item Updated","Succefully Updated"+e),!1))}catch(e){return w(5e3,"Error updateData","..."+e),!1}},readData:async function(){return ee({readData:0},0,"Searching..."),await fe.readData(Oe).then(l=>l.status?l.data:(w(5e3,"","Error"+l.data),!1)).catch(l=>(w(5e3,"Error readData","..."+l),!1))},readFData:async function(l={}){ee({readFData:0},0,"Searching...");try{return Object.keys(l!=null?l:{}).length==0?!1:await fe.readFData(Oe,l).then(e=>e.status?e.data:(w(5e3,"","Error"+e.data),!1)).catch(e=>(w(5e3,"Error readFData","Succefully Updated"+e),!1))}catch(e){return w(5e3,"Error readFData","..."+e),!1}},deleteData:async function(){ee({deleteData:0},0,"Searching...");try{if(s.value[Ke]==null)return!1;let l={};return l[Ke]=s.value[Ke],await fe.deleteData(Oe,l).then(e=>e.status?e.data:(w(5e3,"","Error"+e.data),!1)).catch(e=>(w(5e3,"Error deleteData","Succefully Updated"+e),!1))}catch(l){return w(5e3,"Error deleteData","..."+l),!1}}};let yl=z(25e3);const bt=async(l,e)=>(clearInterval(_e),await l.set_syncQuery(e),l.set_syncLock(!1),l.asyncDatas(),setTimeout(function(){clearInterval(_e),_e=setInterval(l.asyncDatas,yl.value)},5e3),!0),wt=async(l,e)=>await l.readFData(e).then(i=>i.status?i.data:!1);z(0);let P=z(null),Me=z(!1);z(!1);var me=new Lt;return xl(()=>{clearInterval(_e),j(null,null,H),Q(null,null,F),Q(null,null,de)}),He("userID",g._profile.id),kl(async()=>(clearInterval(_e),j(null,null,H),Q(null,null,F),Q(null,null,de),!0)),(l,e)=>{var i,y,O,le,ae;return o(),u(M,null,[t(T)&&((i=t(s))!=null?i:!1)?(o(),B(ge,{key:0,isOpen:t(T),onEmitClick0:e[29]||(e[29]=d=>$(T)?T.value=d:T=d),class:"fit shadow-5 column"},{default:f(()=>{var d;return[(d=t(s))!=null&&d?(o(),B(Ge,{key:0,style:{"min-width":"30vw",width:"90vw"}},{default:f(()=>[n(ml,{value:.8,color:"orange"}),n(ve,{class:"col column items-center no-wrap q-pa-none"},{default:f(()=>[a("div",Jl,[n(Ve,{loading:"lazy",class:"",style:{"aspect-ratio":"1/1","min-width":"80vw"},src:t(W)?t(we)[t(Ze)]:t(s).saleitgr[t(Ze)]},{default:f(()=>{var r,b,E;return[a("div",Xl,[a("div",Zl,[ea,a("div",ta,[n(Se,{class:"text-orange"},{default:f(()=>[C("Upload Via ")]),_:1}),a("input",{type:"file",multiple:"",ref:"openFolder",style:{display:"none"},onChange:e[0]||(e[0]=U=>t(Tt)(U,"saleitgr"))},null,544),n(m,{class:"bg-orange",icon:"folder",onClick:e[1]||(e[1]=U=>l.$refs.openFolder.click()),dense:!0}),n(m,{class:"bg-orange",icon:"add_a_photo",onClick:e[2]||(e[2]=U=>t(me)._openCamera("saleitgr")),dense:!0})])]),a("div",la,[a("div",aa,[t(k)=="CreateRowItem"?(o(),u("div",sa,[n(m,{"no-caps":"",dense:!0,loading:t(I),class:"apple-button",size:"sm",flat:"",label:t(A).language?"\u123D\u1325":"Create",onClick:e[3]||(e[3]=U=>ht("Create_this"))},null,8,["loading","label"])])):(o(),u("div",oa,[n(m,{flat:"",loading:t(I),class:"bg-orange shadow-7 fontbstyle q-pa-xs",color:"white",size:"sm",label:t(A).language?"\u123D\u1325":"Update Product & Service",icon:"upload",onClick:e[4]||(e[4]=U=>ht("Update_this"))},null,8,["loading","label"])]))]),(b=(r=t(we))==null?void 0:r.length)!=null&&b?(o(),u("div",na,[t(we).length>1?(o(),u("div",ia,[n(Cl,{"left-label":"",modelValue:t(Qe),"onUpdate:modelValue":e[5]||(e[5]=U=>$(Qe)?Qe.value=U:Qe=U),label:t(A).language?"\u1218\u12F0\u121D\u1230\u1232":"Delete","checked-icon":"task_alt","unchecked-icon":"highlight_off",dense:!0},null,8,["modelValue","label"]),n(Xe,{class:"fontastyle bg-black text-white"},{default:f(()=>[C("Check Enable Delete & Click The Image ?")]),_:1})])):p("",!0),(E=t(W))!=null&&E?(o(),u("div",ra,[(o(!0),u(M,null,N(t(we),(U,Y)=>(o(),u("div",{key:Y,class:"col row q-px-xs",style:Rt([{position:"absolute",right:"2px",width:"5vw",height:"5vh"},`bottom:${Y*25}px`])},[n(m,{round:"",onClick:v=>t(lt)(Y),class:"col-auto"},{default:f(()=>[n(Qt,{size:"42px"},{default:f(()=>[a("img",{src:U},null,8,ua)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))])):(o(),u("div",da,[(o(!0),u(M,null,N(t(s).saleitgr,(U,Y)=>(o(),u("div",{key:Y,class:"col row inset-shadow q-px-xs",style:{"max-height":"100%"}},[n(m,{round:"",onClick:v=>t(lt)(Y),class:"col-auto"},{default:f(()=>[n(Qt,{size:"42px"},{default:f(()=>[a("img",{src:U},null,8,ca)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))])):p("",!0)])])]}),_:1},8,["src"])])]),_:1}),t(k)=="CreateRowItem"?(o(),B(ve,{key:0,class:"column text-dark fontbstyle"},{default:f(()=>[a("fieldset",va,[a("div",fa,[a("fieldset",ya,[a("legend",null,[C(" Quantity "),t(q).quantity?(o(),u("div",_a," ( "+c(t(q).quantity)+") ",1)):p("",!0)]),ne(a("input",{type:"Number",class:"fontestyle boxbstyle","onUpdate:modelValue":[e[6]||(e[6]=r=>t(s).quantity=r),e[7]||(e[7]=r=>t(V)("quantity",t(s).quantity))],style:{"max-width":"95%"}},null,512),[[he,t(s).quantity]])]),a("fieldset",pa,[a("legend",null,[C(" Price "),t(q).price?(o(),u("div",ma," ( "+c(t(q).price)+") ",1)):p("",!0)]),ne(a("input",{type:"Number",class:"col fontestyle boxbstyle","onUpdate:modelValue":[e[8]||(e[8]=r=>t(s).price=r),e[10]||(e[10]=r=>t(V)("price",t(s).price))],onInput:e[9]||(e[9]=r=>t(V)("price",t(s).price)),style:{"max-width":"95%"}},null,544),[[he,t(s).price]])]),a("fieldset",ga,[a("legend",null,[C(c(t(A).language?"\u121D\u12F5\u1265":"currency")+" ",1),t(q).currency?(o(),u("div",ha," ( "+c(t(q).currency)+") ",1)):p("",!0)]),ne(a("select",{outlined:"",class:"col-md col-xs q-pa-none boxbstyle",color:"purple-12","onUpdate:modelValue":e[11]||(e[11]=r=>t(s).currency=r),onInput:e[12]||(e[12]=r=>t(V)("currency",t(s).currency)),style:{"max-width":"95%"}},[(o(!0),u(M,null,N(t(ze).currency.enum,r=>(o(),u("option",{key:r},c(r),1))),128))],544),[[It,t(s).currency]])])]),a("div",null,[a("fieldset",ba,[a("legend",null,[a("p",null,c(t(A).language?"\u121D\u12F5\u1265":"catagory"),1),t(q).catagory?(o(),u("div",wa," ( "+c(t(q).catagory)+") ",1)):p("",!0)]),ne(a("select",{outlined:"",class:"col-md col-xs q-pa-none boxbstyle",style:{},color:"purple-12","onUpdate:modelValue":e[13]||(e[13]=r=>t(s).catagory=r),onInput:e[14]||(e[14]=r=>t(V)("catagory",t(s).catagory))},[(o(!0),u(M,null,N(t(ze).catagory.enum,r=>(o(),u("option",{key:r},c(r),1))),128))],544),[[It,t(s).catagory]])])]),["Vehicles","Households"].includes(t(s).catagory)?(o(),u("div",xa,[(o(!0),u(M,null,N(t(ze).usage.enum,r=>(o(),B(Sl,{"keep-color":"","left-label":"",size:"md",modelValue:t(s).usage,"onUpdate:modelValue":[e[15]||(e[15]=b=>t(s).usage=b),e[16]||(e[16]=b=>t(V)("usage",t(s).usage))],val:r,label:r,color:"black",key:r},null,8,["modelValue","val","label"]))),128)),t(q).usage?(o(),u("div",ka,c(t(q).usage),1)):p("",!0)])):p("",!0),n(Se,{caption:""},{default:f(()=>[C(" What are You Saling !")]),_:1}),n(be,{inset:""})])]),_:1})):(o(),B(ve,{key:1,class:"column text-dark bg-white fontbstyle"},{default:f(()=>[a("fieldset",Ca,[a("div",Sa,[a("fieldset",qa,[a("legend",null,[C(" Quantity "),t(q).quantity?(o(),u("div",Da," ( "+c(t(q).quantity)+") ",1)):p("",!0)]),ne(a("input",{type:"Number",class:"fontestyle boxbstyle","onUpdate:modelValue":[e[17]||(e[17]=r=>t(s).quantity=r),e[18]||(e[18]=r=>t(V)("quantity",t(s).quantity))],style:{"max-width":"95%"}},null,512),[[he,t(s).quantity]])]),a("fieldset",Oa,[a("legend",null,[C(" Price "),t(q).price?(o(),u("div",Ia," ( "+c(t(q).price)+") ",1)):p("",!0)]),ne(a("input",{type:"Number",class:"col fontestyle boxbstyle","onUpdate:modelValue":[e[19]||(e[19]=r=>t(s).price=r),e[21]||(e[21]=r=>t(V)("price",t(s).price))],onInput:e[20]||(e[20]=r=>t(V)("price",t(s).price)),style:{"max-width":"95%"}},null,544),[[he,t(s).price]])]),a("fieldset",Ra,[a("legend",null,[C(" New Price "),t(q).discount?(o(),u("div",Qa," ( "+c(t(q).discount)+") ",1)):p("",!0)]),ne(a("input",{type:"Number",class:"col fontestyle boxbstyle","onUpdate:modelValue":[e[22]||(e[22]=r=>t(s).discount=r),e[24]||(e[24]=r=>t(V)("discount",t(s).discount))],onInput:e[23]||(e[23]=r=>t(V)("discount",t(s).discount)),style:{"max-width":"95%"}},null,544),[[he,t(s).discount]]),C(" (Happy Hours Price) ")])]),n(be,{inset:""}),n(Je,{class:"col-md col-xs q-pa-sm",style:{},outlined:"",modelValue:t(s).header,"onUpdate:modelValue":[e[25]||(e[25]=r=>t(s).header=r),e[26]||(e[26]=r=>t(V)("header",t(s).header))],label:"Name","stack-label":""},{default:f(()=>[t(q).header?(o(),u("div",Ua,c(t(q).header),1)):p("",!0)]),_:1},8,["modelValue"]),n(Je,{outlined:"",modelValue:t(s).content,"onUpdate:modelValue":[e[27]||(e[27]=r=>t(s).content=r),e[28]||(e[28]=r=>t(V)("content",t(s).content))],label:"decscriptions",style:{},filled:"",autogrow:""},{default:f(()=>[t(q).content?(o(),u("div",za,c(t(q).content),1)):p("",!0)]),_:1},8,["modelValue"]),n(be,{inset:""}),n(Se,{caption:""},{default:f(()=>[C(" Notes to be displayed !")]),_:1}),n(be,{inset:""})])]),_:1}))]),_:1})):p("",!0)]}),_:1},8,["isOpen"])):p("",!0),t(k)=="details"&&t(I)=="selected"?(o(),B(ge,{key:1,isOpen:t(I),onEmitClick0:e[34]||(e[34]=d=>$(I)?I.value=d:I=d)},{default:f(()=>{var d,r,b;return[t(s)?(o(),u("div",Ba,[a("div",$a,[a("div",ja,[n(Ve,{loading:"lazy ",style:{"min-height":"20vh","aspect-ratio":"2/1","border-radius":"5px","box-shadow":"5px"},src:t(P)?t(s).saleitgr[t(P)]:t(s).saleitgr[0],class:""},null,8,["src"]),Ea]),Fa,Ma,a("div",null,[t(s).saleitgr.length>1?(o(),u("div",Va,[a("div",La,[a("p",Pa,c(t(s).saleitgr.length+"  Images :"),1),n(m,{flat:"",dense:!0,color:"red",label:"Back",onClick:e[30]||(e[30]=E=>$(P)?P.value=(t(P)-1+t(s).saleitgr.length)%t(s).saleitgr.length:P=(t(P)-1+t(s).saleitgr.length)%t(s).saleitgr.length),style:{"z-index":"99"}}),n(m,{flat:"",size:"sm",dense:!0,color:"green",icon:"forward",onClick:e[31]||(e[31]=E=>$(P)?P.value=(t(P)+1)%t(s).saleitgr.length:P=(t(P)+1)%t(s).saleitgr.length),style:{"z-index":"99"}})])])):p("",!0)]),a("div",Na,[a("div",Ta,c(t(s).header),1),a("div",Aa,[a("p",Ya,c(t(s).content),1)]),a("div",Ha,[a("div",Ka,[a("div",Wa,[a("div",Ga,c(t(s).userName),1),a("div",null,[a("b",null,[C("Call Us: "),n(De,{name:"phone"})]),(r=(d=t(s).phoneCode)==null?void 0:d[1])!=null&&r?(o(),u("b",Ja,"+"+c(t(s).phoneCode[1])+" "+c(t(s).phone),1)):(o(),u("b",Xa,c(t(s).phone),1))]),t(s).location.country?(o(),u("div",Za,c(t(s).location.country+"  ")+" "+c(t(s).location.provinance+"  ")+" "+c(t(s).location.city+"  ")+" "+c(t(s).location.street+"  "),1)):p("",!0),a("div",es," Created : "+c(new Date(t(s).createdAt).toLocaleString()),1)]),ts,a("div",ls,[a("div",as,[ss,a("div",os,c(t(s).isOpen?t(s).quantity:"Closed"),1)]),a("div",ns,[is,a("div",rs,c(t(s).tClient),1)])]),a("div",us,[a("div",ds,[C(" Likes "),a("div",cs,c(t(s).likes.like),1)]),vs,a("div",fs,[C(" Buyer Rating "),a("div",ys,c(t(s)._itServiceRating),1)]),_s,a("div",ps,[C(" trendScore "),a("div",ms,c((b=t(s).trendScore)!=null?b:0),1)])])]),a("div",gs,[a("h2",null,c(t(s).price)+" "+c(t(s).currency),1),hs,n(Xe,{class:"bg-orange fontbstyle"},{default:f(()=>[C(" Unite Price")]),_:1})])])])]),a("div",bs,[t(s).isOpen?(o(),B(m,{key:0,color:"orange",class:"col",label:"",onClick:e[32]||(e[32]=E=>t(ce)._directBuyer("buy")),icon:"shops"},{default:f(()=>[ws]),_:1})):p("",!0),n(m,{color:"green",onClick:e[33]||(e[33]=E=>t(ce)._directBuyer("cart")),icon:"save"},{default:f(()=>[xs]),_:1})])])):(o(),u("div",ks,"Loading ..."))]}),_:1},8,["isOpen"])):p("",!0),n(ge,{isOpen:t(Ie),onEmitClick0:e[38]||(e[38]=d=>$(Ie)?Ie.value=d:Ie=d),class:"column overlay-Glass rounded-borders"},{default:f(()=>[a("div",Cs,[t(Mt)=="camera"?(o(),u("div",Ss,[a("div",qs,[a("video",{clas:"col-2",ref_key:"_liveFeedRawStreaming",ref:Nt,autoplay:"",playsinline:"",style:{width:"100%"}},null,512),a("canvas",{id:"_liveFeedSRC",ref_key:"_liveFeedSRC",ref:Vt,width:"200px",height:"200px",style:{display:"none"}},null,512),n(Ol,{class:"row q-gutter-xs"},{default:f(()=>[(o(!0),u(M,null,N(t(we),d=>(o(),B(qt,{key:d},{default:f(()=>[n(Ve,{src:d,style:{width:"100px",height:"100px"}},null,8,["src"])]),_:2},1024))),128))]),_:1})]),a("div",Ds,[a("div",null,[n(m,{rounded:"",color:"negative",size:"sm",label:"close",onClick:e[35]||(e[35]=d=>t(me)._stopCamera())}),n(m,{rounded:"",color:"green",size:"sm",label:"save",onClick:e[36]||(e[36]=d=>t(me)._saveScreenShoots())}),n(m,{rounded:"",color:"primary",size:"sm",label:"capture",icon:"camera",onClick:e[37]||(e[37]=d=>t(me)._screenShoot())})]),a("div",Os,[n(Il,{"switch-toggle-side":"","expand-separator":"",icon:"camera",size:"xs"},{default:f(()=>[(o(!0),u(M,null,N(t(Pt),d=>(o(),B(qt,{key:d,class:"row q-gutter-sm"},{default:f(()=>[n(m,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:t(et)==d.deviceId?"blue":"black",label:d.label.split("_")[1],onClick:r=>t(me)._setCameraParam(d.deviceId,!1)},null,8,["color","label","onClick"]),n(m,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:t(et)==d.deviceId?"orange":"black",label:t(tt)?"Front Cam":"Back Cam",onClick:r=>t(me)._setCameraParam(d.deviceId,!t(tt))},null,8,["color","label","onClick"])]),_:2},1024))),128))]),_:1})])])])):p("",!0)])]),_:1},8,["isOpen"]),n(ge,{isOpen:t(re),onEmitClick0:e[41]||(e[41]=d=>$(re)?re.value=d:re=d)},{default:f(()=>[n(ve,{class:"column col-auto q-gutter-xs fontastyle shadow-1 bg-white q-my-sm"},{default:f(()=>[Is,a("div",Rs,[Qs,ne(a("input",{class:"boxbstyle bg-orange",type:"date","onUpdate:modelValue":e[39]||(e[39]=d=>$(te)?te.value=d:te=d)},null,512),[[he,t(te)]]),a("button",{onClick:e[40]||(e[40]=d=>$(te)?te.value=null:te=null),class:"boxbstyle bg-red text-white"}," x ")]),n(be,{inset:""}),Us,(o(!0),u(M,null,N(t(ke),(d,r)=>(o(),u("div",{class:"row justify-between q-gutter-sm q-px-xs",key:r},[a("div",zs,c(r),1),a("div",null,[n(Ut,{size:"xs",modelValue:t(ke)[r],"onUpdate:modelValue":b=>t(ke)[r]=b,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1}),n(ve,{class:"column col-auto q-gutter-xs fontastyle shadow-1 bg-white"},{default:f(()=>[Bs,(o(!0),u(M,null,N(t(ye),(d,r)=>(o(),u("div",{class:"row justify-between q-gutter-sm q-px-xs",key:r},[a("div",$s,c(r),1),a("div",null,[n(Ut,{size:"xs",modelValue:t(ye)[r],"onUpdate:modelValue":b=>t(ye)[r]=b,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1})]),_:1},8,["isOpen"]),n(ge,{isOpen:t(Me),onEmitClick0:e[45]||(e[45]=d=>$(Me)?Me.value=d:Me=d),class:"column saleitContentOps-Glass"},{default:f(()=>{var d,r;return[(r=(d=t(s))==null?void 0:d.saleitgr)!=null&&r?(o(),u("div",js,[n(Rl,{animated:"",swipeable:"",loading:"lazy",modelValue:l.slideIndex,"onUpdate:modelValue":e[43]||(e[43]=b=>l.slideIndex=b),navigation:"",infinite:"",arrows:"","transition-prev":"slide-right","transition-next":"slide-left","control-color":"amber",fullscreen:l.slideFullscreen,"onUpdate:fullscreen":e[44]||(e[44]=b=>l.slideFullscreen=b),class:"bg-grey-9 shadow-2 rounded-borders"},{control:f(()=>[n(Ql,{position:"bottom-right",offset:[18,18]},{default:f(()=>[n(m,{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:l.fullscreen?"fullscreen_exit":"fullscreen",onClick:e[42]||(e[42]=b=>l.slideFullscreen=!l.slideFullscreen)},null,8,["icon"])]),_:1})]),default:f(()=>[(o(!0),u(M,null,N(t(s).saleitgr,(b,E)=>(o(),B(Ul,{name:E,"img-src":b,key:E},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen"])])):p("",!0)]}),_:1},8,["isOpen"]),n(ge,{isOpen:t(ie),onEmitClick0:e[46]||(e[46]=d=>$(ie)?ie.value=d:ie=d)},{default:f(()=>[n(Yl,{onConfirmButton:t(ie),header:t(Et),title:"Yes",textcolor:"black",background:"green",title2:"No",textcolor2:"green",background2:"red",style:{"background-color":"white",padding:"40px","border-radius":"5px"}},null,8,["onConfirmButton","header"])]),_:1},8,["isOpen"]),(y=t(Le).length)!=null&&y?(o(),B(zt,{key:2,messages:(O=t(Le))!=null?O:[],onCloseButton:e[47]||(e[47]=d=>Le.value=[])},null,8,["messages"])):p("",!0),(le=t(Pe).length)!=null&&le?(o(),B(zt,{key:3,messages:(ae=t(Pe))!=null?ae:[{}],onCloseButton:e[48]||(e[48]=d=>Pe.value=[])},null,8,["messages"])):p("",!0),n(Vl,{class:"row no-wrap rounded-borders fit bg-white"},{default:f(()=>{var d,r,b,E,U,Y;return[a("div",Es,[a("div",Fs,[a("div",Ms,[Vs,(r=(d=t(S))==null?void 0:d.length)==null||r?(o(),u("div",Ls,[a("div",Ps," # "+c(t(S).length)+" Items ",1),Ns])):p("",!0)]),(E=(b=t(S))==null?void 0:b.length)!=null&&E?(o(),u("div",Ts,[(o(!0),u(M,null,N(t(S),(v,_)=>{var Z;return o(),u("div",{class:"col-auto q-gutter-sm column",key:_},[(Z=v==null?void 0:v.saleitgr)!=null&&Z?(o(),u("div",As,[n(Ge,{class:"col-auto column fontbstyle",flat:"",bordered:""},{default:f(()=>[n(Ve,{src:v.saleitgr[0],style:{"aspect-ratio":"1/1",width:"100%"},class:"col q-pa-xs"},{default:f(()=>[a("div",Ys,[typeof t(x)=="number"&&t(x)==_?(o(),u("div",Hs)):p("",!0),v.price?(o(),B(m,{key:1,"no-caps":"",class:"fontdstyle",color:"green",dense:!0,size:"xs",label:l._onPlayLanguage?"liveBuyers":"Live Buyers",onClick:se=>t(Fe).selectedRow_ForeignRows(_,"clients")},null,8,["label","onClick"])):p("",!0)])]),_:2},1032,["src"]),n(ve,{class:"col-auto q-gutter-xs fontastyle",style:{"background-color":"white"}},{default:f(()=>[a("div",Ks,[a("div",Ws,[a("div",Gs,[n(m,{size:"sm","no-caps":"",color:"white",class:"text-black",dense:!0,onClick:se=>rl(_),icon:"edit"},null,8,["onClick"]),n(m,{size:"sm","no-caps":"",color:"red",class:"text-black",dense:!0,onClick:se=>t(Fe)._delRow(null,_,v.id),icon:"delete"},null,8,["onClick"])])]),a("div",Js,[C(c(v.price)+" "+c(v.currency)+" ",1),a("div",null,"Quantity: "+c(v.quantity),1)])]),a("div",Xs,[a("div",null,[n(Se,null,{default:f(()=>[n(Fl,{modelValue:v._itServiceRating,"onUpdate:modelValue":se=>v._itServiceRating=se,max:5,size:"xs",onClick:se=>t(Fe)._rating(_)},null,8,["modelValue","onUpdate:modelValue","onClick"]),n(Xe,{class:"bg-black"},{default:f(()=>[C("Product Reliability Score")]),_:1})]),_:2},1024),n(Se,null,{default:f(()=>[C(c(v.catagory)+" ("+c(v.usage)+")",1)]),_:2},1024)]),a("div",Zs,[a("div",null,c(v.tClient),1),eo])])]),_:2},1024)]),_:2},1024)])):p("",!0)])}),128))])):(o(),u("div",to," No Items to Display "))])]),a("div",lo,[a("div",ao,[a("div",so,[oo,a("div",null,[n(m,{dense:!0,color:"black",size:"xs",flat:"",onClick:e[49]||(e[49]=v=>$(K)?K.value=!1:K=!1),icon:"minimize"}),n(m,{dense:!0,color:"blue",size:"xs",onClick:e[50]||(e[50]=v=>$(K)?K.value="max":K="max"),icon:"maximize"}),n(m,{dense:!0,color:"red",size:"xs",onClick:e[51]||(e[51]=v=>$(K)?K.value="close":K="close"),icon:"close"})])]),t(K)=="max"?(o(),u("div",no,[io,a("div",ro,[a("button",uo,[n(De,{name:"home"})]),a("button",{class:"fontbstyle",onClick:e[52]||(e[52]=v=>$(re)?re.value=!0:re=!0)},[n(De,{name:"filter"})])]),a("div",co,[n(ve,{class:"shadow-1 col-auto box0style q-gutter-xs column"},{default:f(()=>[vo,a("div",fo,[a("div",yo,c(t(tl).buy),1)])]),_:1}),a("div",_o,[po,a("div",mo,[a("div",go,c(t(el)),1),a("div",ho,c((U=t(s).currency)!=null?U:""),1)])]),a("div",bo,[n(De,{name:"link",class:""})])])])):p("",!0)]),t(K)!="close"?(o(),u("div",wo,[(Y=t(J).length)!=null&&Y?(o(),u("div",xo,[n(gl,{flat:"",bordered:"",rows:t(J),columns:t(ut),"virtual-scroll":"",filterMethod:t(al),filter:vt.value,"onUpdate:filter":e[59]||(e[59]=v=>vt.value=v),"row-key":"id",rowIndex:"true",inFullscreen:!0,class:"col-auto q-gutter-xs row q-pa-none justify-end",style:{"background-color":"whitesmoke"},pagination:t(Ce),"onUpdate:pagination":e[60]||(e[60]=v=>$(Ce)?Ce.value=v:Ce=v),"hide-pagination":"","visible-columns":t(dt),"hide-top":"","hide-bottom":""},{"header-cell":f(v=>[n(Ct,{props:v,class:"q-pa-none",style:{"background-color":"whitesmoke","backdrop-filter":"blur(850px)","padding-left":"0px","z-index":"100"}},{default:f(()=>[a("div",ko,[a("p",null,c(v.col.name),1)])]),_:2},1032,["props"])]),body:f(v=>[n(hl,{props:v},{default:f(()=>[t(h)==v.rowIndex?(o(),B(Ct,{key:0,colspan:"100%"},{default:f(()=>[a("div",Co,[a("div",So,[qo,a("div",null,[n(De,{name:"phone",style:{"background-color":"white","border-radius":"50%",padding:"1px"}}),C(" "+c(v.row.phone),1)])]),a("div",Do,[n(Ml,{dense:!0,size:"xs",class:"fontastyle",filled:"",modelValue:t(R).served,"onUpdate:modelValue":e[53]||(e[53]=_=>t(R).served=_),options:["Queed","Served"]},null,8,["modelValue"])]),a("div",Oo,[n(Je,{autogrow:"",filled:"",size:"xs",class:"col-auto fontastyle","shadow-text":l.textareaShadowText,onKeydown:l.processTextareaFill,onFocus:l.processTextareaFill,modelValue:t(R).description,"onUpdate:modelValue":e[54]||(e[54]=_=>t(R).description=_),label:"Delivery Remark","stack-label":"",dense:!0,style:{}},null,8,["shadow-text","onKeydown","onFocus","modelValue"])]),a("div",Io,[a("div",Ro,[n(m,{color:"green",size:"xs",dense:!0,icon:"done",onClick:e[55]||(e[55]=_=>t(ce)._update_foreign()),label:"apply"}),n(m,{color:"red",size:"xs",dense:!0,icon:"delete",onClick:e[56]||(e[56]=_=>t(ce)._remove()),label:"delete"})]),n(m,{size:"xs",color:"red",dense:!0,onClick:e[57]||(e[57]=_=>$(h)?h.value=null:h=null),label:"close"})])])]),_:2},1024)):(o(!0),u(M,{key:1},N(v.cols,_=>(o(),u("td",{props:v,style:{"font-size":"0.6em","text-align":"justify",padding:"0px"},class:ql(["text-center",_.name=="name"?"text-center":"text-center "]),key:_.name},[_.name=="served"?(o(),u("div",Uo,[a("div",{style:Rt(v.row[_.name]=="Requested"?"color:green":"color:grey")},c(v.row[_.name]),5)])):_.name=="store"?(o(),u("div",zo,[v.row[_.name]=="buy"?(o(),B(St,{key:0,color:"orange"},{default:f(()=>[C(c(v.row[_.name]),1)]),_:2},1024)):(o(),B(St,{key:1,color:"teal"},{default:f(()=>[C(c(v.row[_.name]),1)]),_:2},1024))])):_.name=="description"?(o(),u("div",Bo,[n(m,{dense:!0,size:"sm","no-caps":"",color:"blue",label:"More",onClick:Z=>t(ce).selectedIndex_(v.rowIndex,"view","clients")},null,8,["onClick"]),t(h)==v.row.id?(o(),B(Ge,{key:0,class:"fixed-bottom z-top flex flex-center",style:{"max-width":"30vh",left:"1rem",bottom:"1rem"}},{default:f(()=>[C(c(v.row.description),1)]),_:2},1024)):p("",!0)])):_.name=="time"?(o(),u("div",$o,[a("div",null,c(v.row.fupdatedAt),1)])):_.name=="action"?(o(),u("div",jo,[t(h)==v.rowIndex&&t(G)?(o(),u("div",Eo,[a("div",Fo,[n(m,{size:"sm",color:"orange",dense:!0,icon:"close",onClick:e[58]||(e[58]=Z=>$(h)?h.value=null:h=null),label:"close"}),n(m,{color:"red",size:"xs",dense:!0,icon:"delete",onClick:Z=>t(ce)._remove(v.rowIndex),label:"delete"},null,8,["onClick"])])])):(o(),B(m,{key:1,size:"sm",dense:!0,color:"orange",icon:"more_vert",flat:"",onClick:Z=>t(ce).selectedIndex_(v.rowIndex,"selected","clients")},null,8,["onClick"]))])):(o(),u("div",Mo,c(v.row[_.name]),1))],10,Qo))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","filterMethod","filter","pagination","visible-columns"])])):(o(),u("div",Vo,[a("div",Lo,[n($t,{class:"col-grow flex flex-center text-grey"},{default:f(()=>[C("Listening For Buyers ")]),_:1}),(o(),u(M,null,N(15,v=>n($t,{class:"col-grow flex flex-center",key:v})),64))]),n(be,{inset:""}),Po]))])):p("",!0)])]}),_:1})],64)}}};export{Qn as default};
