import{r as I,u as s,l as o,V as u,$ as be,a1 as Xt,U as l,F as j,a2 as J,X as d,a0 as nt,p as k,O as Zt,c as $,w as N,o as Gt,a as Jt,m as he,b as F,f as g,n as z,Q as ue,aH as el,W as we,aO as G,bD as et,aP as tl}from"./index.21eddcd6.js";import{U as ll,u as sl,a as al,b as nl,c as il,d as ol,e as ul,f as rl,t as cl,s as dl,g as _l,h as vl,Q as hl,_ as tt,j as lt,i as fl}from"./crudThisModel.91aa02a2.js";import{Q as st,_ as yl}from"./confirmButton.5de6f493.js";import{g as pl,i as gl,u as ml,d as xl,h as Sl,j as wl,k as bl,_ as at,Q as Cl}from"./saleitModel.67bff41a.js";import{u as Ol}from"./use-quasar.d4ccfeda.js";import{u as Il,a as kl,b as Rl,d as Dl}from"./debugMixin.c3829f04.js";import{u as Ml,a as Bl}from"./servicefilter.395bbe87.js";import"./QRating.3206f1ae.js";import{_ as Ul,u as Ql}from"./queryBuilder.5b0b2df4.js";import{t as ql}from"./thisQueryBuilder.9438f352.js";import"./QItemLabel.d96c0f54.js";import"./axios.05cf8750.js";const Fl={key:0,class:"boxStyle-dense onedlayout crow cgap-3 ia-center"},Pl={__name:"orderEdit",props:{this_client_Row:{type:Object,default:()=>({})},flexflow:{type:String}},setup(fe){let L=I(fe.this_client_Row);return(m,K)=>{var ye;return(ye=s(L))!=null&&ye?(o(),u("div",Fl,[be(l("select",{style:{padding:"7px"},class:"fontStyle-dense txtlight boxStyle-dense radiusxxs bggrey","onUpdate:modelValue":K[0]||(K[0]=V=>s(L).served=V)},[(o(),u(j,null,J(["Requested","Queed","Served"],V=>l("option",{class:"boxStyle-dense",key:V},d(V),1)),64))],512),[[Xt,s(L).served]]),be(l("input",{type:"text",style:{padding:"7px"},class:"fontStyle-dense txtlight boxStyle-dense radiusxxs bggrey","onUpdate:modelValue":K[1]||(K[1]=V=>s(L).description=V)},null,512),[[nt,s(L).description]])])):k("",!0)}}},$l={class:"ts-boxContent-fit90 onedlayout crow boxStyle-flat"},Nl={class:"ccol-grow onedlayout ccolumn"},Ll={class:"column no-wrap q-gutter-xs q-ma-none",style:{"max-height":"30vh"}},Vl={class:"col-auto row justify-between q-gutter-xs q-ma-none"},El={class:"q-pa-xs"},Al={key:0,class:""},Tl={class:"boxStyle-sm bggreysmoke radiusxxs onedlayout crow cgap-1 cj-between ia-center"},zl={class:"onedlayout crow cgap-1"},jl={class:"fontStyle-dense"},Kl=l("h4",{class:"txtsmokey"},"Search Date:",-1),Yl={class:"onedlayout crow"},Wl=l("h4",{class:"font-light"},[l("i",{class:"ri-reset-left-line"})],-1),Hl=[Wl],Xl={class:"onedlayout ccolumn cgap-0 fontStyle-dense"},Zl=l("h4",{class:"txtsmokey"},"Show Store:",-1),Gl={class:"txtsmokey"},Jl={class:"bggreysmokey radiusxxs onedlayout ccolumn cgap-0 fontStyle-dense"},es={class:"txtsmokey"},ts={class:"onedlayout ccolumn cgap-3",style:{}},ls={class:"onedlayout crow"},ss={class:"onedlayout ccolumn fontStyle-base",style:{}},as={class:"txtwarning"},ns={class:"txtwarning"},is={class:"onedlayout ccolumn fontStyle-base",style:{}},os={class:"font-light"},us={class:"font-light"},rs={class:"onedlayout ccolumn ia-end fontStyle-base",style:{}},cs={class:"txtsmoke"},ds={class:"txtsystem"},_s={key:0,class:"ccol-grow ts-yOverflow"},vs={key:0,class:"ccol-grow"},hs={class:"font-light"},fs={class:"boxStyle-xxs p-xs radiussm fontStyle-dense bggreysmokey onedlayout crow font-greysmoke"},ys={class:"fontStyle-dense"},ps=l("p",null,"Editing Order ",-1),gs={class:"ri-phone-fill"},ms={class:"onedlayout crow cgap-3"},xs={class:"onedlayout ccolumn cgap-1 fontStyle-dense"},Ss=l("h4",null," apply ",-1),ws=[Ss],bs=l("h4",{class:"font-light"}," delete ",-1),Cs=[bs],Os=l("h4",{class:"font-light"}," close ",-1),Is=[Os],ks=["props"],Rs={class:"td ts-xOverflow"},Ds={key:0,class:""},Ms={key:1},Bs={key:0,style:{color:"orange"}},Us={key:1,style:{color:"blue"}},Qs={key:2},qs=["onClick"],Fs={class:""},Ps={key:3,class:"ellipsis",style:{"max-width":"100px"}},$s={key:4,class:"q-gutter-xs"},Ns={key:0,class:"q-gutter-xs row"},Ls={class:"column q-gutter-xs"},Vs=["onClick"],Es=l("p",null,[l("i",{class:"ri-more-2-fill font-primary"})],-1),As=[Es],Ts={key:5},zs={key:1,class:"col q-py-md fit q-gutter-md flex flex-center column",style:{}},js={style:{width:"80%"},class:"col-grow q-pa-xs column q-gutter-xs"},Ks=l("div",{class:"col row items-center q-gutter-sm"},[l("div"),l("div",{class:"text-red"},"No Buyer Detected, so far")],-1),Ys={key:0,class:"onedlayout ccolumn",style:{width:"40%"}},Ws={class:"col-auto q-pa-sm items-center fontestyle justify-between row"},Hs={key:0,class:"items-center text-blue row"},Xs={class:"items-center q-px-xs fontdstyle"},Zs={key:0},Gs=l("div",{class:""},[l("button",{style:{color:"red"}}," clean store ")],-1),Js={key:0,class:"onedlayout crowwrap cgap-2",style:{"overflow-y":"scroll"}},ea={key:0,class:"col-auto column bglight ps-relative"},ta={class:"boxStyle-sm ps-absolute layer6"},la={key:0,style:{"border-radius":"50%",width:"1vw",height:"1vw","background-color":"red"}},sa=["onClick"],aa={class:"font-light"},na={class:"onedlayout ccolumn boxStyle-flat p-xs bggreysmokey font-darkishgrey"},ia={class:"onedlayout crow cj-between ia-center"},oa={class:"onedlayout crow cgap-1"},ua=["onClick"],ra=l("i",{class:"ri-edit-fill font-primary"},null,-1),ca=[ra],da=["onClick"],_a=l("i",{class:"ri-delete-bin-6-line font-negative"},null,-1),va=[_a],ha={class:"onedlayout ccolumn ia-end fontStyle-dense"},fa={class:"boxStyle-sm onedlayout cgap-1 crow cj-between ia-center"},ya={class:"ccolumn cgap-1 fontStyle-dense"},pa={class:"onedlayout ccolumn cgap-0 ia-center fontStyle-base txtsystem"},ga={class:"txtwarning"},ma=l("span",{class:""},"Buyers",-1),xa={key:1,class:"col-grow column justify-center items-center text-grey"},An={__name:"playservicePage",props:{_profile:{type:Object,default:()=>({})},_acctype:{type:Object,default:()=>{}},lytCreatRow:{type:Boolean,default:!1},lytSearchRow:{type:String,default:""},isScrolled:{type:Boolean,default:!1},isScrolledUp:{type:Boolean,default:!1},_pageSetting:{type:Object,default:()=>({})},_thisMedia:{type:Object,default:()=>({})},_tableModel_Cols_Props:{type:Object,default:()=>({})},_tableModel_Row_Props:{type:Object,default:()=>({})},visible_modelCols_label_Props:{type:Object,default:()=>({})}},emits:["_this_Query","_this_pageSetting"],setup(fe,{emit:Ce}){let{pageName:L,_pageSettings:m,metaData:K,pagination:ye,paginationId:V,paginationCard:Sa}=Ml(),{userInformation:it,modelRow_Builder:ot,foreign_modelRow_Builder:wa,foreign__tableModel_Cols:ut}=pl();var{active_fileName:Oe,active_fileIndex:rt,__thisFileOps_onCard:ba,__thisFileOps_onZoom:Ca,thisOps:Oa,thisOpsCard:Ia,thissubOpsStatus:ka,__thisBox:R,__thisIndex:v,__thisOps:y,__thisOpsCard:ct,__thisOpsStatus:D,__thissubOps:dt,__thissubOpsStatus:_t,active_foreignModel:vt,active_foreignModelDialog:Y,active_foreignModelIndex:_,active_foreignModelOps:ee,active_foreignModelOpsStatus:Ie,active_foreignModelsubOps:ht}=gl(),{_fileAttributeName:W,_cameraBox:Ra,_fileSourceFoCam:Da,_fileAsSRC:Ma,_fileAsRaw:Ba,_liveFeedSRC:Ua,_fileAsSRCIndex:Qa,_cameraDevice:ft,_listCameraSource:qa,_selectedCameraById:Fa,_selectedCameraByface:Pa,_liveFeedRawStreaming:$a,_fileSourceFolder:Na,_fileAsSRCOps:La,_fileAsSRCOpsCall:Va,_resetFileSource:Ea}=ml();const{thisSchemaPath:ke,thisSchemaFile:Re,_debugObj:Aa,_validateThis:Ta}=xl();let{createKey:za,updateKey:ja,delKey:Ka,_this_Model_Url:yt,_thisService:pt,activeRow:gt,_this:i,message:Ya,messageTimer:Wa,createData:mt,updateData:re,readData:Ha,readFData:Xa,deleteData:xt}=ll();const{Loadingpage:Za,Loadingevent:Ga,DoneMessage:pe,WarnthisMessage:ge,timerLoadevent:ce,timerDone:b,timerError:M}=Il(),{status_KnowthisMessage:Ja,status_timerInformthis:St}=Sl();let{queryBuilder_foreign:wt}=Ql(),c=fe,{Model_Name:en,Model_Url:bt,saleit_schemaPath:Ct,saleit_schemaFile:Ot,locked_modelCols_label:tn,flexInvisible_modelCols_labels:ln,useric_modelCols_label:sn}=wl(),{_this_Schema:an,_tableModel_Cols:It,_tableModel_Row:kt,all_modelCols_label:nn,allowed_modelCols:on,visible_modelCols_label:un}=bl(),{_this_Query:te,accModel_Row:rn,_this_Rows:h,_this_RowsChecked:De,_this_Details:cn,_this_userOwned:me}=sl(),{saleitClient_Name:dn,saleitClient_schemaPath:Rt,saleitClient_schemaFile:Dt,locklabels_saleitClient_Cols:_n,invislabels_saleitClient_Cols:Me,userlabels_saleitClient_Cols:Mt,plugable_client_Cols:Bt,labels_plugable_client_Cols:Ut}=al(),{saleitClient_Schema:Be,saleitClient_Cols:le,saleitClient_Row:B,alllabels_saleitClient_Cols:vn,acclabels_saleitClient_Cols:hn,vislabels_saleitClient_Cols:de}=nl(),{this_client_Query:Ue,this_client_Rows:U,this_client_RowsChecked:fn,this_client_Row:S,_this_client_Details:yn,this_client_userOwned:pn}=il();ol();let{saleitChat_Schema:gn,saleitChat_Cols:mn,saleitChat_Row:Qt,alllabels_saleitChat_Cols:xn,acclabels_saleitChat_Cols:Sn,vislabels_saleitChat_Cols:wn}=ul(),{this_chat_Query:bn,this_chat_Rows:_e,this_chat_RowsChecked:Cn,this_chat_Row:E,_this_chat_Details:On,this_chat_userOwned:In}=rl();var{priceFilter:qt,_serveStatus:H,_storeStatus:se,_recordDate:P,totalPrice:Ft,storeItems:Qe,serveItems:kn,_enableRowFilter:Pt,filterOccured:Rn,_thisFiltering:$t,clearFilters:Dn,_filteredRow:Nt}=Bl();const Lt=Ol(),Vt=Zt();kl(K);const qe=Ce;qe("_this_Query",te.value),I(null);let Fe=I(null),Pe=I(null),$e=I(null),Ne=I(null),A=I(null),Et=I("Are You Sure ?");it.value=c!=null?c:!1,Pt.value=!0,ke.value=Ct,Re.value=Ot;const Le=$(()=>(console.log("searchig",c.lytSearchRow),{search:c.lytSearchRow,Requested:H.Requested,Queed:H.Queed,Served:H.Served,cart:se.cart,buy:se.buy,recordDate:P.value,priceFilter:qt}));pt.value=cl();const Q=dl(),C=_l(),ae=vl();let O=I(!1),Ve=I(null);N(Ve,(e,t)=>e!=null&&e?(It.value=e!=null?e:null,At(),!0):null),Ve.value=c._tableModel_Cols_Props,kt=$(()=>{var e,t;return(e=c._tableModel_Row_Props)!=null&&e&&(t=c._tableModel_Row_Props)!=null?t:null});async function At(){await Dl(Rt,Dt).then(t=>(t&&(Be.value=t),!0)),Lt.screen.lt.lg&&Me.value.push("saleitID","orderID","confirmID","store","served","currency","price");let e=await ut(Be.value,Me.value);return le.value=e[0],de.value=e[1],await Tt(le.value),le.value=[...le.value,...Bt],de.value=[...Ut,...de.value],!1}async function Tt(e){return B.value=await ot(Mt.value,e),B.value.orderID=await tt(),B.value.userID=c._profile.id,B.value.phone=c._profile.phone,B.value.phoneCode=c._profile.phoneCode,B.value.quantity=1,!0}N(c._pageSetting,(e,t)=>(m.value=Object.assign(m.value,e),!0)),Fe=$(()=>c.lytSearchRow),N(Fe,async(e,t)=>{e&&(m.value.tableView="cards",ne("lytSearchRow",e))}),Pe=$(()=>c.lytButtonRow),N(Pe,async(e,t)=>{e&&(m.value.tableView="cards",ne(e[0],e[1],e[2]))}),Ne=$(()=>Q.getstatus_Rows),N(Ne,async(e,t)=>{let n;if(D.value=!1,e==null)return n="No Data.",!0;if(e=="noupdates")n="No Updates.";else if(e==!1)n="Locked";else{if(e==!0)return n="Loading ....",!0;if(e=="BadConnection")n="Offline";else return n=e,await ce({message:1},2e3,"...Session Closed"),e=="Unauthorized"&&_logOut(),!1}return St(5e3,n,"Product & Services"),!0}),N(i,(e,t)=>{if(gt.value=e,yt.value=bt,v.value==null)return i.value.currency="ETB",!0;try{me.value=e.userID==c._profile.id}catch{[me.value]=[!1]}return!0}),N(Nt,(e,t)=>{}),$e=$(()=>c.lytCreatRow),N($e,async(e,t)=>(await X({thisIndex:null,thisOpsStatus:null,thisOps:"Create_this",thisOpsCard:"thisCard",stopSync:null}),R.value=!0,!0));async function zt(e=null){return W.value=null,await X({thisIndex:e,thisOpsStatus:null,thisOps:"Update_this",thisOpsCard:"thisCard",stopSync:null}),R.value=!0,!0}let T="";async function ne(e=null,t=null,n=null){var w;D.value="loading",Q.set_syncLock(!0),clearInterval(T),ce({this_Query:0},0,"Updating..."),h.value=[],ee.value=!1,v.value=null;let f={id:null,content:null,header:null,qweight:{},geoSearch:(w=m.value.geoSearch.value)!=null?w:"off",queryOperator:"productSpecific-or",limits:100,skips:0},p=await ql(te.value,e,t,n);return te.value={...f,...p[0]},qe("_this_Query",te.value),ee.value=p[2],await Te(Q,te.value),m.value.tableView=p[1],!0}h=$(()=>jt(Q.getDatas));function jt(e){return Array.isArray(e)?e.length?e:(m.value.tableView="cards",h.value):[]}async function xe(){var t;U.value=[],C.set_syncLock(!0),clearInterval(T);let e={activeUserID:c._profile.id,userItemOwnership:me.value,activeItemID:(t=i.value.id)!=null?t:"",queryOperator:"and",otherQueries:{store:"buy"}};return Ue.value=await wt(e),await Te(C,Ue.value),!0}U=$(()=>Kt(C.getDatas));function Kt(e){return Array.isArray(e)?e.length?e:[]:[]}async function X(e={thisIndex:null,thisOpsStatus:null,thisOps:null,thisOpsCard:null,stopSync:null}){var t,n;if(v.value=e.thisIndex,(t=e.stopSync)!=null&&t&&(e.thisOps=="clients"?C.set_syncLock(!0):ae.set_syncLock(!0)),W.value=null,rt.value=null,R.value=null,dt.value=null,_t.value=null,Oe.value="saleitgr",D.value=e.thisOpsStatus,y.value=e.thisOps,ct.value=e.thisOpsCard,e.thisIndex==null)i.value=Object.assign({},c._tableModel_Row_Props),i.value.geolocation=c._profile.geolocation,i.value.location=c._profile.location,i.value.currency=(n=c._profile.currency)!=null?n:"",i.value.userID=c._profile.id,i.value.phoneCode=c._profile.phoneCode,i.value.phone=c._profile.phone;else try{i.value=Object.assign({},h.value[e.thisIndex])}catch{}return!0}async function Se(e,t,n=null,f=null){var p,w,ie,oe;_.value=t,n&&n.set_syncLock(!0),vt.value=null,Y.value=null,ht.value=null,Ie.value=f,ee.value=e;try{if(y.value=="comments")t==null?(E.value=Object.assign({},Qt.value),E.value.userID=c._profile.id,E.value.saleitID=(w=(p=i.value)==null?void 0:p.id)!=null?w:""):E.value=Object.assign({},_e.value[t]);else if(t==null||y.value=="details")S.value=Object.assign({},B.value),S.value.userID=c._profile.id,S.value.phoneCode=c._profile.phoneCode,S.value.currency=i.value.currency,S.value.location=i.value.location,S.value.geolocation=i.value.geolocation,S.value.saleitID=(oe=(ie=i.value)==null?void 0:ie.id)!=null?oe:"",S.value.orderID=await tt();else try{S.value=Object.assign({},U.value[t])}catch{}}catch{}return!0}const Ee=async function(e,t,n){let f=_.value==e;return e==null||f&&ee.value==t?(await Se(null,null,y.value=="clients"?C:"",null),!0):!1};let x={_add:async()=>(_.value=null,S.value=Object.assign({},B.value),!0),selectedIndex_:async(e={foreignIndex:null,foreignOps:null,foreignOpsStatus:null})=>(Ie.value=e.foreignOps,await Ee(e.foreignIndex,e.foreignOps,y.value)?!1:(await Se(e.foreignOps,e.foreignIndex,y.value=="clients"?C:ae,e.foreignOpsStatus),!0)),selectedIndex_RowDetail:async(e,t=null,n=null)=>{let f="clients";return await Ee(t,n)?!1:(v.value=0,await Ht(Q,{id:e}).then(async p=>{try{p&&(h.value[v.value]=p[v.value],await ve._detailView(h.value[v.value].id,v.value,f,"selected","detailCard"),await x.selectedIndex_({foreignIndex:t,foreignOps:n,foreignOpsStatus:null}))}catch{return!0}}),!0)},selectedIndex_RowCard:async(e=null)=>{Y.value=e},_remove:async()=>{if(y.value=="comments"){let e={id:i.value.id,comments:E.value};e.thisOps=y.value,e.thisSubOps="delete";let t=await ae.deleteData(e,{});if(!t.status)return M(500,"Error Creating",""),!1;b(5e3,"Removed",""),h.value[v.value]=t.data.data,_e.value.splice(_.value,1),await Se(null,null,null,null)}else{let e={id:i.value.id,clients:S.value};e.thisOps=y.value,e.thisSubOps="delete";let t=await C.deleteData(e);if(!t.status)return M(500,"Error Creating",""),!1;b(5e3,"Removed",""),h.value[v.value]=t.data.data,U.value.splice(_.value,1),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_update_foreign:async()=>{if(_.value=null,y.value=="comments"){let e={id:i.value.id,comments:E.value};e.thisOps=y.value,e.thisSubOps="update";let t=await ae.updateData(e,{});return t.status?(b(5e3,"Updated Succefully",""),h.value[v.value]=t.data.data,typeof _.value=="number"&&!Y.value?_e.value[_.value]=t.data.foreignData:await chatQuery_builder(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):(M(500,"Error Updating",""),!1)}else{let e={id:i.value.id,clients:S.value};e.thisOps=y.value,e.thisSubOps="update",e.clients.store="buy";let t=await C.updateData(e,{});return t.status?(b(5e3,"Updated Succefully",""),h.value[v.value]=t.data.data,typeof _.value=="number"&&!Y.value?U.value[_.value]=t.data.foreignData:await xe(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):(M(500,"Error Updating",""),!1)}},_create_foreign:async()=>{if(y.value=="comments"){let e={id:i.value.id,comments:E.value};e.thisOps=y.value,e.thisSubOps="create";let t=await ae.createData(e,{});if(!t.status)return M(500,"Error Creating",""),!1;b(5e3,"Created",""),h.value[v.value]=t.data.data,typeof _.value=="number"&&!Y.value?_e.value[_.value]=t.data.foreignData:await chatQuery_builder(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_directBuyer:async(e={thisOps:null,thisIndex:null,thisSubOps:null,newOps:!0})=>{var f,p,w;let t={clients:S.value};t=Object.assign(t,e),t.clients.store=e.thisSubOps;let n;if(e.newOps?n=await C.createData(t,{}):n=await C.updateData(t,{}),!n.status)return M(500,"Error Creating",""),!1;if(e.thisSubOps=="buy")b(5e3,G.orderdone[Number((f=m.value.language)!=null?f:1)],"");else return b(5e3,G.savedone[Number((p=m.value.language)!=null?p:1)],""),De.value.push((w=n.data.data.id)!=null?w:null),!0;return h.value[v.value]=n.data.data,typeof _.value=="number"&&!Y.value?U.value[_.value]=n.data.foreignData:await xe(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0}},ve={_removeItem:async function(e=null,t=null){return v.value=null,y.value=t,delete h.value[e],!0},_detailView:async(e=null,t=null,n=null,f=null,p=null,w=null)=>(await X({thisIndex:t,thisOps:n,thisOpsCard:p,thisOpsStatus:f,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:w,foreignOpsStatus:null}),!0),selectedRow_ForeignRows:async(e={thisIndex:null,thisOps:null,thisOpsCard:null,thisSubOps:null,this_foreignBoxOps:null})=>{var t;return console.error(e,"dddddddddjjjjjj"),await X({thisOps:e.thisOps,thisOpsCard:(t=e.thisOpsCard)!=null?t:!1,thisIndex:e.thisIndex,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:e.this_foreignBoxOps,foreignOpsStatus:!0}),e.this_foreignBoxOps!="direct"&&(e.thisOps=="clients"?xe():chatQuery_builder()),!0},_rating:async(e={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(i.value=Object.assign(i.value,e),await re().then(async t=>(t&&(b(5e3,"You Rated","Succefully Updated"),h.value[e.thisIndex]._itServiceRating++),!0)).catch(t=>!1)),_likes:async(e={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(i.value=Object.assign(i.value,e),await re().then(async t=>(t&&(b(5e3,"Liked","Succefully Updated"),h.value[e.thisIndex].likes.like++),!0)).catch(t=>!1)),_following:async(e={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(i.value=Object.assign(i.value,e),await re().then(async t=>(t&&b(5e3,"Following ","Succefully Updated"),!0)).catch(t=>!1)),_delRow:async(e=null,t,n)=>e==null?(i.value={id:n},A.value=ve._delRow,!1):(A.value=null,e?await xt().then(f=>(f&&ne("userID",c._profile.id),!0)).catch(f=>!1):!1),_toCart:async(e={id:null,thisIndex:null,thisOps:null,thisSubOps:null})=>{var n,f;i.value={clients:Object.assign({store:e.thisSubOps},(n=B.value)!=null?n:{})},i.value=Object.assign(i.value,e),console.log(e,"poooooo");let t=await C.createData(i.value,{});return t.status?(b(5e3,"Product Saved",""),De.value.push((f=t.data.data.id)!=null?f:null),!0):(M(500,"Error Creating",""),!1)}};async function Yt(){return D.value=!0,i.value.thisOps=y.value,i.value.thisSubOps="new",await mt().then(async e=>(ce({createData:1},1,"Updating..."),e?L!="myservice"?Vt.push("/play/MyServices"):ne("userID",c._profile.id):(D.value=!1,W.value=null,!0))).catch(e=>(M(5e3,"Error Creating","Error Creating"+e),W.value=null,R.value=!1,!1))}async function Wt(){return D.value=!0,i.value.thisOps=y.value,i.value.thisSubOps="update",await re().then(async e=>(ce({updateData:1},1,"Updating..."),e&&(b(5e3,"Item Updated","Succefully Updated"),h.value[v.value]=Object.assign({},e),R.value=!1),D.value=!1,W.value=null,!0)).catch(e=>(M(5e3,"Error Updating","Error Updating"+e),D.value=!1,R.value=!1,W.value=null,!1))}let Ae=I(25e5);const Te=async(e,t)=>(clearInterval(T),await e.set_syncQuery(t),e.set_syncLock(!1),e.asyncDatas(),setTimeout(function(){clearInterval(T),T=setInterval(e.asyncDatas,Ae.value)},Ae.value),!0),Ht=async(e,t)=>await e.readFData(t).then(n=>n.status?n.data:!1);return Gt(async()=>{clearInterval(T),await X({thisOps:null,thisOpsCard:null,thisIndex:null,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}),ne("userID",c._profile.id),Jt(async()=>(clearInterval(T),await X({thisOps:"clients",thisOpsCard:null,thisIndex:null,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0)),new ft,(e,t)=>{var n,f,p,w,ie,oe,ze,je,Ke,Ye,We,He,Xe,Ze,Ge;return o(),u(j,null,[s(R)?(o(),he(Ul,{key:0,_this:s(i),_pageSettings:s(m),__thisOpsStatus:s(D),__thisOps:s(y),active_fileName:s(Oe),thisSchemaFile_Rec:s(Re),thisSchemaPath_Rec:s(ke),onClose:t[0]||(t[0]=a=>F(R)?R.value=a:R=a),onUpdate_this:t[1]||(t[1]=a=>Wt()),onCreate_this:t[2]||(t[2]=a=>Yt())},null,8,["_this","_pageSettings","__thisOpsStatus","__thisOps","active_fileName","thisSchemaFile_Rec","thisSchemaPath_Rec"])):k("",!0),g(Rl,{isOpen:s(A),onEmitClick0:t[3]||(t[3]=a=>F(A)?A.value=a:A=a)},{default:z(()=>[g(yl,{onConfirmButton:s(A),header:s(Et),title:"Yes",textcolor:"black",background:"green",title2:"No",textcolor2:"green",background2:"red"},null,8,["onConfirmButton","header"])]),_:1},8,["isOpen"]),(n=s(pe).length)!=null&&n?(o(),he(at,{key:1,messages:(f=s(pe))!=null?f:[],onCloseButton:t[4]||(t[4]=a=>pe.value=[])},null,8,["messages"])):k("",!0),(p=s(ge).length)!=null&&p?(o(),he(at,{key:2,messages:(w=s(ge))!=null?w:[{}],onCloseButton:t[5]||(t[5]=a=>ge.value=[])},null,8,["messages"])):k("",!0),l("div",$l,[l("div",Nl,[l("div",Ll,[l("div",Vl,[l("div",El,d(s(v)?"Live -":"")+" Client Information",1),l("div",null,[g(ue,{dense:!0,color:"black",size:"xs",flat:"",onClick:t[6]||(t[6]=a=>F(O)?O.value=!1:O=!1),icon:"minimize"}),g(ue,{dense:!0,color:"blue",size:"xs",onClick:t[7]||(t[7]=a=>F(O)?O.value="max":O="max"),icon:"maximize"}),g(ue,{dense:!0,color:"red",size:"xs",onClick:t[8]||(t[8]=a=>F(O)?O.value="close":O="close"),icon:"close"})])]),s(O)=="max"?(o(),u("div",Al,[l("div",Tl,[l("div",zl,[l("div",jl,[Kl,l("div",Yl,[be(l("input",{class:"boxStyle-flat txtsmokey",type:"date","onUpdate:modelValue":t[9]||(t[9]=a=>F(P)?P.value=a:P=a)},null,512),[[nt,s(P)]]),l("button",{onClick:t[10]||(t[10]=a=>F(P)?P.value=null:P=null),class:"fontStyle-dense boxStyle-sm radiusxxs bgnegative font-light"},Hl)])]),l("div",Xl,[Zl,(o(!0),u(j,null,J(s(se),(a,r)=>(o(),u("div",{class:"onedlayout crow cj-between ia-start fontStyle-dense",key:r},[l("h6",Gl,d(r),1),l("div",null,[g(et,{size:"xs",modelValue:s(se)[r],"onUpdate:modelValue":q=>s(se)[r]=q,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),l("div",Jl,[(o(!0),u(j,null,J(s(H),(a,r)=>(o(),u("section",{class:"onedlayout crow cj-between ia-start fontStyle-dense",key:r},[l("h6",es,d(r),1),g(et,{class:"",size:"xs",modelValue:s(H)[r],"onUpdate:modelValue":q=>s(H)[r]=q,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])]))),128))])]),l("div",ts,[l("div",ls,[l("div",ss,[l("h3",as,d(s(Qe).buy),1),l("span",ns,d(s(G).boughtQty[Number((ie=s(m).language)!=null?ie:1)]),1)]),l("div",is,[l("h3",os,d(s(Qe).cart),1),l("span",us,d(s(G).cartedQty[Number((oe=s(m).language)!=null?oe:1)]),1)])]),l("div",rs,[l("h3",cs,d(s(Ft)),1),l("p",ds,d((je=(ze=s(i))==null?void 0:ze.currency)!=null?je:""),1)])])])])):k("",!0)]),((Ke=s(U))!=null?Ke:!1)&&s(O)!="close"?(o(),u("div",_s,[((Ye=s(U).length)!=null?Ye:!1)&&s(v)!=null?(o(),u("div",vs,[g(hl,{flat:"",bordered:"",rows:s(U),columns:s(le),filterMethod:s($t),filter:Le.value,"onUpdate:filter":t[15]||(t[15]=a=>Le.value=a),inFullscreen:!0,"no-data-label":"","rows-per-page-options":[0],"visible-columns":s(de),"virtual-scroll":"","row-key":"id",rowIndex:"true","hide-pagination":"","hide-top":"","hide-bottom":"",class:"fontStyle-dense boxStyle-sm bgnull"},{"header-cell":z(a=>[g(lt,{props:a,class:"fontStyle-dense font-light"},{default:z(()=>[l("p",hs,d(a.col.name),1)]),_:2},1032,["props"])]),body:z(a=>[g(fl,{props:a,class:""},{default:z(()=>[s(_)==a.rowIndex?(o(),he(lt,{key:0,colspan:"100%"},{default:z(()=>[l("div",fs,[l("div",ys,[ps,l("i",gs,d(a.row.phone),1)]),g(Pl,{this_client_Row:s(S)},null,8,["this_client_Row"]),l("div",ms,[l("div",xs,[l("button",{class:"boxStyle-sm radiusxxs bgposetive",onClick:t[11]||(t[11]=r=>s(x)._update_foreign())},ws),l("button",{class:"boxStyle-sm radiusxxs bgnegative",onClick:t[12]||(t[12]=r=>s(x)._remove())},Cs)]),l("button",{class:"boxStyle-sm radiusxxs bgnegative",onClick:t[13]||(t[13]=r=>F(_)?_.value=null:_=null)},Is)])])]),_:2},1024)):(o(!0),u(j,{key:1},J(a.cols,r=>{var q;return o(),u("td",{props:a,style:{"font-size":"0.6em","text-align":"justify"},key:r.name,class:"fontStyle-dense font-grey"},[l("div",Rs,[r.name=="served"?(o(),u("div",Ds,[l("div",{style:tl(a.row[r.name]=="Requested"?"color:green":"color:grey")},d(a.row[r.name]),5)])):r.name=="store"?(o(),u("div",Ms,[a.row[r.name]=="buy"?(o(),u("div",Bs,d(a.row[r.name]),1)):(o(),u("div",Us,d(a.row[r.name]),1))])):r.name=="description"?(o(),u("div",Qs,[l("button",{class:"BBoxStyle-flat fontStyle-dense ellipsis",style:{},onClick:Z=>s(x).selectedIndex_RowDetail(a.row.saleitID,a.rowIndex,"view")},[l("h4",Fs,d(s(G).orderDetail[Number((q=s(m).language)!=null?q:1)]),1)],8,qs)])):r.name=="time"?(o(),u("p",Ps,d(a.row.fcreatedAt),1)):r.name=="action"?(o(),u("div",$s,[s(_)==a.rowIndex&&s(ee)?(o(),u("div",Ns,[l("div",Ls,[g(ue,{size:"sm",color:"orange",dense:!0,icon:"close",onClick:t[14]||(t[14]=Z=>F(_)?_.value=null:_=null),label:"close"}),g(ue,{color:"red",size:"xs",dense:!0,icon:"delete",onClick:Z=>s(x)._remove(a.rowIndex),label:"delete"},null,8,["onClick"])])])):(o(),u("button",{key:1,class:"BBoxStyle-flat radiusxxs fontStyle-dense bgwarning",onClick:Z=>s(x).selectedIndex_({foreignIndex:a.rowIndex,foreignOps:"edit",foreignOpsStatus:null})},As,8,Vs))])):(o(),u("p",Ts,d(a.row[r.name]),1))])],8,ks)}),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","filterMethod","filter","visible-columns"])])):(o(),u("div",zs,[l("div",js,[g(st,{class:"col-grow flex flex-center text-grey"},{default:z(()=>[we("Listening For Buyers ")]),_:1}),(o(),u(j,null,J(10,a=>g(st,{class:"col-grow flex flex-center",key:a})),64))]),g(el,{inset:""}),Ks]))])):k("",!0)]),(We=s(h))!=null&&We?(o(),u("div",Ys,[l("div",Ws,[(Xe=(He=s(h))==null?void 0:He.length)==null||Xe?(o(),u("div",Hs,[l("div",Xs," # "+d(s(h).length)+" Products & Services ",1),we(" | "),(o(),u("div",Zs,d(s(v)?"Live":"Offline"),1)),we(" | ")])):k("",!0),Gs]),(Ge=(Ze=s(h))==null?void 0:Ze.length)!=null&&Ge?(o(),u("div",Js,[(o(!0),u(j,null,J(s(h),(a,r)=>{var q,Z;return o(),u("div",{class:"col-auto q-gutter-sm column",key:r},[(q=a==null?void 0:a.saleitgr)!=null&&q?(o(),u("div",ea,[l("div",ta,[typeof s(v)=="number"&&s(v)==r?(o(),u("div",la)):k("",!0),a.isOpen?(o(),u("button",{key:1,class:"boxStyle-sm p-sidesm radiusmd bggrey fontStyle-dense",onClick:Je=>s(ve).selectedRow_ForeignRows({thisIndex:r,thisOps:"clients",thisOpsCard:null,thisSubOps:null,this_foreignBoxOps:"showOrder"})},[l("h3",aa,d(s(G).livebuyer[Number((Z=s(m).language)!=null?Z:1)]),1)],8,sa)):k("",!0)]),g(Cl,{src:a.saleitgr[0],style:{"aspect-ratio":"1/1",width:"100%"},class:"col q-pa-xs"},null,8,["src"]),l("div",na,[l("div",ia,[l("div",oa,[l("button",{class:"boxStyle-sm fontStyle-base",onClick:Je=>zt(r)},ca,8,ua),l("button",{class:"boxStyle-sm fontStyle-base font-error",onClick:Je=>s(ve)._delRow(null,r,a.id)},va,8,da)]),l("div",ha,[l("h5",null," Price: "+d(a.price),1),l("h5",null," Quantity: "+d(a.quantity),1)])]),l("div",fa,[l("div",ya,[l("p",null,d(a.catagory)+" ("+d(a.usage)+") ",1)]),l("div",pa,[l("h3",ga,d(a.tClient),1),ma])])])])):k("",!0)])}),128))])):(o(),u("div",xa," No Items to Display "))])):k("",!0)])],64)}}};export{An as default};
