import{c as xe,b as he,g as be}from"./saleitModel.be4732c9.js";import{r as z,c as F,w as O,l as n,m as i,f as N,q as V,n as e,t as s,v as k,F as w,z as I,y as ae,p as A,E as re,x as u,b as U,aL as Se,b7 as ke,a2 as g,A as x,B as we,a$ as m,b8 as C,b9 as ce,ba as Ce,D as Ne}from"./index.7da674c1.js";import{k as Ie,l as $e}from"./saleitChatDatas.1bed1e2b.js";import{Q as qe}from"./QItemLabel.e74a2325.js";import{d as Fe}from"./debugMixin.f1193fc4.js";const Re={key:0},Oe={key:1},Ve={class:"font-grey200 ps-relative cameraBox-size"},Ue={class:"ccolumn"},je={key:0,class:"ps-absolute parent-fit ccolumn cj-between"},De={key:0},Be={key:1,class:"ccol-grow ccolumn cj-between"},Qe={class:"row",style:{"border-radius":"15px",height:"100px",overflow:"scroll"}},ze={class:"fontStyle-sm crow"},Ae={key:0,class:"crow ia-center"},Pe=s("h4",{class:"font-light"}," close",-1),Me=[Pe],Ee=s("h4",{class:"font-light"}," Save",-1),Le=[Ee],Te=s("h4",null," Capure",-1),Ge=[Te],He={size:"col-auto row"},We={key:1},Je={class:"font-grey200"},Ke={key:2},Xe={class:"ccol-auto bgc-grey200 crow size-fill"},Ye=s("i",{class:"ri-upload-2-fill fontStyle-xl font-light"},null,-1),Ze={class:"font-light"},et={class:"thisImage-size boxStyle-flat ps-relative crow ia-center cj-center yoflow"},tt=["src"],st={key:1,class:""},lt={class:"boxStyle-sm p-rlxs ps-absolute parent-fit"},ot={class:"crow cj-end"},nt={key:0,class:"",style:{}},it={class:"column",style:{width:"100%",height:"100%","background-color":"transparent"}},at=["onClick"],rt=s("div",{class:"col text-dark"},null,-1),ct={class:"ccolumn cgap-1",style:{}},ut={class:"ccolumn cgap-0 ia-center radius-sm bgc-grey25"},dt=s("i",{class:"ri-folder-fill fontStyle-xl font-grey100"},null,-1),yt=[dt],gt=s("i",{class:"ri-camera-fill fontStyle-xl font-grey100"},null,-1),mt=[gt],vt=s("i",{class:"ri-delete-bin-fill fontStyle-xl font-grey"},null,-1),ft=[vt],pt={key:0,class:"boxStyle-xxs radius-xxs bgc-light ccolumn"},_t={class:"ccol-grow crowwrap cgap-2 cj-evenly yoflow fontStyle-sm"},xt={class:"ccolumn cgap-2"},ht={class:"ccolumn cgap-2"},bt={class:"ccolumn cgap-2"},St={class:"ccolumn cgap-2"},kt={key:0},wt={key:0,class:"text-red"},Ct={key:1},Nt={key:1,cclass:`
            boxStyle-xxs radius-xxs 
            ccolumn fontStyle-sm font-light bgc-grey100
            `,style:{width:"100%"}},It={class:"crow cj-end"},$t={class:""},qt={key:0,class:""},Ft={class:"boxStyle-xxs radius-xxs bgc-light crowwrap yoflow fontStyle-sm",style:{overflow:"scroll"}},Rt={class:"ccolumn cgap-2"},Ot={class:"ccolumn cgap-2"},Vt={class:"ccolumn cgap-2"},Ut={key:1,class:"boxStyle-xxs p-rlsm bgc-light"},jt={class:"crow cgap-2 fontStyle-sm font-grey25"},Dt={class:"ccolumn cgap-2"},Bt={key:0,class:"text-red"},Qt={key:1},zt={key:2,class:"text-red"},At={key:3},Pt={class:"ccolumn cgap-2 fontStyle-md font-grey25",style:{width:"100%"}},Kt={__name:"thisCard",props:{_this:{type:Object,default:()=>({})},_pageSettings:{type:Object,default:()=>({})},__thisOps:{type:String,required:!0},__thisOpsStatus:{type:String},active_fileName:{type:String},thisSchemaFile_Rec:{type:String},thisSchemaPath_Rec:{type:String}},emits:["Create_this","Update_this","close"],setup(a,{emit:j}){var K,X,Y,Z;var{thisSchemaPath:D,thisSchemaFile:v,_debugObj:d,_validateThis:c}=xe(),{_thisMedia:Mt,_fileAttributeName:B,hasCameraPermission:Q,_cameraBox:f,_fileSourceFoCam:P,_fileAsSRC:h,_fileAsString:ue,_fileAsRaw:M,_liveFeedSRC:de,_fileAsSRCIndex:E,_cameraDevice:ye,_listCameraSource:L,_selectedCameraById:T,_selectedCameraByface:G,_liveFeedRawStreaming:H,_liveFeedRawStreamingStatus:W,_fileSourceFolder:ge,_fileAsSRCOps:b,_fileAsSRCOpsCall:me,_resetFileSource:Et,get_liveFeedRaw:Lt}=he();const y=a,J=j;let $=z(null);Fe(y.thisSchemaPath_Rec,y.thisSchemaFile_Rec).then(r=>{r&&($.value=r)});let p=z(!0);var o=F(()=>y._this);F(()=>y._this),ue=F(()=>(y._this[y.active_fileName],alert(y.active_fileName),""));var S=new ye;O(f,(r,t)=>!0);let ve=z(null);O(H,(r,t)=>(console.log("liveStream :  __  "+r),ve.value=r,!0)),O(Q,(r,t)=>(console.log("cameraPermission"+r),!0)),D=F(()=>y.thisSchemaPath_Rec),v=F(()=>y.thisSchemaFile_Rec),O(B,(r,t)=>(r&&(o.value[r]=M.value,typeof M.value=="object"?o.value.file_={files:r}:o.value.file_={file:r}),!0));let fe=["Home & Living","Fashion & Apparel","Electronics & Gadgets"];y.__thisOps=="Create_this"&&(c("catagory",(K=o.value.catagory)!=null?K:""),c("price",(X=o.value.price)!=null?X:1),c("quantity",(Y=o.value.quantity)!=null?Y:1),c("currency",(Z=o.value.currency)!=null?Z:"ETB"));function pe(r){let t=Object.values(d.value).every(R=>R==null),q=B.value?h.value.length:o.value[y.active_fileName].length;if(console.log(q,t),!(t&&q))return!1;J(r)}function _e(){J("close",!1)}return(r,t)=>{var q,R,ee,te,se,le,oe,ne,ie;return n(),i(w,null,[N(Se,{modelValue:e(f),"onUpdate:modelValue":t[4]||(t[4]=l=>U(f)?f.value=l:f=l),class:"overlay-Glass rounded-borders z-top bgc-dark crow",onClick:t[5]||(t[5]=l=>U(f)?f.value=!1:f=!1)},{default:V(()=>[e(P)=="folder"?(n(),i("div",Re)):e(P)=="camera"?(n(),i("div",Oe,[s("div",Ve,[s("div",Ue,[s("video",{clas:"",id:"feedRaw",ref_key:"_liveFeedRawStreaming",ref:H,autoplay:"",playsinline:"",style:{"max-width":"100%"}},null,512),s("canvas",{id:"_liveFeedSRC",ref_key:"_liveFeedSRC",ref:de,style:{display:"none"}},null,512)]),e(Q)==!0?(n(),i("div",je,[e(W)=="init"?(n(),i("div",De," Waiting .... ")):k("",!0),e(W)=="ok"?(n(),i("div",Be,[s("div",Qe,[(n(!0),i(w,null,I(e(h),l=>(n(),i("div",{key:l,style:{margin:"5px"}},[N(be,{src:l,style:{width:"50px"}},null,8,["src"])]))),128))]),s("div",ze,[e(h).length?(n(),i("div",Ae,[s("button",{class:"boxStyle-xxs radius-sm bgc-negative",onClick:t[0]||(t[0]=l=>e(S)._stopCamera())},Me),s("button",{class:"boxStyle-xxs radius-sm bgc-posetive",onClick:t[1]||(t[1]=l=>e(S)._saveScreenShoots())},Le),ae(" | ")])):k("",!0),s("button",{class:"boxStyle-xxs radius-sm bgc-grey200",onClick:t[2]||(t[2]=l=>e(S)._screenShoot())},Ge),s("div",He,[e(L).length?(n(),A(Ie,{key:0,"switch-toggle-side":"","expand-separator":"",icon:"camera",size:"xs"},{default:V(()=>[(n(!0),i(w,null,I(e(L),l=>(n(),A($e,{key:l,class:"row q-gutter-sm"},{default:V(()=>[N(re,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:e(T)==l.deviceId?"blue":"black",label:l.label?l.label.split("_")[1]:"cam",onClick:_=>e(S)._setCameraParam(l.deviceId,!1)},null,8,["color","label","onClick"]),N(re,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:e(T)==l.deviceId?"orange":"black",label:e(G)?"Front Cam":"Back Cam",onClick:_=>e(S)._setCameraParam(l.deviceId,!e(G))},null,8,["color","label","onClick"])]),_:2},1024))),128))]),_:1})):k("",!0)])])])):k("",!0)])):(n(),i("div",We,[s("h4",Je,u(e(Q)),1),s("button",{onClick:t[3]||(t[3]=l=>e(S)._openCamera())}," Try Again.")]))])])):(n(),i("div",Ke," Error Accessing System, please allow on settting for Location and Media Devices "))]),_:1},8,["modelValue"]),s("div",{class:"fixed-topleft size-fill layer7 boxStyle-flat ccolumn cj-center ia-center yoflow",onClick:t[34]||(t[34]=l=>_e())},[Object.keys(e(o)).length&&e($)?(n(),i("div",{key:0,class:"ccolumn ia-center yoflow cgap-0 radius-xxs bgc-grey25",onClick:t[33]||(t[33]=ke(()=>{},["stop"]))},[s("div",Xe,[s("button",{class:g(["boxStyle-xxs radius-xxs crow cgap-1 ia-center fontStyle-sm",a.__thisOps=="Create_this"?"bgc-system":"bgc-grey"]),onClick:t[6]||(t[6]=l=>pe(a.__thisOps))},[Ye,s("h4",Ze,u(e(x)[a.__thisOps+"_label"][Number((q=a._pageSettings.language)!=null?q:1)]),1)],2)]),s("div",et,[(R=e(o)[a.active_fileName])!=null&&R?(n(),i("img",{key:0,src:e(B)?e(h)[e(E)]:e(o)[a.active_fileName][e(E)]},null,8,tt)):(n(),i("div",st," Image Required ")),s("div",lt,[s("div",ot,[e(h)&&e(h).length>1?(n(),i("div",nt,[s("div",it,[(n(!0),i(w,null,I(e(h).length,l=>(n(),i("button",{style:{"border-radius":"0px","box-shadow":"none","background-color":"transparent",border:"0px"},onClick:_=>e(me)(l-1),key:l},[s("input",{style:we(e(b)?"color:red":""),type:"radio"},null,4)],8,at))),128))])])):k("",!0),rt,s("div",ct,[s("input",{type:"file",multiple:"",ref:"openFolder",style:{display:"none"},onChange:t[7]||(t[7]=l=>e(ge)(l,a.active_fileName))},null,544),s("div",ut,[s("button",{class:"boxStyle-xxs fontStyle-md font-grey25",style:{"min-width":"2vw"},onClick:t[8]||(t[8]=l=>r.$refs.openFolder.click())},yt),s("button",{class:"boxStyle-xxs",style:{"min-width":"2vw"},onClick:t[9]||(t[9]=l=>e(S)._openCamera("saleitgr"))},mt),s("button",{style:{"background-color":"transparent",border:"0px"},onClick:t[10]||(t[10]=l=>U(b)?b.value=!e(b):b=!e(b)),class:g(e(b)?"font-negative":"")},ft,2)])])])])]),a.__thisOps=="Create_this"?(n(),i("div",pt,[s("div",_t,[s("div",xt,[s("h5",{class:g(e(d).quantity?"font-negative":"font-primary")},u(e(x).quantity[Number((ee=a._pageSettings.language)!=null?ee:1)]),3),m(s("input",{type:"Number",class:"boxStyle-xxs radius-xxs bgc-grey225","onUpdate:modelValue":t[11]||(t[11]=l=>e(o).quantity=l),onInput:t[12]||(t[12]=l=>e(c)("quantity",e(o).quantity))},null,544),[[C,e(o).quantity]])]),s("div",ht,[s("h5",{class:g(e(d).price?"font-negative":"font-primary")},u(e(x).price[Number((te=a._pageSettings.language)!=null?te:1)]),3),m(s("input",{type:"Number",class:"boxStyle-xxs radius-xxs bgc-grey225","onUpdate:modelValue":t[13]||(t[13]=l=>e(o).price=l),onInput:t[14]||(t[14]=l=>e(c)("price",e(o).price))},null,544),[[C,e(o).price]])]),s("div",bt,[s("h5",{class:g(e(d).currency?"font-negative":"font-primary")},u(e(x).currency[Number((se=a._pageSettings.language)!=null?se:1)]),3),m(s("select",{class:"boxStyle-xxs radius-xxs bgc-grey225","onUpdate:modelValue":t[15]||(t[15]=l=>e(o).currency=l),onInput:t[16]||(t[16]=l=>e(c)("currency",e(o).currency))},[(n(!0),i(w,null,I(e($).currency.enum,l=>(n(),i("option",{key:l},u(l),1))),128))],544),[[ce,e(o).currency]])])]),s("div",null,[s("div",St,[s("h5",{class:g(e(d).catagory?"font-negative":"font-primary")},u(e(x).catagory[Number((le=a._pageSettings.language)!=null?le:1)]),3),m(s("select",{type:"Number",class:"boxStyle-xxs radius-xxs bgc-grey225","onUpdate:modelValue":t[17]||(t[17]=l=>e(o).catagory=l),onInput:t[18]||(t[18]=l=>{var _;return e(c)("catagory",(_=e(o).catagory)!=null?_:"Others")})},[(n(!0),i(w,null,I(e($).catagory.enum,l=>(n(),i("option",{key:l},u(l),1))),128))],544),[[ce,e(o).catagory]])])]),e(fe).includes(e(o).catagory)?(n(),i("div",kt,[(n(!0),i(w,null,I(e($).usage.enum,l=>(n(),A(Ce,{"keep-color":"","left-label":"",size:"md",modelValue:e(o).usage,"onUpdate:modelValue":t[19]||(t[19]=_=>e(o).usage=_),val:l,label:l,color:"black",key:l,onChange:t[20]||(t[20]=_=>e(c)("usage",e(o).usage))},null,8,["modelValue","val","label"]))),128)),e(d).usage?(n(),i("u",wt," Used or New ? ")):(n(),i("u",Ct," Used or New ? "))])):k("",!0)])):(n(),i("div",Nt,[s("div",It,[s("button",{onClick:t[21]||(t[21]=l=>U(p)?p.value=!e(p):p=!e(p)),class:"boxStyle-xxs fontStyle-md font-light crow cgap-1"},[s("p",null,u((e(p)?1:2)+" of 2 "),1),s("h5",$t,u(e(p)?"Next":"Back"),1)])]),e(p)?(n(),i("div",qt,[s("div",Ft,[s("div",Rt,[s("h5",{class:g(e(d).quantity?"font-negative":"font-primary")},u(e(x).quantity[Number((oe=a._pageSettings.language)!=null?oe:1)]),3),m(s("input",{type:"Number",class:"boxStyle-xxs radius-xxs bgc-grey25 font-light fontStyle-md","onUpdate:modelValue":t[22]||(t[22]=l=>e(o).quantity=l),onInput:t[23]||(t[23]=l=>e(c)("quantity",e(o).quantity))},null,544),[[C,e(o).quantity]])]),s("div",Ot,[s("h5",{class:g(e(d).price?"font-negative":"font-primary")},u(e(x).price[Number((ne=a._pageSettings.language)!=null?ne:1)]),3),m(s("input",{type:"Number",class:"boxStyle-xxs radius-xxs bgc-grey25 font-light fontStyle-md","onUpdate:modelValue":t[24]||(t[24]=l=>e(o).price=l),onInput:t[25]||(t[25]=l=>e(c)("price",e(o).price))},null,544),[[C,e(o).price]])]),s("div",Vt,[s("h5",{class:g(e(d).discount?"font-negative":"font-primary")},u(e(x).discount[Number((ie=a._pageSettings.language)!=null?ie:1)]),3),m(s("input",{type:"Number",class:"boxStyle-xxs radius-xxs bgc-grey25 font-light fontStyle-md","onUpdate:modelValue":t[26]||(t[26]=l=>e(o).discount=l),onInput:t[27]||(t[27]=l=>e(c)("discount",e(o).discount)),onChange:t[28]||(t[28]=l=>e(c)("discount",e(o).discount)),style:{"max-width":"95%"}},null,544),[[C,e(o).discount]])])])])):(n(),i("div",Ut,[s("div",jt,[s("div",Dt,[e(d).header?(n(),i("h4",Bt," Name ")):(n(),i("h4",Qt," Name ")),e(d).content?(n(),i("h4",zt," Description ")):(n(),i("h4",At," Description "))]),s("div",Pt,[m(s("input",{type:"textarea","onUpdate:modelValue":t[29]||(t[29]=l=>e(o).header=l),class:"boxStyle-xxs radius-xxs bgc-grey25 font-light fontStyle-md",label:"Header",onChange:t[30]||(t[30]=l=>e(c)("header",e(o).header))},null,544),[[C,e(o).header]]),m(s("textarea",{type:"textarea",class:"boxStyle-xxs radius-xxs bgc-grey25 font-light fontStyle-md","onUpdate:modelValue":t[31]||(t[31]=l=>e(o).content=l),onChange:t[32]||(t[32]=l=>e(c)("content",e(o).content)),label:"Content"},null,544),[[C,e(o).content]])])]),N(Ne,{inset:""}),N(qe,{caption:""},{default:V(()=>[ae(" Notes to be displayed !")]),_:1})]))]))])):k("",!0)])],64)}}},Xt=()=>{let a={},j={activeItemID:null,activeUserID:null,userItemOwnership:!1,queryOperator:"or",otherQueries:{}};async function D(v=j){return v.userItemOwnership||(a.userID=v.activeUserID),a.saleitID=v.activeItemID,a=Object.assign(a,v.otherQueries),a.queryOperator="-"+v.queryOperator,a=Object.assign(a,v.otherQueries),a}return{queryBuilder_foreign:D}};export{Kt as _,Xt as u};
