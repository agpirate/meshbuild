import{r as A,u as rl,c as Y,w as ee,o as dl,a as cl,k as n,l as u,m as l,n as C,p as S,q as s,f as y,b as te,t as k,Q as Me,v as O,x as we,F as Be,y as ot,z as Q,A as _l,B as hl,C as vl,D as fl}from"./index.bc257d95.js";import{Q as ut}from"./QPage.f81471c9.js";import{u as gl,a as yl,b as pl,c as ml,d as wl,e as xl,f as bl,_ as rt,Q as dt,g as Sl}from"./QTooltip.6f1daf1f.js";import{u as Cl,a as kl,b as Ol,c as Il,d as Rl,e as Dl,f as Ml,U as Bl,t as ql,s as Pl,g as Fl,h as Ql,_ as ct,Q as _t,i as xe,j as Ul}from"./crudThisModel.e9537455.js";import{_ as $l,Q as qe}from"./confirmButton.6fc0c5e9.js";import{u as Nl}from"./use-quasar.7b6d4ebe.js";import{u as Vl,a as El,d as Pe,_ as jl,b as _e}from"./debugMixin.eac55b8f.js";import{_ as zl,a as ht,b as Ll}from"./orderDetail.11a6e1a7.js";import{u as Tl,a as Al,_ as vt,b as Yl,c as Kl}from"./buyAction.2cda1d90.js";import{_ as Zl}from"./thisCardm.011ccae5.js";import{t as Hl}from"./thisQueryBuilder.68cf81bd.js";import{u as Wl}from"./queryBuilder.7bebff95.js";import"./QItemLabel.f12facf1.js";import"./axios.05cf8750.js";const Gl={class:"size-contentAuto bgc-dark"},Jl={key:0,class:"size-content1 yoflow boxStyle-xxs radius-xs bgc-grey25"},Xl={key:1,class:""},es={key:0},ts=s("div",{style:{"font-weight":"lighter","font-size":"12px"}},"Loading",-1),ls={key:1,style:{"font-size":"43px","font-weight":"bolder",color:"red"}},ss=s("div",{style:{"font-weight":"lighter","font-size":"12px"}},"Loading",-1),as={class:"orderBox-size boxStyle-xs bgc-dark ccolumn cgap-0"},is={key:0},ns={key:0,class:"q-pa-sm text-red"},os={key:1,class:"q-pa-sm"},us={key:1,class:""},rs={key:0,class:"ccolumn"},ds={class:"boxStyle-flat cgap-3 crow ia-center"},cs={class:"crow cgap-2 cj-end"},_s={key:2,class:"ccolumn fontStyle-sm",style:{}},hs={class:"font-light boxStyle-xs bgc-grey25 p-sidesm"},vs={class:"ccol-10 itemList-size yoflow"},fs={key:3,class:"crow cj-center ia-center"},gs={key:1},ys={key:0,class:""},ps={class:"ps-relative ccol-grow crow"},ms=["src"],ws={class:"ps-absolute size-fill boxStyle-xxs crow"},xs={key:0,class:"ccol-grow ccolumn cj-between ia-start"},bs={class:"boxStyle-xs radius-xs",style:{"min-width":"30%","border-bottom-left-radius":"0px"}},Ss=["onClick"],Cs={class:"crow cgap-5 cj-between ia-center"},ks={class:"boxStyle-xs radius-xxs bgc-grey200 font-grey100 fontStyle-sm font-grey75"},Os={class:"ri-phone-fill fontStyle-sm font-dark crow"},Is=s("div",{class:"bgc-grey200 font-grey100 boxStyle-xs radius-xxs"},[s("i",{class:"font-system ri-verified-badge-line"})],-1),Rs={class:"crow ia-center cj-between boxStyle-xxs bgc-grey25 radius-xxs fontStyle-sm font-grey"},Ds=["onClick"],Ms=s("h4",{class:"font-grey200"}," Follow |",-1),Bs=[Ms],qs={class:"font-grey200"},Ps={class:"ccolumn ia-start cgap-3"},Fs=["src"],Qs={class:"crow cj-between",style:{width:"100%"}},Us=["onClick"],$s=s("h4",null," Show Details ",-1),Ns=[$s],Vs={key:1,class:"crow cgap-2 ia-center bgc-dark radius-md boxStyle-xs fontStyle-sm",style:{"max-height":"5vh"}},Es=["onClick"],js=s("h4",null," | ",-1),zs={class:"crow cgap-3 fontStyle-xl font-system"},Ls=s("i",{class:"ri-phone-fill fontStyle-xl font-grey150 crow"},null,-1),Ts={style:{position:"absolute",right:"3px",top:"20%","z-index":"4"},class:"ps-absolute parent-tr ccolumn cgap-2 cj-center ia-center"},As={key:0,class:"boxStyle-xs radius-sm bgc-posetive fontStyle-sm"},Ys={class:"font-light"},Ks={key:1,style:{color:"orangered"},class:"fonte0astyle"},Zs={key:0,class:"boxStyle-xs radius-sm bgc-negative fontStyle-sm font-light"},Hs={class:"font-light"},Ws={key:1,class:"boxStyle-xs radius-sm bgc-warning fontStyle-sm"},Gs={class:"font-dark"},Js=["onClick"],Xs={class:"font-light"},ea=["onClick"],ta=s("h4",{class:"font-light"}," Comments ",-1),la=[ta],sa=["onClick"],aa=s("i",{class:"ri-information-line crow ia-center fontStyle-xl"},null,-1),ia=[aa],na={key:4,class:"ccolumn cgap-2"},oa=["onClick"],ua=s("h4",{class:"font-light"}," edit ",-1),ra=[ua],da=["onClick"],ca=s("h4",{class:"font-light"}," Delete ",-1),_a=[ca],ha={class:"ccolumn ps-relative"},va={key:0,class:"boxStyle-flat bgd-light ccolumn cj-center ia-center ps-absolute box-size-fill"},fa={key:0,class:"crow fontStyle-sm"},ga=["onClick"],ya=["onClick"],pa={class:""},ma={key:1,class:"bgd-md boxStyle-sm"},wa={key:0,class:"ccolumn cgap-3 ia-center"},xa={class:"boxStyle-xs crow cj-center ia-center cgap-2"},ba={class:"boxStyle-xxs crow cj-center ia-center cgap-1"},Sa={key:1},Ca={key:1,class:"boxStyle-xs ccolumn ps-absolute box-size-fill"},ka={class:"crow cj-between"},Oa={key:0,class:"boxStyle-xs radius-sm bgc-dark fontStyle-sm"},Ia={class:"font-posetive"},Ra={key:1,style:{color:"orangered"},class:"fonte0astyle"},Da={key:0,class:"boxStyle-xs radius-sm bgc-negative fontStyle-sm font-light"},Ma={class:"font-light"},Ba={key:1,class:"boxStyle-xs radius-sm bgc-warning fontStyle-sm"},qa={class:"font-light"},Pa={key:2,class:"fontastyle"},Fa={class:"fontastyle text-white"},Qa={class:"col-grow column justify-end"},Ua=["onClick"],$a=s("i",{class:"ri-information-line fontStyle-xl"},null,-1),Na=[$a],Va={key:2},Ea={key:1,class:"col q-py-md q-gutter-md transparent flex flex-center column",style:{width:"100vw"}},ja={style:{width:"90%"},class:"col-auto q-gutter-xs transparent row"},za={style:{width:"90%"},class:"col q-pa-xs row q-gutter-xs"},La={style:{display:"flex","flex-flow":"column nowrap",width:"90%"}},Ti={__name:"splayPage",props:{_profile:{type:Object,default:()=>({})},_acctype:{type:Object,default:()=>{}},lytCreatRow:{type:Boolean,default:!1},lytSearchRow:{type:String,default:""},lytButtonRow:{type:String,default:""},isScrolled:{type:Boolean,default:!1},isScrolledUp:{type:Boolean,default:!1},_pageSetting:{type:Object,default:()=>({})},_thisMedia:{type:Object,default:()=>({})},_tableModel_Cols_Props:{type:Object,default:()=>({})},_tableModel_Row_Props:{type:Object,default:()=>({})},visible_modelCols_label_Props:{type:Object,default:()=>({})}},emits:["_this_Query"],setup(he,{emit:ft}){const{thisSchemaPath:Fe,thisSchemaFile:Qe,_debugObj:Ta,_validateThis:Aa}=gl();let K=A(null),gt=A("Are You Sure ?");const{Loadingpage:Ya,Loadingevent:yt,DoneMessage:be,WarnthisMessage:Se,timerLoadevent:ve,timerDone:B,timerError:$}=Vl(),{status_KnowthisMessage:Ce,status_timerInformthis:pt}=yl();var{_fileAttributeName:le}=pl();const mt=Nl(),Ue=rl();let r=he;const wt=ft;var{active_fileName:$e,active_fileIndex:ne,__thisFileOps_onCard:xt,__thisFileOps_onZoom:bt,thisOps:Ka,thisOpsCard:Za,thissubOpsStatus:Ha,__thisBox:I,__thisIndex:f,__thisOps:d,__thisOpsCard:fe,__thisOpsStatus:D,__thissubOps:St,__thissubOpsStatus:Ct,active_foreignModel:kt,active_foreignModelDialog:se,active_foreignModelIndex:w,active_foreignModelOps:Z,active_foreignModelOpsStatus:Ne,active_foreignModelsubOps:Ot}=ml();let{userInformation:It,modelRow_Builder:Ve,foreign_modelRow_Builder:Wa,foreign__tableModel_Cols:Ee}=wl(),{Model_Name:Ga,Model_Url:Rt,saleit_schemaPath:je,saleit_schemaFile:ze,locked_modelCols_label:Ja,flexInvisible_modelCols_labels:Xa,useric_modelCols_label:ei}=xl(),{_this_Schema:Dt,_tableModel_Cols:ke,_tableModel_Row:Mt,all_modelCols_label:ti,allowed_modelCols:li,visible_modelCols_label:si}=bl(),{_this_Query:ge,accModel_Row:ai,_this_Rows:g,_this_RowsChecked:H,_this_Details:ii,_this_userOwned:ye}=Cl(),{saleitClient_Name:ni,saleitClient_schemaPath:Bt,saleitClient_schemaFile:qt,locklabels_saleitClient_Cols:oi,invislabels_saleitClient_Cols:Le,userlabels_saleitClient_Cols:Pt}=kl(),{saleitClient_Schema:Te,saleitClient_Cols:Ae,saleitClient_Row:N,alllabels_saleitClient_Cols:ui,acclabels_saleitClient_Cols:ri,vislabels_saleitClient_Cols:Ft}=Ol(),{this_client_Query:Ye,this_client_Rows:q,this_client_RowsChecked:di,this_client_Row:_,_this_client_Details:ci,this_client_userOwned:_i}=Il(),{saleitChat_Name:hi,saleitChat_schemaPath:Qt,saleitChat_schemaFile:Ut,locklabels_saleitChat_Cols:vi,invislabels_saleitChat_Cols:$t,userlabels_saleitChat_Cols:Nt}=Rl(),{saleitChat_Schema:Ke,saleitChat_Cols:Ze,saleitChat_Row:He,alllabels_saleitChat_Cols:fi,acclabels_saleitChat_Cols:gi,vislabels_saleitChat_Cols:Vt}=Dl(),{this_chat_Query:We,this_chat_Rows:oe,this_chat_RowsChecked:yi,this_chat_Row:W,_this_chat_Details:pi,this_chat_userOwned:mi}=Ml();var{priceFilter:Et,_enableRowFilter:wi,_thisFiltering:jt,_filteredRow:zt}=Tl();let{_pageSettings:h,pageName:Lt,metaData:Tt,pagination:xi,paginationId:bi,paginationCard:pe}=Al(),{createKey:Si,updateKey:Ci,delKey:ki,_this_Model_Url:At,_thisService:Yt,activeRow:Kt,_this:o,message:Oi,messageTimer:Ii,createData:Zt,updateData:me,readData:Ri,readFData:Di,deleteData:Ht}=Bl();El(Tt),Pe(je,ze).then(t=>(t&&(Dt.value=t),!0)),Yt.value=ql();const U=Pl(),P=Fl(),G=Ql();A({clients:P,comments:G,null:null}),It.value=r!=null?r:!1,Fe.value=je,Qe.value=ze;const Wt=Y(()=>({search:r.lytSearchRow,priceFilter:Et}));ke=Y(()=>{var t,e;return(t=r._tableModel_Cols_Props)!=null&&t?(Gt(),(e=r._tableModel_Cols_Props)!=null?e:null):null}),Mt=Y(()=>{var t,e;return(t=r._tableModel_Row_Props)!=null&&t&&(e=r._tableModel_Row_Props)!=null?e:null}),mt.screen.lt.md&&Le.value.push("");async function Gt(){await Pe(Bt,qt).then(i=>(i&&(Te.value=i),!0));let t=await Ee(Te.value,Le.value);Ae.value=t[0],Ft.value=t[1],await Jt(Ae.value),await Pe(Qt,Ut).then(i=>(i&&(Ke.value=i),!0));let e=await Ee(Ke.value,$t.value);return Ze.value=e[0],Vt.value=e[1],await Xt(Ze.value),!1}async function Jt(t){return N.value=await Ve(Pt.value,t),N.value.orderID=await ct(),N.value.userID=r._profile.id,N.value.phone=r._profile.phone,N.value.quantity=1,!0}async function Xt(t){return He.value=await Ve(Nt.value,t),!0}let Ge=A(null),Je=A(null),Xe=A(null),et=A(null);ee(r._pageSetting,(t,e)=>(h.value=Object.assign(h.value,t),!0)),Ge=Y(()=>r.lytSearchRow),ee(Ge,async(t,e)=>{t&&(h.value.tableView="cards",J("lytSearchRow",t))}),Je=Y(()=>r.lytButtonRow),ee(Je,async(t,e)=>{t&&(h.value.tableView="cards",J(t[0],t[1],t[2]))}),Xe=Y(()=>r.lytCreatRow),ee(Xe,async(t,e)=>(await X({thisIndex:null,thisOpsStatus:null,thisOps:"Create_this",thisOpsCard:"thisCard",stopSync:null}),I.value=!0,!0)),et=Y(()=>U.getstatus_Rows),ee(et,async(t,e)=>{let i;if(D.value=!1,t==null)return i="No Data.",!0;if(t=="noupdates")i="No Updates.";else if(t==!1)i="Locked";else{if(t==!0)return i="Loading ....",!0;if(t=="BadConnection")i="Offline";else return i=t,await ve({message:1},2e3,"...Session Closed"),t=="Unauthorized"&&ol(),!1}return pt(5e3,i,"Product & Services"),!0}),ee(o,(t,e)=>{if(Kt.value=t,At.value=Rt,f.value==null)return o.value.currency="ETB",!0;try{ye.value=t.userID==r._profile.id}catch{[ye.value]=[!1]}return!0}),ee(zt,(t,e)=>{});async function el(t=null){return le.value=null,await X({thisIndex:t,thisOpsStatus:null,thisOps:"Update_this",thisOpsCard:"thisCard",stopSync:null}),I.value=!0,!0}async function tl(){return alert("ddddd"),!0}async function J(t=null,e=null,i=null){var M;D.value="loading",U.set_syncLock(!0),clearInterval(ae),ve({this_Query:0},0,"Updating..."),g.value=[],Z.value=!1,f.value=null;let v={id:null,content:null,header:null,qweight:{},geoSearch:(M=h.value.geoSearch.value)!=null?M:"off",queryOperator:"productSpecific-or",limits:100,skips:0};console.error(v.geoSearch);let b=await Hl(ge.value,t,e,i);return console.error(v.geoSearch),ge.value={...v,...b[0]},wt("_this_Query",ge.value),Z.value=b[2],await nl(U,ge.value),h.value.tableView=b[1],!0}let ae="";g=Y(()=>ll(U.getDatas));function ll(t){return Array.isArray(t)?t.length?t:(h.value.tableView="cards",g.value):[]}let{queryBuilder_foreign:tt}=Wl();async function Oe(){var e;q.value=null;let t={activeUserID:r._profile.id,userItemOwnership:ye.value,activeItemID:(e=o.value.id)!=null?e:"",queryOperator:"and",otherQueries:{store:"buy"}};return Ye.value=await tt(t),await Re(P,Ye.value).then(async i=>(i&&(q.value=i,await ie(Z.value,null)),!0)).catch(i=>!1)}async function Ie(){var e;q.value=null;let t={activeUserID:r._profile.id,userItemOwnership:!0,activeItemID:(e=o.value.id)!=null?e:"",queryOperator:"and",otherQueries:{store:"buy"}};return We.value=await tt(t),await Re(G,We.value).then(i=>(i&&(oe.value=i,ie(Z.value,null)),!0))}async function X(t={thisIndex:null,thisOpsStatus:null,thisOps:null,thisOpsCard:null,stopSync:null}){var e,i;if(f.value=t.thisIndex,(e=t.stopSync)!=null&&e&&(t.thisOps=="clients"?P.set_syncLock(!0):G.set_syncLock(!0)),le.value=null,ne.value=null,I.value=null,St.value=null,Ct.value=null,D.value=t.thisOpsStatus,d.value=t.thisOps,fe.value=t.thisOpsCard,t.thisIndex==null)o.value=Object.assign({},r._tableModel_Row_Props),o.value.geolocation=r._profile.geolocation,o.value.location=r._profile.location,o.value.currency=(i=r._profile.currency)!=null?i:"",o.value.userID=r._profile.id,o.value.phoneCode=r._profile.phoneCode,o.value.phone=r._profile.phone;else try{o.value=Object.assign({},g.value[t.thisIndex])}catch{}return $e.value="saleitgr",!0}async function ie(t,e,i=null,v=null){var b,M,ue,re;w.value=e,i&&i.set_syncLock(!0),kt.value=null,se.value=null,Ot.value=null,Ne.value=v,Z.value=t;try{if(d.value=="comments")e==null?(W.value=Object.assign({},He.value),W.value.userID=r._profile.id,W.value.saleitID=(M=(b=o.value)==null?void 0:b.id)!=null?M:""):W.value=Object.assign({},oe.value[e]);else if(e==null||d.value=="details")_.value=Object.assign({},N.value),_.value.userID=r._profile.id,_.value.phoneCode=r._profile.phoneCode,_.value.currency=o.value.currency,_.value.location=o.value.location,_.value.geolocation=o.value.geolocation,_.value.saleitID=(re=(ue=o.value)==null?void 0:ue.id)!=null?re:"",_.value.orderID=await ct();else try{_.value=Object.assign({},q.value[e])}catch{}}catch{}return!0}const sl=async function(t=null,e=null){let i=f.value==t;return t==null||i&&d.value==e?(await X({thisOps:e,thisOpsCard:null,thisIndex:t,stopSync:U}),await ie(null,null,e=="clients"?P:""),!0):!1},lt=async function(t,e,i){let v=w.value==t;return t==null||v&&Z.value==e?(await ie(null,null,d.value=="clients"?P:"",null),!0):!1};let p={_add:async()=>(w.value=null,_.value=Object.assign({},N.value),!0),selectedIndex_:async(t={foreignIndex:null,foreignOps:null,foreignOpsStatus:null})=>(Ne.value=t.foreignOps,await lt(t.foreignIndex,t.foreignOps,d.value)?!1:(await ie(t.foreignOps,t.foreignIndex,d.value=="clients"?P:G,t.foreignOpsStatus),!0)),selectedIndex_RowDetail:async(t,e=null,i=null)=>{let v="clients";return await lt(e,i)?!1:(f.value=0,await Re(U,{id:t}).then(async b=>{try{b&&(g.value[f.value]=b[f.value],await R._detailView(g.value[f.value].id,f.value,v,"selected","detailCard"),await p.selectedIndex_({foreignIndex:e,foreignOps:i,foreignOpsStatus:null}))}catch{return!0}}),!0)},selectedIndex_RowCard:async(t=null)=>{se=t},_remove:async()=>{if(d.value=="comments"){let t={id:o.value.id,comments:W.value};t.thisOps=d.value,t.thisSubOps="delete";let e=await G.deleteData(t,{});if(!e.status)return $(500,"Error Creating",""),!1;B(5e3,"Removed",""),g.value[f.value]=e.data.data,oe.value.splice(w.value,1),await ie(null,null,null,null)}else{let t={id:o.value.id,clients:_.value};t.thisOps=d.value,t.thisSubOps="delete";let e=await P.deleteData(t);if(!e.status)return $(500,"Error Creating",""),!1;B(5e3,"Removed",""),g.value[f.value]=e.data.data,q.value.splice(w.value,1),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_update_foreign:async()=>{if(w.value=null,d.value=="comments"){let t={id:o.value.id,comments:W.value};t.thisOps=d.value,t.thisSubOps="update";let e=await G.updateData(t,{});return e.status?(B(5e3,"Updated Succefully",""),g.value[f.value]=e.data.data,typeof w.value=="number"&&!se.value?oe.value[w.value]=e.data.foreignData:await Ie(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):($(500,"Error Updating",""),!1)}else{let t={id:o.value.id,clients:_.value};t.thisOps=d.value,t.thisSubOps="update",t.clients.store="buy";let e=await P.updateData(t,{});return e.status?(B(5e3,"Updated Succefully",""),g.value[f.value]=e.data.data,typeof w.value=="number"&&!se.value?q.value[w.value]=e.data.foreignData:await Oe(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):($(500,"Error Updating",""),!1)}},_create_foreign:async()=>{if(d.value=="comments"){let t={id:o.value.id,comments:W.value};t.thisOps=d.value,t.thisSubOps="create";let e=await G.createData(t,{});if(!e.status)return $(500,"Error Creating",""),!1;B(5e3,"Created",""),g.value[f.value]=e.data.data,typeof w.value=="number"&&!se.value?oe.value[w.value]=e.data.foreignData:await Ie(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_directBuyer:async(t={thisOps:null,thisIndex:null,thisSubOps:null,newOps:!0})=>{var v,b,M;let e={clients:_.value};e=Object.assign(e,t),e.clients.store=t.thisSubOps;let i;if(t.newOps?i=await P.createData(e,{}):i=await P.updateData(e,{}),!i.status)return $(500,"Error Creating",""),!1;if(t.thisSubOps=="buy")B(5e3,Q.orderdone[Number((v=h.value.language)!=null?v:1)],"");else return B(5e3,Q.savedone[Number((b=h.value.language)!=null?b:1)],""),H.value.push((M=i.data.data.id)!=null?M:null),!0;return g.value[f.value]=i.data.data,typeof w.value=="number"&&!se.value?q.value[w.value]=i.data.foreignData:await Oe(),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0}},R={_removeItem:async function(t=null,e=null){return f.value=null,d.value=e,delete g.value[t],!0},_detailView:async(t=null,e=null,i=null,v=null,b=null,M=null)=>(await X({thisIndex:e,thisOps:i,thisOpsCard:b,thisOpsStatus:v,stopSync:U}),await p.selectedIndex_({foreignIndex:null,foreignOps:M,foreignOpsStatus:null}),!0),selectedRow_ForeignRows:async(t={thisIndex:null,thisOps:null,thisOpsCard:null,thisSubOps:null,this_foreignBoxOps:null})=>{var e;return console.error(t,"dddddddddjjjjjj"),await X({thisOps:t.thisOps,thisOpsCard:(e=t.thisOpsCard)!=null?e:!1,thisIndex:t.thisIndex,stopSync:U}),await p.selectedIndex_({foreignIndex:null,foreignOps:t.this_foreignBoxOps,foreignOpsStatus:!0}),t.this_foreignBoxOps!="direct"&&(t.thisOps=="clients"?Oe():Ie()),!0},_rating:async(t={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(o.value=Object.assign(o.value,t),await me().then(async e=>(e&&(B(5e3,"You Rated","Succefully Updated"),g.value[t.thisIndex]._itServiceRating++),!0)).catch(e=>!1)),_likes:async(t={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(o.value=Object.assign(o.value,t),await me().then(async e=>(e&&(B(5e3,"Liked","Succefully Updated"),g.value[t.thisIndex].likes.like++),!0)).catch(e=>!1)),_following:async(t={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(o.value=Object.assign(o.value,t),await me().then(async e=>(e&&B(5e3,"Following ","Succefully Updated"),!0)).catch(e=>!1)),_delRow:async(t=null,e,i)=>t==null?(o.value={id:i},K.value=R._delRow,!1):(K.value=null,t?await Ht().then(v=>(v&&J("userID",r._profile.id),!0)).catch(v=>!1):!1),_toCart:async(t={id:null,thisIndex:null,thisOps:null,thisSubOps:null})=>{var i,v;o.value={clients:Object.assign({store:t.thisSubOps},(i=N.value)!=null?i:{})},o.value=Object.assign(o.value,t),console.log(t,"poooooo");let e=await P.createData(o.value,{});return e.status?(B(5e3,"Product Saved",""),H.value.push((v=e.data.data.id)!=null?v:null),!0):($(500,"Error Creating",""),!1)}};async function al(){return D.value=!0,o.value.thisOps=d.value,o.value.thisSubOps="new",await Zt().then(async t=>(ve({createData:1},1,"Updating..."),t?Lt!="myservice"?Ue.push("/play/MyServices"):J("userID",r._profile.id):(D.value=!1,le.value=null,!0))).catch(t=>($(5e3,"Error Creating","Error Creating"+t),le.value=null,I.value=!1,!1))}async function il(){return D.value=!0,o.value.thisOps=d.value,o.value.thisSubOps="update",await me().then(async t=>(ve({updateData:1},1,"Updating..."),t&&(B(5e3,"Item Updated","Succefully Updated"),g.value[f.value]=Object.assign({},t),I.value=!1),D.value=!1,le.value=null,!0)).catch(t=>($(5e3,"Error Updating","Error Updating"+t),D.value=!1,I.value=!1,le.value=null,!1))}let st=A(25e5);const nl=async(t,e)=>(clearInterval(ae),await t.set_syncQuery(e),t.set_syncLock(!1),t.asyncDatas(),setTimeout(function(){clearInterval(ae),ae=setInterval(t.asyncDatas,st.value)},st.value),!0),Re=async(t,e)=>await t.readFData(e).then(i=>i.status?i.data:!1);dl(async()=>{clearInterval(ae),await X({thisOps:null,thisOpsCard:null,thisIndex:null,stopSync:U}),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}),J(),cl(async()=>(clearInterval(ae),await X({thisOps:"clients",thisOpsCard:null,thisIndex:null,stopSync:U}),await p.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0));let ol=async()=>Ue.push(jl._clear());async function ul(t,e=null,i="onList"){if(f.value=t,ne.value=e,i=="onZoom"){let v={};v=g.value[t],o.value=Object.assign({},v),bt.value=!0}else xt=!0}return(t,e)=>{var i,v,b,M,ue,re,at;return n(),u(Be,null,[l(I)?(n(),C(_e,{key:0,isOpen:l(I),bg:"bgd-xs",onEmitClick0:e[3]||(e[3]=c=>te(I)?I.value=c:I=c)},{default:S(()=>[s("div",Gl,[y(Zl,{_this:l(o),_pageSettings:l(h),__thisOpsStatus:l(D),__thisOps:l(d),active_fileName:l($e),thisSchemaFile_Rec:l(Qe),thisSchemaPath_Rec:l(Fe),onClose:e[0]||(e[0]=c=>te(I)?I.value=c:I=c),onUpdate_this:e[1]||(e[1]=c=>il()),onCreate_this:e[2]||(e[2]=c=>al())},null,8,["_this","_pageSettings","__thisOpsStatus","__thisOps","active_fileName","thisSchemaFile_Rec","thisSchemaPath_Rec"])])]),_:1},8,["isOpen"])):k("",!0),l(d)=="details"&&l(fe)=="detailCard"?(n(),C(_e,{key:1,isOpen:l(d),bg:"bgd-xs",onEmitClick0:e[8]||(e[8]=c=>sl())},{default:S(()=>[Object.keys(l(o)).length?(n(),u("div",Jl,[s("button",{onClick:e[4]||(e[4]=c=>te(d)?d.value=null:d=null),class:"ri-close-line boxStyle-flat fontStyle-xl font-negative"}),y(zl,{_this_RowsChecked:l(H),__thisIndex:l(f),active_fileIndex:l(ne),_this:l(o),_pageSettings:l(h),active_foreignModelOps:l(Z),active_foreignModelIndex:l(w),this_client_Row:l(_),onSelectedIndex_RowCard:e[5]||(e[5]=c=>l(p).selectedIndex_RowCard(c)),onBuyIndex:e[6]||(e[6]=c=>l(p)._directBuyer(c)),onCartIndex:e[7]||(e[7]=c=>l(p)._directBuyer(c))},null,8,["_this_RowsChecked","__thisIndex","active_fileIndex","_this","_pageSettings","active_foreignModelOps","active_foreignModelIndex","this_client_Row"])])):(n(),u("div",Xl,[l(D)?(n(),u("div",es,[y(Me,{color:"primary",size:"3em",thickness:2}),ts])):(n(),u("div",ls," Order Detail "))]))]),_:1},8,["isOpen"])):k("",!0),l(D)=="loading"?(n(),C(_e,{key:2,isOpen:l(D)},{default:S(()=>[y(Me,{color:"primary",size:"3em",thickness:2}),ss]),_:1},8,["isOpen"])):k("",!0),y(_e,{isOpen:l(K),onEmitClick0:e[9]||(e[9]=c=>te(K)?K.value=c:K=c)},{default:S(()=>[y($l,{onConfirmButton:l(K),header:l(gt),title:"Yes",textcolor:"black",background:"green",title2:"No",textcolor2:"green",background2:"red",style:{padding:"40px","border-radius":"5px"}},null,8,["onConfirmButton","header"])]),_:1},8,["isOpen"]),l(d)=="clients"&&l(fe)=="buycart"?(n(),C(_e,{key:3,isOpen:l(d),bg:"bgd-xs",onEmitClick0:e[18]||(e[18]=c=>te(d)?d.value=c:d=c)},{default:S(()=>{var c,a,V,E,j,z;return[s("div",as,[Number((a=(c=l(o))==null?void 0:c.isOpen)!=null?a:!1)&&Number((E=(V=l(o))==null?void 0:V.quantity)!=null?E:!1)?(n(),u("div",us,[(j=l(_).orderID)!=null&&j?(n(),u("div",rs,[s("div",ds,[y(ht,{style:{padding:"0px",margin:"0px"},title:null,quantity:l(_).quantity,price:l(o).netPrice,currency:l(o).currency,onstore:l(o).quantity,background2:"white",background:"white",onDecreaseButton:e[10]||(e[10]=m=>{var F;return l(_).quantity=parseFloat((F=l(_).quantity)!=null?F:1)-1}),onIncreaseButton:e[11]||(e[11]=m=>{var F;return l(_).quantity=parseFloat((F=l(_).quantity)!=null?F:1)+1})},null,8,["quantity","price","currency","onstore"])]),s("div",cs,[y(vt,{_this:l(o),rowProp:l(o),__thisIndex:l(f),_this_RowsChecked:l(H),_pageSettings:l(h),onBuyIndex:e[12]||(e[12]=m=>l(p)._directBuyer(m)),onCartIndex:e[13]||(e[13]=m=>l(p)._directBuyer(m))},null,8,["_this","rowProp","__thisIndex","_this_RowsChecked","_pageSettings"])])])):k("",!0)])):(n(),u("div",is,[l(o).netPrice?(n(),u("div",os,"Product is sold out!")):(n(),u("div",ns," Sorry, Price isn't fixed yet! "))])),(z=l(q))!=null&&z?(n(),u("div",_s,[s("h4",hs," You have "+O(l(q).length)+" orders ",1),s("div",vs,[y(Yl,{_this_userOwned:l(ye),this_client_Row:l(_),this_client_Rows:l(q),_profile:he._profile,_pageSettings:l(h),active_foreignModelIndex:l(w),onDischargeIndex:e[14]||(e[14]=m=>te(w)?w.value=m:w=m),onSelectIndex:e[15]||(e[15]=m=>l(p).selectedIndex_(m)),onDeleteIndex:e[16]||(e[16]=m=>l(p)._remove(m)),onUpdateIndex:e[17]||(e[17]=m=>l(p)._update_foreign(m))},null,8,["_this_userOwned","this_client_Row","this_client_Rows","_profile","_pageSettings","active_foreignModelIndex"])])])):(n(),u("div",fs,[l(q)==null?(n(),C(Me,{key:0,color:"blue",size:"5em",thickness:5})):(n(),u("div",gs,"Your Cart is Empty!"))]))])]}),_:1},8,["isOpen"])):k("",!0),(i=l(be).length)!=null&&i?(n(),C(rt,{key:4,messages:(v=l(be))!=null?v:[],onCloseButton:e[19]||(e[19]=c=>be.value=[])},null,8,["messages"])):k("",!0),(b=l(Se).length)!=null&&b?(n(),C(rt,{key:5,messages:(M=l(Se))!=null?M:[{}],onCloseButton:e[20]||(e[20]=c=>Se.value=[])},null,8,["messages"])):k("",!0),(ue=l(Ce).length)!=null&&ue?(n(),C(Ll,{key:6,messages:(re=l(Ce))!=null?re:[{}],onCloseButton:e[21]||(e[21]=c=>Ce.value=[])},null,8,["messages"])):k("",!0),(at=l(yt).message)!=null&&at?(n(),C(ut,{key:7},{default:S(()=>[we(" Seesion Error ! please wait to login. ")]),_:1})):(n(),C(ut,{key:8,class:"ts-box-fill ccolumn cj-center fontStyle-sm"},{default:S(()=>{var c;return[((c=l(g))!=null?c:!1)&&l(g).length?(n(),u("div",ys,[l(h).tableView=="main"?(n(),C(_t,{key:0,rows:l(g),columns:l(ke),filterMethod:l(jt),filter:Wt.value,"visible-columns":he.visible_modelCols_label_Props,"virtual-scroll":"","row-key":"id",rowIndex:"true",inFullscreen:!0,"no-data-label":"Data Error","rows-per-page-options":[0],"hide-top":"","hide-bottom":"","hide-header":"",style:{"padding-top":"10vh"},class:"bgc-dark"},{body:S(a=>[l(g).length?(n(),C(xe,{key:0,props:a,class:"column col-11 q-gutter-xs q-tr--no-hover fit fontbstyle",style:{"min-height":"50vh",border:"0px solid blue",padding:"0px",margin:"0px"}},{default:S(()=>[y(Ul,{class:"itemRow-size crow"},{default:S(()=>{var V,E,j,z,m,F,de;return[s("div",ps,[s("img",{loading:"lazy",src:l(f)==a.rowIndex&&l(ne)?a.row.saleitgr[l(ne)]:a.row.saleitgr[0],class:"boxStyle-flat radius-xs"},null,8,ms),s("div",ws,[a.rowIndex==l(f)?(n(),u("div",xs,[s("div",bs,[s("div",{class:"",onClick:x=>{var L;return J("userID",(L=a.row.userID)!=null?L:null)}},[s("div",Cs,[s("div",ks,[s("i",Os,[s("h5",null,O(a.row.fphone),1)])]),Is]),s("div",Rs,[a.row.userID!=l(r)._profile.id?(n(),u("button",{key:0,class:"boxStyle-xxs p-sidesm fontStyle-sm",onClick:x=>l(R)._following({thisIndex:a.rowIndex,id:a.row.id,thisOps:"following",thisSubOps:"increase"})},Bs,8,Ds)):k("",!0),s("h5",qs,O(a.row.fcreatedAt),1)])],8,Ss)]),s("div",Ps,[(n(!0),u(Be,null,ot(a.row.saleitgr,(x,L)=>(n(),C(fl,{outline:"",key:L,onMouseover:De=>ul(a.rowIndex,L),class:"col-1 column transparent q-pa-none no-border",style:{"max-width":"7vw"}},{default:S(()=>[s("img",{src:x,class:"col fit shadow-2 rounded-borders q-pa-none",style:{"aspect-ratio":"1/1","min-width":"100%"}},null,8,Fs)]),_:2},1032,["onMouseover"]))),128))]),s("div",Qs,[y(dt,{class:"q-py-sm fontbstyle col-auto"},{default:S(()=>[s("div",null,[s("button",{class:"boxStyle-xs bgc-grey200 font-grey100 radius-xs fontStyle-sm",onClick:x=>l(R)._detailView(a.row.id,a.rowIndex,"details","selected","detailCard")},Ns,8,Us)])]),_:2},1024),y(dt,null,{default:S(()=>[y(Kl,{rowProp:a.row,__thisIndex:a.rowIndex,_this_RowsChecked:l(H),_pageSettings:l(h),onBuyIndex:e[22]||(e[22]=x=>l(R).selectedRow_ForeignRows(x)),onCartIndex:e[23]||(e[23]=x=>l(p)._directBuyer(x)),onRateIndex:e[24]||(e[24]=x=>l(R)._rating(x))},null,8,["rowProp","__thisIndex","_this_RowsChecked","_pageSettings"])]),_:2},1024)])])):(n(),u("div",Vs,[s("button",{class:"boxStyle-xxs p-lrsm bgc-grey75-hovered fontStyle-sm",onClick:x=>l(R)._detailView(a.row.id,a.rowIndex,"details","hover","detailPaper")},[s("h3",null,O(l(Q).more[Number((V=l(h).language)!=null?V:1)]),1)],8,Es),js,s("div",zs,[Ls,s("h5",null,O(a.row.fphone),1)])]))]),s("div",Ts,[a.row.isOpen?(n(),u("button",As,[s("h4",Ys,O(l(Q).open[Number((E=l(h).language)!=null?E:1)]),1)])):(n(),u("div",Ks,[(j=a.row.tClient)!=null&&j?(n(),u("button",Zs,[s("h4",Hs,O(l(Q).sold[Number((z=l(h).language)!=null?z:1)]),1)])):(n(),u("button",Ws,[s("h4",Gs,O(l(Q).pending[Number((m=l(h).language)!=null?m:1)]),1)]))])),(F=a.row.likes)!=null&&F?(n(),u("button",{key:2,class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R)._likes({thisIndex:a.rowIndex,id:a.row.id,thisOps:"likes",thisSubOps:"increase"})},[s("h4",Xs," Like "+O(a.row.likes.like),1)],8,Js)):k("",!0),s("button",{class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R).selectedRow_ForeignRows(a.rowIndex,"comments")},la,8,ea),(de=a.row.likes)!=null&&de?(n(),u("button",{key:3,class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R)._detailView(a.row.id,a.rowIndex,"details","hover","detailCover")},ia,8,sa)):k("",!0),l(r)._profile.id==a.row.userID?(n(),u("div",na,[s("button",{class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>el(a.rowIndex)},ra,8,oa),s("button",{class:"fontStyle-sm boxStyle-xs bgc-grey25 font-light radius-md",onClick:x=>l(R)._delRow(null,a.rowIndex,a.key)},_a,8,da)])):k("",!0)])])]}),_:2},1024)]),_:2},1032,["props"])):(n(),C(xe,{key:1,class:"column col-11 q-gutter-xs q-tr--no-hover fit fontbstyle",style:{"min-height":"50vh",border:"0px solid blue",padding:"0px",margin:"0px"}},{default:S(()=>[we(" Error Loading Product ... ")]),_:1}))]),_:1},8,["rows","columns","filterMethod","filter","visible-columns"])):l(h).tableView=="cards"?(n(),C(_t,{key:1,flat:"",bordered:"",rows:l(g),columns:l(ke),"virtual-scroll":"","row-key":"id",rowIndex:"true",grid:"","hide-header":"",inFullscreen:!0,pagination:l(pe),"onUpdate:pagination":e[29]||(e[29]=a=>te(pe)?pe.value=a:pe=a),loading:t.loading,"hide-pagination":"",onRequest:tl,"hide-top":"","hide-bottom":"","no-data-label":"",class:"boxStyle-xs",style:{"padding-top":"1vh","justify-content":"center"}},{header:S(a=>[y(xe,{props:a,class:"ts-box-fillauto crow",style:_l([{height:"5vh",position:"fixed","z-index":"5"},he.isScrolledUp?"top:0vh":"top:6vh;padding-top:0px"])},null,8,["props","style"])]),item:S(a=>[y(xe,{props:a,class:"col-grow boxStyle-xxs"},{default:S(()=>{var V,E,j,z,m,F,de,x,L,De,it,nt;return[s("div",ha,[s("div",null,[(E=(V=a.row)==null?void 0:V.saleitgr)!=null&&E?(n(),C(Sl,{key:0,src:a.row.saleitgr[0],style:{"aspect-ratio":"1/1.5","min-width":"40vw"},class:""},null,8,["src"])):k("",!0)]),typeof l(f)=="number"&&l(f)==a.rowIndex?(n(),u("div",va,[l(D)=="hover"?(n(),u("div",fa,[s("button",{class:"boxStyle-xs bgc-dark font-light radius-md",onClick:T=>l(R)._detailView(a.row.id,a.rowIndex,"details","selected","detailCard")},[s("h4",null,O(l(Q).details[Number((j=l(h).language)!=null?j:1)]),1)],8,ga),a.row.isOpen?(n(),u("button",{key:0,class:"boxStyle-xxs bgc-warning font-dark radius-md",onClick:T=>l(R)._detailView(a.row.id,a.rowIndex,"clients","selected","buyPaper")},[s("h4",pa,O(l(Q)["buy open"][Number((z=l(h).language)!=null?z:1)]),1)],8,ya)):k("",!0)])):l(d)=="clients"&&l(fe)=="buyPaper"?(n(),u("div",ma,[((F=(m=l(o))==null?void 0:m.price)!=null?F:!1)&&((x=(de=l(o))==null?void 0:de.quantity)!=null?x:!1)&&l(_)?(n(),u("div",wa,[s("div",xa,[y(ht,{style:{},quantity:l(_).quantity,price:l(o).netPrice,currency:l(o).currency,background2:"white",background:"white",onDecreaseButton:e[25]||(e[25]=T=>{var ce;return l(_).quantity=parseFloat((ce=l(_).quantity)!=null?ce:1)-1}),onIncreaseButton:e[26]||(e[26]=T=>{var ce;return l(_).quantity=parseFloat((ce=l(_).quantity)!=null?ce:1)+1})},null,8,["quantity","price","currency"])]),s("div",ba,[y(vt,{_this:l(o),rowProp:a.row,__thisIndex:a.rowIndex,_this_RowsChecked:l(H),_pageSettings:l(h),onBuyIndex:e[27]||(e[27]=T=>l(p)._directBuyer(T)),onCartIndex:e[28]||(e[28]=T=>l(p)._directBuyer(T))},null,8,["_this","rowProp","__thisIndex","_this_RowsChecked","_pageSettings"])])])):(n(),u("div",Sa,"Sale Closed !"))])):k("",!0)])):(n(),u("div",Ca,[s("div",ka,[a.row.isOpen?(n(),u("button",Oa,[s("h4",Ia,O(l(Q).open[Number((L=l(h).language)!=null?L:1)]),1)])):(n(),u("div",Ra,[(De=a.row.tClient)!=null&&De?(n(),u("button",Da,[s("h4",Ma,O(l(Q).sold[Number((it=l(h).language)!=null?it:1)]),1)])):(n(),u("button",Ba,[s("h4",qa,O(l(Q).pending[Number((nt=l(h).language)!=null?nt:1)]),1)]))])),l(H).includes(a.row.id)?(n(),u("div",Pa,[s("div",Fa,[we(O((l(h).language,"Saved"))+" ",1),y(hl,{name:"save"})])])):k("",!0)]),s("div",Qa,[s("div",null,[s("button",{class:"boxStyle-xs",onClick:T=>l(R)._detailView(a.row.id,a.rowIndex,"details","hover","detailPaper")},Na,8,Ua)])])]))])]}),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","loading"])):(n(),u("div",Va,"No Data"))])):(n(),u("div",Ea,[y(vl,{inset:""}),we(" please wait, while fetching data.... "),s("div",ja,[(n(),u(Be,null,ot([1,2,3,4,5],a=>y(qe,{class:"col",square:"",key:a})),64))]),s("div",za,[y(qe,{class:"col"}),y(qe,{class:"col-4",square:""})]),s("div",La,[s("button",{onClick:e[30]||(e[30]=a=>J(null,null,16))},"Home")])]))]}),_:1}))],64)}}};export{Ti as default};
