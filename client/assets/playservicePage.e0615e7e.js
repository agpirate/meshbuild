import{r as I,u as s,l as o,X as u,a1 as Ce,bk as Gt,W as l,F as K,bd as J,Y as d,a2 as at,p as k,R as Xt,c as $,w as N,o as Ht,a as Jt,m as fe,b as F,f as y,n as V,Q as re,bf as el,Z as ye,bm as H,bG as Je,bi as tl,bo as ll}from"./index.479a4e77.js";import{U as sl,u as al,a as nl,b as il,c as ol,d as ul,e as rl,f as cl,t as dl,s as _l,g as vl,h as hl,Q as fl,_ as et,j as tt,i as yl}from"./crudThisModel.1d95f7c1.js";import{Q as lt,_ as pl}from"./confirmButton.585fe127.js";import{c as gl,e as ml,u as xl,a as Sl,d as wl,f as bl,g as Cl,_ as st,Q as Ol,h as Il}from"./saleitModel.e0c41a15.js";import{Q as kl}from"./QRating.60302f9c.js";import{u as Rl}from"./use-quasar.6c02ab83.js";import{u as Dl,a as Bl,b as Ml,d as Ul}from"./debugMixin.5367f11c.js";import{u as Ql,a as ql}from"./servicefilter.c580aa7c.js";import{_ as Fl,u as Pl}from"./queryBuilder.02838b7f.js";import{t as $l}from"./thisQueryBuilder.ec781fc6.js";import"./QSelect.342be206.js";import"./axios.05cf8750.js";const Nl={key:0,class:"boxStyle-dense onedlayout crow cgap-3 ia-center"},Vl={__name:"orderEdit",props:{this_client_Row:{type:Object,default:()=>({})},flexflow:{type:String}},setup(pe){let L=I(pe.this_client_Row);return(m,Y)=>{var ge;return(ge=s(L))!=null&&ge?(o(),u("div",Nl,[Ce(l("select",{style:{padding:"7px"},class:"fontStyle-dense txtlight boxStyle-dense radiusxxs bggrey","onUpdate:modelValue":Y[0]||(Y[0]=E=>s(L).served=E)},[(o(),u(K,null,J(["Requested","Queed","Served"],E=>l("option",{class:"boxStyle-dense",key:E},d(E),1)),64))],512),[[Gt,s(L).served]]),Ce(l("input",{type:"text",style:{padding:"7px"},class:"fontStyle-dense txtlight boxStyle-dense radiusxxs bggrey","onUpdate:modelValue":Y[1]||(Y[1]=E=>s(L).description=E)},null,512),[[at,s(L).description]])])):k("",!0)}}},Ll={class:"ts-boxContent-fit90 onedlayout crow boxStyle-flat"},El={class:"ccol-grow onedlayout ccolumn"},zl={class:"column no-wrap q-gutter-xs q-ma-none",style:{"max-height":"30vh"}},Tl={class:"col-auto row justify-between q-gutter-xs q-ma-none"},Al={class:"q-pa-xs"},Kl={key:0,class:""},Yl={class:"boxStyle-dense bggreysmoke radiusxxs onedlayout crow cgap-1 cj-between ia-center"},jl={class:"onedlayout crow cgap-1"},Wl={class:"fontStyle-dense"},Zl=l("h4",{class:"txtsmokey"},"Search Date:",-1),Gl={class:"onedlayout crow"},Xl=l("h4",{class:"txtlight"},[l("i",{class:"ri-reset-left-line"})],-1),Hl=[Xl],Jl={class:"onedlayout ccolumn cgap-0 fontStyle-dense"},es=l("h4",{class:"txtsmokey"},"Show Store:",-1),ts={class:"txtsmokey"},ls={class:"bggreysmokey radiusxxs onedlayout ccolumn cgap-0 fontStyle-dense"},ss={class:"txtsmokey"},as={class:"onedlayout ccolumn cgap-3",style:{}},ns={class:"onedlayout crow"},is={class:"onedlayout ccolumn fontStyle-base",style:{}},os={class:"txtwarning"},us={class:"txtwarning"},rs={class:"onedlayout ccolumn fontStyle-base",style:{}},cs={class:"txtlight"},ds={class:"txtlight"},_s={class:"onedlayout ccolumn ia-end fontStyle-base",style:{}},vs={class:"txtsmoke"},hs={class:"txtsystem"},fs={key:0,class:"ccol-grow onedlayout crow",style:{"overflow-y":"scroll"}},ys={key:0,class:"ccol-grow"},ps={class:"txtlight"},gs={class:"fontStyle-dense bggreysmokey onedlayout crow"},ms={class:"fontStyle-dense"},xs=l("p",null,"Editing Order ",-1),Ss={class:"ri-phone-fill"},ws={class:"onedlayout crow cgap-3"},bs={class:"onedlayout ccolumn cgap-1 fontStyle-dense"},Cs=l("h4",null," apply ",-1),Os=[Cs],Is=l("h4",{class:"txtlight"}," delete ",-1),ks=[Is],Rs=l("h4",{class:"txtlight"}," close ",-1),Ds=[Rs],Bs=["props"],Ms={class:"fontStyle-dense txtgrey td ts-xOverflow"},Us={key:0,class:""},Qs={key:1},qs={key:0,style:{color:"orange"}},Fs={key:1,style:{color:"blue"}},Ps={key:2},$s=["onClick"],Ns={class:""},Vs={key:3,class:"ellipsis",style:{"max-width":"100px"}},Ls={key:4,class:"q-gutter-xs"},Es={key:0,class:"q-gutter-xs row"},zs={class:"column q-gutter-xs"},Ts=["onClick"],As=l("p",null,[l("i",{class:"ri-more-2-fill txtprimary"})],-1),Ks=[As],Ys={key:5},js={key:1,class:"col q-py-md fit q-gutter-md flex flex-center column",style:{}},Ws={style:{width:"80%"},class:"col-grow q-pa-xs column q-gutter-xs"},Zs=l("div",{class:"col row items-center q-gutter-sm"},[l("div"),l("div",{class:"text-red"},"No Buyer Detected, so far")],-1),Gs={key:0,class:"onedlayout ccolumn",style:{width:"40%"}},Xs={class:"col-auto q-pa-sm items-center fontestyle justify-between row"},Hs={key:0,class:"items-center text-blue row"},Js={class:"items-center q-px-xs fontdstyle"},ea={key:0},ta=l("div",{class:""},[l("button",{style:{color:"red"}}," clean store ")],-1),la={key:0,class:"onedlayout crowwrap cgap-2",style:{"overflow-y":"scroll"}},sa={key:0,class:"col-auto column bglight ps-relative"},aa={class:"boxStyle-dense ps-absolute layer6"},na={key:0,style:{"border-radius":"50%",width:"1vw",height:"1vw","background-color":"red"}},ia=["onClick"],oa={class:"txtlight"},ua={class:"onedlayout ccolumn bggreysmokey"},ra={class:"onedlayout crow cj-between ia-center"},ca={class:"onedlayout crow cgap-1"},da=["onClick"],_a=l("i",{class:"ri-edit-fill txtprimary"},null,-1),va=[_a],ha=["onClick"],fa=l("i",{class:"ri-delete-bin-6-line txtnegative"},null,-1),ya=[fa],pa={class:"onedlayout ccolumn ia-end fontStyle-dense"},ga={class:"boxStyle-dense onedlayout crow cj-between ia-center"},ma={class:"onedlayout ccolumn cgap-0 fontStyle-dense"},xa={class:"onedlayout ccolumn cgap-0 ia-center fontStyle-base txtsystem"},Sa={class:"txtwarning"},wa=l("span",{class:""},"Buyers",-1),ba={key:1,class:"col-grow column justify-center items-center text-grey"},Kn={__name:"playservicePage",props:{_profile:{type:Object,default:()=>({})},_acctype:{type:Object,default:()=>{}},lytCreatRow:{type:Boolean,default:!1},lytSearchRow:{type:String,default:""},isScrolled:{type:Boolean,default:!1},isScrolledUp:{type:Boolean,default:!1},_pageSetting:{type:Object,default:()=>({})},_thisMedia:{type:Object,default:()=>({})},_tableModel_Cols_Props:{type:Object,default:()=>({})},_tableModel_Row_Props:{type:Object,default:()=>({})},visible_modelCols_label_Props:{type:Object,default:()=>({})}},emits:["_this_Query"],setup(pe,{emit:Oe}){let{pageName:L,_pageSettings:m,metaData:Y,pagination:ge,paginationId:E,paginationCard:Ca}=Ql(),{userInformation:nt,modelRow_Builder:it,foreign_modelRow_Builder:Oa,foreign__tableModel_Cols:ot}=gl();var{active_fileName:Ie,active_fileIndex:ut,__thisFileOps_onCard:Ia,__thisFileOps_onZoom:ka,thisOps:Ra,thisOpsCard:Da,thissubOpsStatus:Ba,__thisBox:R,__thisIndex:v,__thisOps:p,__thisOpsCard:rt,__thisOpsStatus:D,__thissubOps:ct,__thissubOpsStatus:dt,active_foreignModel:_t,active_foreignModelDialog:j,active_foreignModelIndex:_,active_foreignModelOps:ee,active_foreignModelOpsStatus:ke,active_foreignModelsubOps:vt}=ml(),{_fileAttributeName:W,_cameraBox:Ma,_fileSourceFoCam:Ua,_fileAsSRC:Qa,_fileAsRaw:qa,_liveFeedSRC:Fa,_fileAsSRCIndex:Pa,_cameraDevice:ht,_listCameraSource:$a,_selectedCameraById:Na,_selectedCameraByface:Va,_liveFeedRawStreaming:La,_fileSourceFolder:Ea,_fileAsSRCOps:za,_fileAsSRCOpsCall:Ta,_resetFileSource:Aa}=xl();const{thisSchemaPath:Re,thisSchemaFile:De,_debugObj:Ka,_validateThis:Ya}=Sl();let{createKey:ja,updateKey:Wa,delKey:Za,_this_Model_Url:ft,_thisService:yt,activeRow:pt,_this:i,message:Ga,messageTimer:Xa,createData:gt,updateData:ce,readData:Ha,readFData:Ja,deleteData:mt}=sl();const{Loadingpage:en,Loadingevent:tn,DoneMessage:me,WarnthisMessage:xe,timerLoadevent:de,timerDone:b,timerError:B}=Dl(),{status_KnowthisMessage:ln,status_timerInformthis:xt}=wl();let{queryBuilder_foreign:St}=Pl(),c=pe,{Model_Name:sn,Model_Url:wt,saleit_schemaPath:bt,saleit_schemaFile:Ct,locked_modelCols_label:an,flexInvisible_modelCols_labels:nn,useric_modelCols_label:on}=bl(),{_this_Schema:un,_tableModel_Cols:Ot,_tableModel_Row:It,all_modelCols_label:rn,allowed_modelCols:cn,visible_modelCols_label:dn}=Cl(),{_this_Query:_e,accModel_Row:_n,_this_Rows:h,_this_RowsChecked:Be,_this_Details:vn,_this_userOwned:Se}=al(),{saleitClient_Name:hn,saleitClient_schemaPath:kt,saleitClient_schemaFile:Rt,locklabels_saleitClient_Cols:fn,invislabels_saleitClient_Cols:Me,userlabels_saleitClient_Cols:Dt,plugable_client_Cols:Bt,labels_plugable_client_Cols:Mt}=nl(),{saleitClient_Schema:Ue,saleitClient_Cols:te,saleitClient_Row:M,alllabels_saleitClient_Cols:yn,acclabels_saleitClient_Cols:pn,vislabels_saleitClient_Cols:ve}=il(),{this_client_Query:Qe,this_client_Rows:U,this_client_RowsChecked:gn,this_client_Row:S,_this_client_Details:mn,this_client_userOwned:xn}=ol();ul();let{saleitChat_Schema:Sn,saleitChat_Cols:wn,saleitChat_Row:Ut,alllabels_saleitChat_Cols:bn,acclabels_saleitChat_Cols:Cn,vislabels_saleitChat_Cols:On}=rl(),{this_chat_Query:In,this_chat_Rows:he,this_chat_RowsChecked:kn,this_chat_Row:z,_this_chat_Details:Rn,this_chat_userOwned:Dn}=cl();var{priceFilter:Qt,_serveStatus:Z,_storeStatus:le,_recordDate:P,totalPrice:qt,storeItems:qe,serveItems:Bn,_enableRowFilter:Ft,filterOccured:Mn,_thisFiltering:Pt,clearFilters:Un,_filteredRow:$t}=ql();const Nt=Rl(),Vt=Xt();Bl(Y);const Lt=Oe;I(null);let Fe=I(null),Pe=I(null),$e=I(null),Ne=I(null),T=I(null),Et=I("Are You Sure ?");nt.value=c!=null?c:!1,Ft.value=!0,Re.value=bt,De.value=Ct;const Ve=$(()=>(console.log("searchig",c.lytSearchRow),{search:c.lytSearchRow,Requested:Z.Requested,Queed:Z.Queed,Served:Z.Served,cart:le.cart,buy:le.buy,recordDate:P.value,priceFilter:Qt}));yt.value=dl();const Q=_l(),C=vl(),se=hl();let O=I(!1),Le=I(null);N(Le,(e,t)=>e!=null&&e?(Ot.value=e!=null?e:null,zt(),!0):null),Le.value=c._tableModel_Cols_Props,It=$(()=>{var e,t;return(e=c._tableModel_Row_Props)!=null&&e&&(t=c._tableModel_Row_Props)!=null?t:null});async function zt(){await Ul(kt,Rt).then(t=>(t&&(Ue.value=t),!0)),Nt.screen.lt.lg&&Me.value.push("saleitID","orderID","confirmID","store","served","currency","price");let e=await ot(Ue.value,Me.value);return te.value=e[0],ve.value=e[1],await Tt(te.value),te.value=[...te.value,...Bt],ve.value=[...Mt,...ve.value],!1}async function Tt(e){return M.value=await it(Dt.value,e),M.value.orderID=await et(),M.value.userID=c._profile.id,M.value.phone=c._profile.phone,M.value.phoneCode=c._profile.phoneCode,M.value.quantity=1,!0}N(c._pageSetting,(e,t)=>(m.value=Object.assign(m.value,e),!0)),Fe=$(()=>c.lytSearchRow),N(Fe,async(e,t)=>{e&&(m.value.tableView="cards",ae("lytSearchRow",e))}),Pe=$(()=>c.lytButtonRow),N(Pe,async(e,t)=>{e&&(m.value.tableView="cards",ae(e[0],e[1],e[2]))}),Ne=$(()=>Q.getstatus_Rows),N(Ne,async(e,t)=>{let n;if(D.value=!1,e==null)return n="No Data.",!0;if(e=="noupdates")n="No Updates.";else if(e==!1)n="Locked";else{if(e==!0)return n="Loading ....",!0;if(e=="BadConnection")n="Offline";else return n=e,await de({message:1},2e3,"...Session Closed"),e=="Unauthorized"&&_logOut(),!1}return xt(5e3,n,"Product & Services"),!0}),N(i,(e,t)=>{if(pt.value=e,ft.value=wt,v.value==null)return i.value.currency="ETB",!0;try{Se.value=e.userID==c._profile.id}catch{[Se.value]=[!1]}return!0}),N($t,(e,t)=>{}),$e=$(()=>c.lytCreatRow),N($e,async(e,t)=>(await G({thisIndex:null,thisOpsStatus:null,thisOps:"Create_this",thisOpsCard:"thisCard",stopSync:null}),R.value=!0,!0));async function At(e=null){return W.value=null,await G({thisIndex:e,thisOpsStatus:null,thisOps:"Update_this",thisOpsCard:"thisCard",stopSync:null}),R.value=!0,!0}let A="";async function ae(e=null,t=null,n=null){var w;D.value="loading",Q.set_syncLock(!0),clearInterval(A),de({this_Query:0},0,"Updating..."),h.value=[],ee.value=!1,v.value=null;let f={id:null,content:null,header:null,qweight:{},geoSearch:(w=m.value.geoSearch.value)!=null?w:"off",queryOperator:"productSpecific-or",limits:100,skips:0},g=await $l(_e.value,e,t,n);return _e.value={...f,...g[0]},Lt("_this_Query",_e.value),ee.value=g[2],await Te(Q,_e.value),m.value.tableView=g[1],!0}h=$(()=>Kt(Q.getDatas));function Kt(e){return Array.isArray(e)?e.length?e:(m.value.tableView="cards",h.value):[]}async function we(){var t;U.value=[],C.set_syncLock(!0),clearInterval(A);let e={activeUserID:c._profile.id,userItemOwnership:Se.value,activeItemID:(t=i.value.id)!=null?t:"",queryOperator:"and",otherQueries:{store:"buy"}};return Qe.value=await St(e),await Te(C,Qe.value),!0}U=$(()=>Yt(C.getDatas));function Yt(e){return Array.isArray(e)?e.length?e:[]:[]}async function G(e={thisIndex:null,thisOpsStatus:null,thisOps:null,thisOpsCard:null,stopSync:null}){var t,n;if(v.value=e.thisIndex,(t=e.stopSync)!=null&&t&&(e.thisOps=="clients"?C.set_syncLock(!0):se.set_syncLock(!0)),W.value=null,ut.value=null,R.value=null,ct.value=null,dt.value=null,Ie.value="saleitgr",D.value=e.thisOpsStatus,p.value=e.thisOps,rt.value=e.thisOpsCard,e.thisIndex==null)i.value=Object.assign({},c._tableModel_Row_Props),i.value.geolocation=c._profile.geolocation,i.value.location=c._profile.location,i.value.currency=(n=c._profile.currency)!=null?n:"",i.value.userID=c._profile.id,i.value.phoneCode=c._profile.phoneCode,i.value.phone=c._profile.phone;else try{i.value=Object.assign({},h.value[e.thisIndex])}catch{}return!0}async function be(e,t,n=null,f=null){var g,w,ie,oe;_.value=t,n&&n.set_syncLock(!0),_t.value=null,j.value=null,vt.value=null,ke.value=f,ee.value=e;try{if(p.value=="comments")t==null?(z.value=Object.assign({},Ut.value),z.value.userID=c._profile.id,z.value.saleitID=(w=(g=i.value)==null?void 0:g.id)!=null?w:""):z.value=Object.assign({},he.value[t]);else if(t==null||p.value=="details")S.value=Object.assign({},M.value),S.value.userID=c._profile.id,S.value.phoneCode=c._profile.phoneCode,S.value.currency=i.value.currency,S.value.location=i.value.location,S.value.geolocation=i.value.geolocation,S.value.saleitID=(oe=(ie=i.value)==null?void 0:ie.id)!=null?oe:"",S.value.orderID=await et();else try{S.value=Object.assign({},U.value[t])}catch{}}catch{}return!0}const Ee=async function(e,t,n){let f=_.value==e;return e==null||f&&ee.value==t?(await be(null,null,p.value=="clients"?C:"",null),!0):!1};let x={_add:async()=>(_.value=null,S.value=Object.assign({},M.value),!0),selectedIndex_:async(e={foreignIndex:null,foreignOps:null,foreignOpsStatus:null})=>(ke.value=e.foreignOps,await Ee(e.foreignIndex,e.foreignOps,p.value)?!1:(await be(e.foreignOps,e.foreignIndex,p.value=="clients"?C:se,e.foreignOpsStatus),!0)),selectedIndex_RowDetail:async(e,t=null,n=null)=>{let f="clients";return await Ee(t,n)?!1:(v.value=0,await Zt(Q,{id:e}).then(async g=>{try{g&&(h.value[v.value]=g[v.value],await ne._detailView(h.value[v.value].id,v.value,f,"selected","detailCard"),await x.selectedIndex_({foreignIndex:t,foreignOps:n,foreignOpsStatus:null}))}catch{return!0}}),!0)},selectedIndex_RowCard:async(e=null)=>{j.value=e},_remove:async()=>{if(p.value=="comments"){let e={id:i.value.id,comments:z.value};e.thisOps=p.value,e.thisSubOps="delete";let t=await se.deleteData(e,{});if(!t.status)return B(500,"Error Creating",""),!1;b(5e3,"Removed",""),h.value[v.value]=t.data.data,he.value.splice(_.value,1),await be(null,null,null,null)}else{let e={id:i.value.id,clients:S.value};e.thisOps=p.value,e.thisSubOps="delete";let t=await C.deleteData(e);if(!t.status)return B(500,"Error Creating",""),!1;b(5e3,"Removed",""),h.value[v.value]=t.data.data,U.value.splice(_.value,1),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_update_foreign:async()=>{if(_.value=null,p.value=="comments"){let e={id:i.value.id,comments:z.value};e.thisOps=p.value,e.thisSubOps="update";let t=await se.updateData(e,{});return t.status?(b(5e3,"Updated Succefully",""),h.value[v.value]=t.data.data,typeof _.value=="number"&&!j.value?he.value[_.value]=t.data.foreignData:await chatQuery_builder(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):(B(500,"Error Updating",""),!1)}else{let e={id:i.value.id,clients:S.value};e.thisOps=p.value,e.thisSubOps="update",e.clients.store="buy";let t=await C.updateData(e,{});return t.status?(b(5e3,"Updated Succefully",""),h.value[v.value]=t.data.data,typeof _.value=="number"&&!j.value?U.value[_.value]=t.data.foreignData:await we(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0):(B(500,"Error Updating",""),!1)}},_create_foreign:async()=>{if(p.value=="comments"){let e={id:i.value.id,comments:z.value};e.thisOps=p.value,e.thisSubOps="create";let t=await se.createData(e,{});if(!t.status)return B(500,"Error Creating",""),!1;b(5e3,"Created",""),h.value[v.value]=t.data.data,typeof _.value=="number"&&!j.value?he.value[_.value]=t.data.foreignData:await chatQuery_builder(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}return!0},_directBuyer:async(e={thisOps:null,thisIndex:null,thisSubOps:null,newOps:!0})=>{var f,g,w;let t={clients:S.value};t=Object.assign(t,e),t.clients.store=e.thisSubOps;let n;if(e.newOps?n=await C.createData(t,{}):n=await C.updateData(t,{}),!n.status)return B(500,"Error Creating",""),!1;if(e.thisSubOps=="buy")b(5e3,H.orderdone[Number((f=m.value.language)!=null?f:1)],"");else return b(5e3,H.savedone[Number((g=m.value.language)!=null?g:1)],""),Be.value.push((w=n.data.data.id)!=null?w:null),!0;return h.value[v.value]=n.data.data,typeof _.value=="number"&&!j.value?U.value[_.value]=n.data.foreignData:await we(),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0}},ne={_removeItem:async function(e=null,t=null){return v.value=null,p.value=t,delete h.value[e],!0},_detailView:async(e=null,t=null,n=null,f=null,g=null,w=null)=>(await G({thisIndex:t,thisOps:n,thisOpsCard:g,thisOpsStatus:f,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:w,foreignOpsStatus:null}),!0),selectedRow_ForeignRows:async(e={thisIndex:null,thisOps:null,thisOpsCard:null,thisSubOps:null,this_foreignBoxOps:null})=>{var t;return console.error(e,"dddddddddjjjjjj"),await G({thisOps:e.thisOps,thisOpsCard:(t=e.thisOpsCard)!=null?t:!1,thisIndex:e.thisIndex,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:e.this_foreignBoxOps,foreignOpsStatus:!0}),e.this_foreignBoxOps!="direct"&&(e.thisOps=="clients"?we():chatQuery_builder()),!0},_rating:async(e={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(i.value=Object.assign(i.value,e),await ce().then(async t=>(t&&(b(5e3,"You Rated","Succefully Updated"),h.value[e.thisIndex]._itServiceRating++),!0)).catch(t=>!1)),_likes:async(e={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(i.value=Object.assign(i.value,e),await ce().then(async t=>(t&&(b(5e3,"Liked","Succefully Updated"),h.value[e.thisIndex].likes.like++),!0)).catch(t=>!1)),_following:async(e={thisIndex:null,id:null,thisOps:null,thisSubOps:null,thisColValue:null})=>(i.value=Object.assign(i.value,e),await ce().then(async t=>(t&&b(5e3,"Following ","Succefully Updated"),!0)).catch(t=>!1)),_delRow:async(e=null,t,n)=>e==null?(i.value={id:n},T.value=ne._delRow,!1):(T.value=null,e?await mt().then(f=>(f&&ae("userID",c._profile.id),!0)).catch(f=>!1):!1),_toCart:async(e={id:null,thisIndex:null,thisOps:null,thisSubOps:null})=>{var n,f;i.value={clients:Object.assign({store:e.thisSubOps},(n=M.value)!=null?n:{})},i.value=Object.assign(i.value,e),console.log(e,"poooooo");let t=await C.createData(i.value,{});return t.status?(b(5e3,"Product Saved",""),Be.value.push((f=t.data.data.id)!=null?f:null),!0):(B(500,"Error Creating",""),!1)}};async function jt(){return D.value=!0,i.value.thisOps=p.value,i.value.thisSubOps="new",await gt().then(async e=>(de({createData:1},1,"Updating..."),e?L!="myservice"?Vt.push("/play/MyServices"):ae("userID",c._profile.id):(D.value=!1,W.value=null,!0))).catch(e=>(B(5e3,"Error Creating","Error Creating"+e),W.value=null,R.value=!1,!1))}async function Wt(){return D.value=!0,i.value.thisOps=p.value,i.value.thisSubOps="update",await ce().then(async e=>(de({updateData:1},1,"Updating..."),e&&(b(5e3,"Item Updated","Succefully Updated"),h.value[v.value]=Object.assign({},e),R.value=!1),D.value=!1,W.value=null,!0)).catch(e=>(B(5e3,"Error Updating","Error Updating"+e),D.value=!1,R.value=!1,W.value=null,!1))}let ze=I(25e5);const Te=async(e,t)=>(clearInterval(A),await e.set_syncQuery(t),e.set_syncLock(!1),e.asyncDatas(),setTimeout(function(){clearInterval(A),A=setInterval(e.asyncDatas,ze.value)},ze.value),!0),Zt=async(e,t)=>await e.readFData(t).then(n=>n.status?n.data:!1);return Ht(async()=>{clearInterval(A),await G({thisOps:null,thisOpsCard:null,thisIndex:null,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null})}),ae("userID",c._profile.id),Jt(async()=>(clearInterval(A),await G({thisOps:"clients",thisOpsCard:null,thisIndex:null,stopSync:Q}),await x.selectedIndex_({foreignIndex:null,foreignOps:null,foreignOpsStatus:null}),!0)),new ht,(e,t)=>{var n,f,g,w,ie,oe,Ae,Ke,Ye,je,We,Ze,Ge,Xe,He;return o(),u(K,null,[s(R)?(o(),fe(Fl,{key:0,_this:s(i),_pageSettings:s(m),__thisOpsStatus:s(D),__thisOps:s(p),active_fileName:s(Ie),thisSchemaFile_Rec:s(De),thisSchemaPath_Rec:s(Re),onClose:t[0]||(t[0]=a=>F(R)?R.value=a:R=a),onUpdate_this:t[1]||(t[1]=a=>Wt()),onCreate_this:t[2]||(t[2]=a=>jt())},null,8,["_this","_pageSettings","__thisOpsStatus","__thisOps","active_fileName","thisSchemaFile_Rec","thisSchemaPath_Rec"])):k("",!0),y(Ml,{isOpen:s(T),onEmitClick0:t[3]||(t[3]=a=>F(T)?T.value=a:T=a)},{default:V(()=>[y(pl,{onConfirmButton:s(T),header:s(Et),title:"Yes",textcolor:"black",background:"green",title2:"No",textcolor2:"green",background2:"red"},null,8,["onConfirmButton","header"])]),_:1},8,["isOpen"]),(n=s(me).length)!=null&&n?(o(),fe(st,{key:1,messages:(f=s(me))!=null?f:[],onCloseButton:t[4]||(t[4]=a=>me.value=[])},null,8,["messages"])):k("",!0),(g=s(xe).length)!=null&&g?(o(),fe(st,{key:2,messages:(w=s(xe))!=null?w:[{}],onCloseButton:t[5]||(t[5]=a=>xe.value=[])},null,8,["messages"])):k("",!0),l("div",Ll,[l("div",El,[l("div",zl,[l("div",Tl,[l("div",Al,d(s(v)?"Live -":"")+" Client Information",1),l("div",null,[y(re,{dense:!0,color:"black",size:"xs",flat:"",onClick:t[6]||(t[6]=a=>F(O)?O.value=!1:O=!1),icon:"minimize"}),y(re,{dense:!0,color:"blue",size:"xs",onClick:t[7]||(t[7]=a=>F(O)?O.value="max":O="max"),icon:"maximize"}),y(re,{dense:!0,color:"red",size:"xs",onClick:t[8]||(t[8]=a=>F(O)?O.value="close":O="close"),icon:"close"})])]),s(O)=="max"?(o(),u("div",Kl,[l("div",Yl,[l("div",jl,[l("div",Wl,[Zl,l("div",Gl,[Ce(l("input",{class:"boxStyle-flat txtsmokey",type:"date","onUpdate:modelValue":t[9]||(t[9]=a=>F(P)?P.value=a:P=a)},null,512),[[at,s(P)]]),l("button",{onClick:t[10]||(t[10]=a=>F(P)?P.value=null:P=null),class:"fontStyle-dense BBoxStyle-dense radiusxxs bgnegative txtlight"},Hl)])]),l("div",Jl,[es,(o(!0),u(K,null,J(s(le),(a,r)=>(o(),u("div",{class:"onedlayout crow cj-between ia-start fontStyle-dense",key:r},[l("h6",ts,d(r),1),l("div",null,[y(Je,{size:"xs",modelValue:s(le)[r],"onUpdate:modelValue":q=>s(le)[r]=q,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),l("div",ls,[(o(!0),u(K,null,J(s(Z),(a,r)=>(o(),u("section",{class:"onedlayout crow cj-between ia-start fontStyle-dense",key:r},[l("h6",ss,d(r),1),y(Je,{class:"",size:"xs",modelValue:s(Z)[r],"onUpdate:modelValue":q=>s(Z)[r]=q,val:"xs"},null,8,["modelValue","onUpdate:modelValue"])]))),128))])]),l("div",as,[l("div",ns,[l("div",is,[l("h3",os,d(s(qe).buy),1),l("span",us,d(s(H).boughtQty[Number((ie=s(m).language)!=null?ie:1)]),1)]),l("div",rs,[l("h3",cs,d(s(qe).cart),1),l("span",ds,d(s(H).cartedQty[Number((oe=s(m).language)!=null?oe:1)]),1)])]),l("div",_s,[l("h3",vs,d(s(qt)),1),l("p",hs,d((Ke=(Ae=s(i))==null?void 0:Ae.currency)!=null?Ke:""),1)])])])])):k("",!0)]),((Ye=s(U))!=null?Ye:!1)&&s(O)!="close"?(o(),u("div",fs,[((je=s(U).length)!=null?je:!1)&&s(v)!=null?(o(),u("div",ys,[y(fl,{flat:"",bordered:"",rows:s(U),columns:s(te),filterMethod:s(Pt),filter:Ve.value,"onUpdate:filter":t[15]||(t[15]=a=>Ve.value=a),inFullscreen:!0,"no-data-label":"","rows-per-page-options":[0],"visible-columns":s(ve),"virtual-scroll":"","row-key":"id",rowIndex:"true","hide-pagination":"","hide-top":"","hide-bottom":"",class:"fontStyle-dense boxStyle-dense bgnull"},{"header-cell":V(a=>[y(tt,{props:a,class:"fontStyle-dense txtlight"},{default:V(()=>[l("p",ps,d(a.col.name),1)]),_:2},1032,["props"])]),body:V(a=>[y(yl,{props:a,class:""},{default:V(()=>[s(_)==a.rowIndex?(o(),fe(tt,{key:0,colspan:"100%"},{default:V(()=>[l("div",gs,[l("div",ms,[xs,l("i",Ss,d(a.row.phone),1)]),y(Vl,{this_client_Row:s(S)},null,8,["this_client_Row"]),l("div",ws,[l("div",bs,[l("button",{class:"BBoxStyle-dense radiusxxs bgposetive",onClick:t[11]||(t[11]=r=>s(x)._update_foreign())},Os),l("button",{class:"BBoxStyle-dense radiusxxs bgnegative",onClick:t[12]||(t[12]=r=>s(x)._remove())},ks)]),l("button",{class:"BBoxStyle-dense radiusxxs bgnegative",onClick:t[13]||(t[13]=r=>F(_)?_.value=null:_=null)},Ds)])])]),_:2},1024)):(o(!0),u(K,{key:1},J(a.cols,r=>{var q;return o(),u("td",{props:a,style:{"font-size":"0.6em","text-align":"justify"},class:tl(["text-bold text-center",r.name=="name"?"text-center":"text-center "]),key:r.name},[l("div",Ms,[r.name=="served"?(o(),u("div",Us,[l("div",{style:ll(a.row[r.name]=="Requested"?"color:green":"color:grey")},d(a.row[r.name]),5)])):r.name=="store"?(o(),u("div",Qs,[a.row[r.name]=="buy"?(o(),u("div",qs,d(a.row[r.name]),1)):(o(),u("div",Fs,d(a.row[r.name]),1))])):r.name=="description"?(o(),u("div",Ps,[l("button",{class:"BBoxStyle-flat fontStyle-dense ellipsis",style:{},onClick:X=>s(x).selectedIndex_RowDetail(a.row.saleitID,a.rowIndex,"view")},[l("h4",Ns,d(s(H).orderDetail[Number((q=s(m).language)!=null?q:1)]),1)],8,$s)])):r.name=="time"?(o(),u("p",Vs,d(a.row.fcreatedAt),1)):r.name=="action"?(o(),u("div",Ls,[s(_)==a.rowIndex&&s(ee)?(o(),u("div",Es,[l("div",zs,[y(re,{size:"sm",color:"orange",dense:!0,icon:"close",onClick:t[14]||(t[14]=X=>F(_)?_.value=null:_=null),label:"close"}),y(re,{color:"red",size:"xs",dense:!0,icon:"delete",onClick:X=>s(x)._remove(a.rowIndex),label:"delete"},null,8,["onClick"])])])):(o(),u("button",{key:1,class:"BBoxStyle-flat radiusxxs fontStyle-dense bgwarning",onClick:X=>s(x).selectedIndex_({foreignIndex:a.rowIndex,foreignOps:"edit",foreignOpsStatus:null})},Ks,8,Ts))])):(o(),u("p",Ys,d(a.row[r.name]),1))])],10,Bs)}),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","filterMethod","filter","visible-columns"])])):(o(),u("div",js,[l("div",Ws,[y(lt,{class:"col-grow flex flex-center text-grey"},{default:V(()=>[ye("Listening For Buyers ")]),_:1}),(o(),u(K,null,J(10,a=>y(lt,{class:"col-grow flex flex-center",key:a})),64))]),y(el,{inset:""}),Zs]))])):k("",!0)]),(We=s(h))!=null&&We?(o(),u("div",Gs,[l("div",Xs,[(Ge=(Ze=s(h))==null?void 0:Ze.length)==null||Ge?(o(),u("div",Hs,[l("div",Js," # "+d(s(h).length)+" Products & Services ",1),ye(" | "),(o(),u("div",ea,d(s(v)?"Live":"Offline"),1)),ye(" | ")])):k("",!0),ta]),(He=(Xe=s(h))==null?void 0:Xe.length)!=null&&He?(o(),u("div",la,[(o(!0),u(K,null,J(s(h),(a,r)=>{var q,X;return o(),u("div",{class:"col-auto q-gutter-sm column",key:r},[(q=a==null?void 0:a.saleitgr)!=null&&q?(o(),u("div",sa,[l("div",aa,[typeof s(v)=="number"&&s(v)==r?(o(),u("div",na)):k("",!0),a.isOpen?(o(),u("button",{key:1,class:"BBoxStyle-dense p-sidesm radiusmd bggrey fontStyle-dense",onClick:ue=>s(ne).selectedRow_ForeignRows({thisIndex:r,thisOps:"clients",thisOpsCard:null,thisSubOps:null,this_foreignBoxOps:"showOrder"})},[l("h3",oa,d(s(H).livebuyer[Number((X=s(m).language)!=null?X:1)]),1)],8,ia)):k("",!0)]),y(Ol,{src:a.saleitgr[0],style:{"aspect-ratio":"1/1",width:"100%"},class:"col q-pa-xs"},null,8,["src"]),l("div",ua,[l("div",ra,[l("div",ca,[l("button",{class:"BBoxStyle-dense fontStyle-base",onClick:ue=>At(r)},va,8,da),l("button",{class:"BBoxStyle-dense fontStyle-base",onClick:ue=>s(ne)._delRow(null,r,a.id)},ya,8,ha)]),l("div",pa,[l("h5",null," Price: "+d(a.price),1),l("h5",null," Quantity: "+d(a.quantity),1)])]),l("div",ga,[l("div",ma,[y(kl,{modelValue:a._itServiceRating,"onUpdate:modelValue":ue=>a._itServiceRating=ue,max:5,size:"xs",color:"black",onClick:ue=>s(ne)._rating(r)},null,8,["modelValue","onUpdate:modelValue","onClick"]),y(Il,{class:"bg-black"},{default:V(()=>[ye(" Product Reliability Score ")]),_:1}),l("p",null,d(a.catagory)+" ("+d(a.usage)+") ",1)]),l("div",xa,[l("h3",Sa,d(a.tClient),1),wa])])])])):k("",!0)])}),128))])):(o(),u("div",ba," No Items to Display "))])):k("",!0)])],64)}}};export{Kn as default};
