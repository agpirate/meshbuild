import{u as be,b as Se,g as ke}from"./QTooltip.6f1daf1f.js";import{r as B,c as R,w as I,k as i,l as n,f as m,p as w,m as e,q as l,t as S,F as k,y as N,x as ie,n as z,D as ne,v as u,b as U,aK as Ce,b6 as we,a1 as g,z as _,A as Ne,aX as C,b7 as q,b8 as ae,b9 as Ve,C as A,bl as re}from"./index.bc257d95.js";import{k as $e,l as Re,m as qe}from"./crudThisModel.e9537455.js";import{Q as Fe}from"./QItemLabel.f12facf1.js";import{d as Ie}from"./debugMixin.eac55b8f.js";const Ue={key:0},Oe={key:1},je={class:"font-grey200 ps-relative cameraBox-size"},Be={class:"ccolumn"},ze={key:0,class:"ps-absolute parent-fit ccolumn cj-between"},Ae={key:0},Qe={key:1,class:"ccol-grow ccolumn cj-between"},Pe={class:"row",style:{"border-radius":"15px",height:"100px",overflow:"scroll"}},De={class:"fontStyle-sm crow"},Me={key:0,class:"crow ia-center"},Te=l("h4",{class:"font-light"}," close",-1),Ee=[Te],Le=l("h4",{class:"font-light"}," Save",-1),Ge=[Le],He=l("h4",null," Capure",-1),We=[He],Ke={size:"col-auto row"},Xe={key:1},Je={class:"font-grey200"},Ye={key:2},Ze={class:"bgc-grey200"},et=l("i",{class:"ri-upload-2-fill fontStyle-xl font-light"},null,-1),tt={class:"font-light"},st={class:"ccol-grow boxStyle-sm ps-relative crow ia-center cj-center",style:{"min-height":"20vh"}},lt=["src"],ot={key:1,class:""},it={class:"boxStyle-sm p-rlxs ps-absolute parent-fit"},nt={class:"crow cj-end"},at={key:0,class:"",style:{}},rt={class:"column",style:{width:"100%",height:"100%","background-color":"transparent"}},dt=["onClick"],ut=l("div",{class:"col text-dark"},null,-1),ct={class:"ccolumn cgap-1",style:{}},yt={class:"ccolumn cgap-0 ia-center radius-sm bgc-grey25"},mt=l("i",{class:"ri-folder-fill fontStyle-xl font-grey100"},null,-1),gt=[mt],vt=l("i",{class:"ri-camera-fill fontStyle-xl font-grey100"},null,-1),pt=[vt],_t=l("i",{class:"ri-delete-bin-fill fontStyle-xl font-grey"},null,-1),ft=[_t],ht={key:0,class:"boxStyle-flat"},xt={class:"crow cgap-2 cj-evenly yoflow fontStyle-sm"},bt={class:"ccolumn cgap-2"},St={class:"ccolumn cgap-2"},kt={class:"ccolumn cgap-2"},Ct={class:"ccolumn cgap-2"},wt={key:0},Nt={key:0,class:"text-red"},Vt={key:1},$t={key:1,class:"column text-dark bgc-white fontbstyle"},Rt={class:"col fontastyle q-gutter-xs column",style:{"border-radius":"5px",border:"0px solid white"}},qt={class:"justify-end row"},Ft={class:"font-primary"},It={key:0},Ut={class:"crow cgap-1",style:{overflow:"scroll"}},Ot={class:"ccolumn cgap-2"},jt={class:"ccolumn cgap-2"},Bt={class:"ccolumn cgap-2"},zt={key:1},At={class:"column q-gutter-sm"},Qt={key:0,class:"text-red"},Pt={key:1},Dt={key:0,class:"text-red"},Mt={key:1},Jt={__name:"thisCard",props:{_this:{type:Object,default:()=>({})},_pageSettings:{type:Object,default:()=>({})},__thisOps:{type:String,required:!0},__thisOpsStatus:{type:String},active_fileName:{type:String},thisSchemaFile_Rec:{type:String},thisSchemaPath_Rec:{type:String}},emits:["Create_this","Update_this","close"],setup(r,{emit:de}){var W,K,X,J;var{thisSchemaPath:ue,thisSchemaFile:ce,_debugObj:c,_validateThis:d}=be(),{_thisMedia:Tt,_fileAttributeName:O,hasCameraPermission:j,_cameraBox:v,_fileSourceFoCam:Q,_fileAsSRC:f,_fileAsString:ye,_fileAsRaw:P,_liveFeedSRC:me,_fileAsSRCIndex:D,_cameraDevice:ge,_listCameraSource:M,_selectedCameraById:T,_selectedCameraByface:E,_liveFeedRawStreaming:L,_liveFeedRawStreamingStatus:G,_fileSourceFolder:ve,_fileAsSRCOps:h,_fileAsSRCOpsCall:pe,_resetFileSource:Et,get_liveFeedRaw:Lt}=Se();const y=r,H=de;let V=B(null);Ie(y.thisSchemaPath_Rec,y.thisSchemaFile_Rec).then(a=>{a&&(V.value=a)});let x=B(!0);var o=R(()=>y._this);R(()=>y._this),ye=R(()=>(y._this[y.active_fileName],alert(y.active_fileName),""));var b=new ge;I(v,(a,t)=>!0);let _e=B(null);I(L,(a,t)=>(console.log("liveStream :  __  "+a),_e.value=a,!0)),I(j,(a,t)=>(console.log("cameraPermission"+a),!0)),ue=R(()=>y.thisSchemaPath_Rec),ce=R(()=>y.thisSchemaFile_Rec),I(O,(a,t)=>(a&&(o.value[a]=P.value,typeof P.value=="object"?o.value.file_={files:a}:o.value.file_={file:a}),!0));let fe=["Home & Living","Fashion & Apparel","Electronics & Gadgets"];y.__thisOps=="Create_this"&&(d("catagory",(W=o.value.catagory)!=null?W:""),d("price",(K=o.value.price)!=null?K:1),d("quantity",(X=o.value.quantity)!=null?X:1),d("currency",(J=o.value.currency)!=null?J:"ETB"));function he(a){let t=Object.values(c.value).every(F=>F==null),$=O.value?f.value.length:o.value[y.active_fileName].length;if(console.log($,t),!(t&&$))return!1;H(a)}function xe(){H("close",!1)}return(a,t)=>{var $,F,Y,Z,ee,te,se,le,oe;return i(),n(k,null,[m(Ce,{modelValue:e(v),"onUpdate:modelValue":t[4]||(t[4]=s=>U(v)?v.value=s:v=s),class:"overlay-Glass rounded-borders z-top bgc-dark crow",onClick:t[5]||(t[5]=s=>U(v)?v.value=!1:v=!1)},{default:w(()=>[e(Q)=="folder"?(i(),n("div",Ue)):e(Q)=="camera"?(i(),n("div",Oe,[l("div",je,[l("div",Be,[l("video",{clas:"",id:"feedRaw",ref_key:"_liveFeedRawStreaming",ref:L,autoplay:"",playsinline:"",style:{"max-width":"100%"}},null,512),l("canvas",{id:"_liveFeedSRC",ref_key:"_liveFeedSRC",ref:me,style:{display:"none"}},null,512)]),e(j)==!0?(i(),n("div",ze,[e(G)=="init"?(i(),n("div",Ae," Waiting .... ")):S("",!0),e(G)=="ok"?(i(),n("div",Qe,[l("div",Pe,[(i(!0),n(k,null,N(e(f),s=>(i(),n("div",{key:s,style:{margin:"5px"}},[m(ke,{src:s,style:{width:"50px"}},null,8,["src"])]))),128))]),l("div",De,[e(f).length?(i(),n("div",Me,[l("button",{class:"boxStyle-xxs radius-sm bgc-negative",onClick:t[0]||(t[0]=s=>e(b)._stopCamera())},Ee),l("button",{class:"boxStyle-xxs radius-sm bgc-posetive",onClick:t[1]||(t[1]=s=>e(b)._saveScreenShoots())},Ge),ie(" | ")])):S("",!0),l("button",{class:"boxStyle-xxs radius-sm bgc-grey200",onClick:t[2]||(t[2]=s=>e(b)._screenShoot())},We),l("div",Ke,[e(M).length?(i(),z($e,{key:0,"switch-toggle-side":"","expand-separator":"",icon:"camera",size:"xs"},{default:w(()=>[(i(!0),n(k,null,N(e(M),s=>(i(),z(Re,{key:s,class:"row q-gutter-sm"},{default:w(()=>[m(ne,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:e(T)==s.deviceId?"blue":"black",label:s.label?s.label.split("_")[1]:"cam",onClick:p=>e(b)._setCameraParam(s.deviceId,!1)},null,8,["color","label","onClick"]),m(ne,{style:{height:"100%"},"no-caps":"",size:"sm",dense:!0,color:e(T)==s.deviceId?"orange":"black",label:e(E)?"Front Cam":"Back Cam",onClick:p=>e(b)._setCameraParam(s.deviceId,!e(E))},null,8,["color","label","onClick"])]),_:2},1024))),128))]),_:1})):S("",!0)])])])):S("",!0)])):(i(),n("div",Xe,[l("h4",Je,u(e(j)),1),l("button",{onClick:t[3]||(t[3]=s=>e(b)._openCamera())}," Try Again.")]))])])):(i(),n("div",Ye," Error Accessing System, please allow on settting for Location and Media Devices "))]),_:1},8,["modelValue"]),l("div",{class:"fixed-topleft size-fill layer7 p-sm boxStyle-md crow cj-center ia-center",onClick:t[34]||(t[34]=s=>xe()),style:{"max-width":"90vw"}},[Object.keys(e(o)).length&&e(V)?(i(),n("div",{key:0,class:"ccolumn radius-xxs",onClick:t[33]||(t[33]=we(()=>{},["stop"]))},[l("div",Ze,[l("button",{class:g(["boxStyle-xxs radius-xxs crow cgap-1 ia-center fontStyle-sm",r.__thisOps=="Create_this"?"bgc-system":"bgc-grey"]),onClick:t[6]||(t[6]=s=>he(r.__thisOps))},[et,l("h4",tt,u(e(_)[r.__thisOps+"_label"][Number(($=r._pageSettings.language)!=null?$:1)]),1)],2)]),m(qe,{value:.8,color:"orange"}),l("div",st,[(F=e(o)[r.active_fileName])!=null&&F?(i(),n("img",{key:0,class:"",src:e(O)?e(f)[e(D)]:e(o)[r.active_fileName][e(D)],style:{"max-width":"40vw"}},null,8,lt)):(i(),n("div",ot," Image Required ")),l("div",it,[l("div",nt,[e(f)&&e(f).length>1?(i(),n("div",at,[l("div",rt,[(i(!0),n(k,null,N(e(f).length,s=>(i(),n("button",{style:{"border-radius":"0px","box-shadow":"none","background-color":"transparent",border:"0px"},onClick:p=>e(pe)(s-1),key:s},[l("input",{style:Ne(e(h)?"color:red":""),type:"radio"},null,4)],8,dt))),128))])])):S("",!0),ut,l("div",ct,[l("input",{type:"file",multiple:"",ref:"openFolder",style:{display:"none"},onChange:t[7]||(t[7]=s=>e(ve)(s,r.active_fileName))},null,544),l("div",yt,[l("button",{class:"boxStyle-xxs fontStyle-md font-grey25",style:{"min-width":"2vw"},onClick:t[8]||(t[8]=s=>a.$refs.openFolder.click())},gt),l("button",{class:"boxStyle-xxs",style:{"min-width":"2vw"},onClick:t[9]||(t[9]=s=>e(b)._openCamera("saleitgr"))},pt),l("button",{style:{"background-color":"transparent",border:"0px"},onClick:t[10]||(t[10]=s=>U(h)?h.value=!e(h):h=!e(h)),class:g(e(h)?"font-negative":"")},ft,2)])])])])]),r.__thisOps=="Create_this"?(i(),n("div",ht,[l("div",xt,[l("div",bt,[l("h5",{class:g(e(c).quantity?"font-negative":"font-primary")},u(e(_).quantity[Number((Y=r._pageSettings.language)!=null?Y:1)]),3),C(l("input",{type:"Number",class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[11]||(t[11]=s=>e(o).quantity=s),onInput:t[12]||(t[12]=s=>e(d)("quantity",e(o).quantity))},null,544),[[q,e(o).quantity]])]),l("div",St,[l("h5",{class:g(e(c).price?"font-negative":"font-primary")},u(e(_).price[Number((Z=r._pageSettings.language)!=null?Z:1)]),3),C(l("input",{type:"Number",class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[13]||(t[13]=s=>e(o).price=s),onInput:t[14]||(t[14]=s=>e(d)("price",e(o).price))},null,544),[[q,e(o).price]])]),l("div",kt,[l("h5",{class:g(e(c).currency?"font-negative":"font-primary")},u(e(_).currency[Number((ee=r._pageSettings.language)!=null?ee:1)]),3),C(l("select",{class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[15]||(t[15]=s=>e(o).currency=s),onInput:t[16]||(t[16]=s=>e(d)("currency",e(o).currency))},[(i(!0),n(k,null,N(e(V).currency.enum,s=>(i(),n("option",{key:s},u(s),1))),128))],544),[[ae,e(o).currency]])])]),l("div",null,[l("div",Ct,[l("h5",{class:g(e(c).catagory?"font-negative":"font-primary")},u(e(_).catagory[Number((te=r._pageSettings.language)!=null?te:1)]),3),C(l("select",{type:"Number",class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[17]||(t[17]=s=>e(o).catagory=s),onInput:t[18]||(t[18]=s=>{var p;return e(d)("catagory",(p=e(o).catagory)!=null?p:"Others")})},[(i(!0),n(k,null,N(e(V).catagory.enum,s=>(i(),n("option",{key:s},u(s),1))),128))],544),[[ae,e(o).catagory]])])]),e(fe).includes(e(o).catagory)?(i(),n("div",wt,[(i(!0),n(k,null,N(e(V).usage.enum,s=>(i(),z(Ve,{"keep-color":"","left-label":"",size:"md",modelValue:e(o).usage,"onUpdate:modelValue":t[19]||(t[19]=p=>e(o).usage=p),val:s,label:s,color:"black",key:s,onChange:t[20]||(t[20]=p=>e(d)("usage",e(o).usage))},null,8,["modelValue","val","label"]))),128)),e(c).usage?(i(),n("u",Nt," Used or New ? ")):(i(),n("u",Vt," Used or New ? "))])):S("",!0)])):(i(),n("div",$t,[l("fieldset",Rt,[l("div",qt,[l("button",{onClick:t[21]||(t[21]=s=>U(x)?x.value=!e(x):x=!e(x)),class:"boxStyle-xxs"},[l("h5",Ft,u(e(x)?"Next":"Back"),1)])]),m(A,{inset:""}),e(x)?(i(),n("div",It,[l("div",Ut,[l("div",Ot,[l("h5",{class:g(e(c).quantity?"font-negative":"font-primary")},u(e(_).quantity[Number((se=r._pageSettings.language)!=null?se:1)]),3),C(l("input",{type:"Number",class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[22]||(t[22]=s=>e(o).quantity=s),onInput:t[23]||(t[23]=s=>e(d)("quantity",e(o).quantity))},null,544),[[q,e(o).quantity]])]),l("div",jt,[l("h5",{class:g(e(c).price?"font-negative":"font-primary")}," sss "+u(e(_).price[Number((le=r._pageSettings.language)!=null?le:1)]),3),C(l("input",{type:"Number",class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[24]||(t[24]=s=>e(o).price=s),onInput:t[25]||(t[25]=s=>e(d)("price",e(o).price))},null,544),[[q,e(o).price]])]),l("div",Bt,[l("h5",{class:g(e(c).discount?"font-negative":"font-primary")},u(e(_).discount[Number((oe=r._pageSettings.language)!=null?oe:1)]),3),C(l("input",{type:"Number",class:"boxStyle-xxs radius-xxs","onUpdate:modelValue":t[26]||(t[26]=s=>e(o).discount=s),onInput:t[27]||(t[27]=s=>e(d)("discount",e(o).discount)),onChange:t[28]||(t[28]=s=>e(d)("discount",e(o).discount)),style:{"max-width":"95%"}},null,544),[[q,e(o).discount]])])])])):(i(),n("div",zt,[l("div",At,[m(re,{class:"col-md col-xs q-pa-sm",style:{},outlined:"",modelValue:e(o).header,"onUpdate:modelValue":t[29]||(t[29]=s=>e(o).header=s),label:"Header",onChange:t[30]||(t[30]=s=>e(d)("header",e(o).header))},{default:w(()=>[e(c).header?(i(),n("u",Qt," Title ")):(i(),n("u",Pt," Title "))]),_:1},8,["modelValue"]),m(re,{outlined:"",modelValue:e(o).content,"onUpdate:modelValue":t[31]||(t[31]=s=>e(o).content=s),onChange:t[32]||(t[32]=s=>e(d)("content",e(o).content)),label:"Content",style:{},filled:"",autogrow:""},{default:w(()=>[e(c).content?(i(),n("u",Dt," Description ")):(i(),n("u",Mt," Description "))]),_:1},8,["modelValue"])]),m(A,{inset:""}),m(Fe,{caption:""},{default:w(()=>[ie(" Notes to be displayed !")]),_:1})])),m(A,{inset:""})])]))])):S("",!0)])],64)}}};export{Jt as _};
